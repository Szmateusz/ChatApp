"!==e.type&&(N[N.length-1].inner+=e.value),(e.value||e.output)&&K(e),q&&"text"===q.type&&"text"===e.type)return q.value+=e.value,void(q.output=(q.output||"")+e.value);e.prev=q,g.push(e),q=e},Z=(e,t)=>{const n={...w[t],conditions:1,inner:""};n.prev=q,n.parens=L.parens,n.output=L.output;const i=(r.capture?"(":"")+n.open;Q("parens"),Y({type:e,value:t,output:L.output?"":P}),Y({type:"paren",extglob:!0,value:W(),output:i}),N.push(n)},ee=e=>{let n,i=e.close+(r.capture?")":"");if("negate"===e.type){let o=I;if(e.inner&&e.inner.length>1&&e.inner.includes("/")&&(o=j(r)),(o!==I||V()||/^\)+$/.test(G()))&&(i=e.close=`)$))${o}`),e.inner.includes("*")&&(n=G())&&/^\.[^\\/.]+$/.test(n)){const r=d(n,{...t,fastpaths:!1}).output;i=e.close=`)${r})${o})`}"bos"===e.prev.type&&(L.negatedExtglob=!0)}Y({type:"paren",extglob:!0,value:U,output:i}),X("parens")};if(!1!==r.fastpaths&&!/(^[*!]|[/()[\]{}"])/.test(e)){let n=!1,o=e.replace(c,((e,t,r,i,o,s)=>"\\"===i?(n=!0,e):"?"===i?t?t+i+(o?O.repeat(o.length):""):0===s?F+(o?O.repeat(o.length):""):O.repeat(r.length):"."===i?_.repeat(r.length):"*"===i?t?t+i+(o?I:""):I:t?e:`\\${e}`));return!0===n&&(o=!0===r.unescape?o.replace(/\\/g,""):o.replace(/\\+/g,(e=>e.length%2==0?"\\\\":e?"\\":""))),o===e&&!0===r.contains?(L.output=e,L):(L.output=i.wrapOutput(o,L,t),L)}for(;!V();){if(U=W(),"\0"===U)continue;if("\\"===U){const e=H();if("/"===e&&!0!==r.bash)continue;if("."===e||";"===e)continue;if(!e){U+="\\",Y({type:"text",value:U});continue}const t=/^\\+/.exec(G());let n=0;if(t&&t[0].length>2&&(n=t[0].length,L.index+=n,n%2!=0&&(U+="\\")),!0===r.unescape?U=W():U+=W(),0===L.brackets){Y({type:"text",value:U});continue}}if(L.brackets>0&&("]"!==U||"["===q.value||"[^"===q.value)){if(!1!==r.posix&&":"===U){const e=q.value.slice(1);if(e.includes("[")&&(q.posix=!0,e.includes(":"))){const e=q.value.lastIndexOf("["),t=q.value.slice(0,e),r=q.value.slice(e+2),n=s[r];if(n){q.value=t+n,L.backtrack=!0,W(),m.output||1!==g.indexOf(q)||(m.output=P);continue}}}("["===U&&":"!==H()||"-"===U&&"]"===H())&&(U=`\\${U}`),"]"!==U||"["!==q.value&&"[^"!==q.value||(U=`\\${U}`),!0===r.posix&&"!"===U&&"["===q.value&&(U="^"),q.value+=U,K({value:U});continue}if(1===L.quotes&&'"'!==U){U=i.escapeRegex(U),q.value+=U,K({value:U});continue}if('"'===U){L.quotes=1===L.quotes?0:1,!0===r.keepQuotes&&Y({type:"text",value:U});continue}if("("===U){Q("parens"),Y({type:"paren",value:U});continue}if(")"===U){if(0===L.parens&&!0===r.strictBrackets)throw new SyntaxError(p("opening","("));const e=N[N.length-1];if(e&&L.parens===e.parens+1){ee(N.pop());continue}Y({type:"paren",value:U,output:L.parens?")":"\\)"}),X("parens");continue}if("["===U){if(!0!==r.nobracket&&G().includes("]"))Q("brackets");else{if(!0!==r.nobracket&&!0===r.strictBrackets)throw new SyntaxError(p("closing","]"));U=`\\${U}`}Y({type:"bracket",value:U});continue}if("]"===U){if(!0===r.nobracket||q&&"bracket"===q.type&&1===q.value.length){Y({type:"text",value:U,output:`\\${U}`});continue}if(0===L.brackets){if(!0===r.strictBrackets)throw new SyntaxError(p("opening","["));Y({type:"text",value:U,output:`\\${U}`});continue}X("brackets");const e=q.value.slice(1);if(!0===q.posix||"^"!==e[0]||e.includes("/")||(U=`/${U}`),q.value+=U,K({value:U}),!1===r.literalBrackets||i.hasRegexChars(e))continue;const t=i.escapeRegex(q.value);if(L.output=L.output.slice(0,-q.value.length),!0===r.literalBrackets){L.output+=t,q.value=t;continue}q.value=`(${y}${t}|${q.value})`,L.output+=q.value;continue}if("{"===U&&!0!==r.nobrace){Q("braces");const e={type:"brace",value:U,output:"(",outputIndex:L.output.length,tokensIndex:L.tokens.length};B.push(e),Y(e);continue}if("}"===U){const e=B[B.length-1];if(!0===r.nobrace||!e){Y({type:"text",value:U,output:U});continue}let t=")";if(!0===e.dots){const e=g.slice(),n=[];for(let t=e.length-1;t>=0&&(g.pop(),"brace"!==e[t].type);t--)"dots"!==e[t].type&&n.unshift(e[t].value);t=l(n,r),L.backtrack=!0}if(!0!==e.comma&&!0!==e.dots){const r=L.output.slice(0,e.outputIndex),n=L.tokens.slice(e.tokensIndex);e.value=e.output="\\{",U=t="\\}",L.output=r;for(const e of n)L.output+=e.output||e.value}Y({type:"brace",value:U,output:t}),X("braces"),B.pop();continue}if("|"===U){N.length>0&&N[N.length-1].conditions++,Y({type:"text",value:U});continue}if(","===U){let e=U;const t=B[B.length-1];t&&"braces"===$[$.length-1]&&(t.comma=!0,e="|"),Y({type:"comma",value:U,output:e});continue}if("/"===U){if("dot"===q.type&&L.index===L.start+1){L.start=L.index+1,L.consumed="",L.output="",g.pop(),q=m;continue}Y({type:"slash",value:U,output:k});continue}if("."===U){if(L.braces>0&&"dot"===q.type){"."===q.value&&(q.output=_);const e=B[B.length-1];q.type="dots",q.output+=U,q.value+=U,e.dots=!0;continue}if(L.braces+L.parens===0&&"bos"!==q.type&&"slash"!==q.type){Y({type:"text",value:U,output:_});continue}Y({type:"dot",value:U,output:_});continue}if("?"===U){if((!q||"("!==q.value)&&!0!==r.noextglob&&"("===H()&&"?"!==H(2)){Z("qmark",U);continue}if(q&&"paren"===q.type){const e=H();let t=U;if("<"===e&&!i.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("===q.value&&!/[!=<:]/.test(e)||"<"===e&&!/<([!=]|\w+>)/.test(G()))&&(t=`\\${U}`),Y({type:"text",value:U,output:t});continue}if(!0!==r.dot&&("slash"===q.type||"bos"===q.type)){Y({type:"qmark",value:U,output:A});continue}Y({type:"qmark",value:U,output:O});continue}if("!"===U){if(!0!==r.noextglob&&"("===H()&&("?"!==H(2)||!/[!=<:]/.test(H(3)))){Z("negate",U);continue}if(!0!==r.nonegate&&0===L.index){J();continue}}if("+"===U){if(!0!==r.noextglob&&"("===H()&&"?"!==H(2)){Z("plus",U);continue}if(q&&"("===q.value||!1===r.regex){Y({type:"plus",value:U,output:S});continue}if(q&&("bracket"===q.type||"paren"===q.type||"brace"===q.type)||L.parens>0){Y({type:"plus",value:U});continue}Y({type:"plus",value:S});continue}if("@"===U){if(!0!==r.noextglob&&"("===H()&&"?"!==H(2)){Y({type:"at",extglob:!0,value:U,output:""});continue}Y({type:"text",value:U});continue}if("*"!==U){"$"!==U&&"^"!==U||(U=`\\${U}`);const e=a.exec(G());e&&(U+=e[0],L.index+=e[0].length),Y({type:"text",value:U});continue}if(q&&("globstar"===q.type||!0===q.star)){q.type="star",q.star=!0,q.value+=U,q.output=I,L.backtrack=!0,L.globstar=!0,z(U);continue}let t=G();if(!0!==r.noextglob&&/^\([^?]/.test(t)){Z("star",U);continue}if("star"===q.type){if(!0===r.noglobstar){z(U);continue}const n=q.prev,i=n.prev,o="slash"===n.type||"bos"===n.type,s=i&&("star"===i.type||"globstar"===i.type);if(!0===r.bash&&(!o||t[0]&&"/"!==t[0])){Y({type:"star",value:U,output:""});continue}const a=L.braces>0&&("comma"===n.type||"brace"===n.type),c=N.length&&("pipe"===n.type||"paren"===n.type);if(!o&&"paren"!==n.type&&!a&&!c){Y({type:"star",value:U,output:""});continue}for(;"/**"===t.slice(0,3);){const r=e[L.index+4];if(r&&"/"!==r)break;t=t.slice(3),z("/**",3)}if("bos"===n.type&&V()){q.type="globstar",q.value+=U,q.output=j(r),L.output=q.output,L.globstar=!0,z(U);continue}if("slash"===n.type&&"bos"!==n.prev.type&&!s&&V()){L.output=L.output.slice(0,-(n.output+q.output).length),n.output=`(?:${n.output}`,q.type="globstar",q.output=j(r)+(r.strictSlashes?")":"|$)"),q.value+=U,L.globstar=!0,L.output+=n.output+q.output,z(U);continue}if("slash"===n.type&&"bos"!==n.prev.type&&"/"===t[0]){const e=void 0!==t[1]?"|$":"";L.output=L.output.slice(0,-(n.output+q.output).length),n.output=`(?:${n.output}`,q.type="globstar",q.output=`${j(r)}${k}|${k}${e})`,q.value+=U,L.output+=n.output+q.output,L.globstar=!0,z(U+W()),Y({type:"slash",value:"/",output:""});continue}if("bos"===n.type&&"/"===t[0]){q.type="globstar",q.value+=U,q.output=`(?:^|${k}|${j(r)}${k})`,L.output=q.output,L.globstar=!0,z(U+W()),Y({type:"slash",value:"/",output:""});continue}L.output=L.output.slice(0,-q.output.length),q.type="globstar",q.output=j(r),q.value+=U,L.output+=q.output,L.globstar=!0,z(U);continue}const n={type:"star",value:U,output:I};!0!==r.bash?!q||"bracket"!==q.type&&"paren"!==q.type||!0!==r.regex?(L.index!==L.start&&"slash"!==q.type&&"dot"!==q.type||("dot"===q.type?(L.output+=E,q.output+=E):!0===r.dot?(L.output+=D,q.output+=D):(L.output+=R,q.output+=R),"*"!==H()&&(L.output+=P,q.output+=P)),Y(n)):(n.output=U,Y(n)):(n.output=".*?","bos"!==q.type&&"slash"!==q.type||(n.output=R+n.output),Y(n))}for(;L.brackets>0;){if(!0===r.strictBrackets)throw new SyntaxError(p("closing","]"));L.output=i.escapeLast(L.output,"["),X("brackets")}for(;L.parens>0;){if(!0===r.strictBrackets)throw new SyntaxError(p("closing",")"));L.output=i.escapeLast(L.output,"("),X("parens")}for(;L.braces>0;){if(!0===r.strictBrackets)throw new SyntaxError(p("closing","}"));L.output=i.escapeLast(L.output,"{"),X("braces")}if(!0===r.strictSlashes||"star"!==q.type&&"bracket"!==q.type||Y({type:"maybe_slash",value:"",output:`${k}?`}),!0===L.backtrack){L.output="";for(const e of L.tokens)L.output+=null!=e.output?e.output:e.value,e.suffix&&(L.output+=e.suffix)}return L};d.fastpaths=(e,t)=>{const r={...t},s="number"==typeof r.maxLength?Math.min(o,r.maxLength):o,a=e.length;if(a>s)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${s}`);e=u[e]||e;const c=i.isWindows(t),{DOT_LITERAL:l,SLASH_LITERAL:p,ONE_CHAR:d,DOTS_SLASH:h,NO_DOT:f,NO_DOTS:m,NO_DOTS_SLASH:g,STAR:y,START_ANCHOR:b}=n.globChars(c),v=r.dot?m:f,w=r.dot?g:f,_=r.capture?"":"?:";let S=!0===r.bash?".*?":y;r.capture&&(S=`(${S})`);const k=e=>!0===e.noglobstar?S:`(${_}(?:(?!${b}${e.dot?h:l}).)*?)`,P=e=>{switch(e){case"*":return`${v}${d}${S}`;case".*":return`${l}${d}${S}`;case"*.*":return`${v}${S}${l}${d}${S}`;case"*/*":return`${v}${S}${p}${d}${w}${S}`;case"**":return v+k(r);case"**/*":return`(?:${v}${k(r)}${p})?${w}${d}${S}`;case"**/*.*":return`(?:${v}${k(r)}${p})?${w}${S}${l}${d}${S}`;case"**/.*":return`(?:${v}${k(r)}${p})?${l}${d}${S}`;default:{const t=/^(.*?)\.(\w+)$/.exec(e);if(!t)return;const r=P(t[1]);if(!r)return;return r+l+t[2]}}},x=i.removePrefix(e,{negated:!1,prefix:""});let C=P(x);return C&&!0!==r.strictSlashes&&(C+=`${p}?`),C},e.exports=d},53442:(e,t,r)=>{"use strict";const n=r(71017),i=r(97965),o=r(61159),s=r(95266),a=r(87654),c=(e,t,r=!1)=>{if(Array.isArray(e)){const n=e.map((e=>c(e,t,r))),i=e=>{for(const t of n){const r=t(e);if(r)return r}return!1};return i}const n=(i=e)&&"object"==typeof i&&!Array.isArray(i)&&e.tokens&&e.input;var i;if(""===e||"string"!=typeof e&&!n)throw new TypeError("Expected pattern to be a non-empty string");const o=t||{},a=s.isWindows(t),u=n?c.compileRe(e,t):c.makeRe(e,t,!1,!0),l=u.state;delete u.state;let p=()=>!1;if(o.ignore){const e={...t,ignore:null,onMatch:null,onResult:null};p=c(o.ignore,e,r)}const d=(r,n=!1)=>{const{isMatch:i,match:s,output:d}=c.test(r,u,t,{glob:e,posix:a}),h={glob:e,state:l,regex:u,posix:a,input:r,output:d,match:s,isMatch:i};return"function"==typeof o.onResult&&o.onResult(h),!1===i?(h.isMatch=!1,!!n&&h):p(r)?("function"==typeof o.onIgnore&&o.onIgnore(h),h.isMatch=!1,!!n&&h):("function"==typeof o.onMatch&&o.onMatch(h),!n||h)};return r&&(d.state=l),d};c.test=(e,t,r,{glob:n,posix:i}={})=>{if("string"!=typeof e)throw new TypeError("Expected input to be a string");if(""===e)return{isMatch:!1,output:""};const o=r||{},a=o.format||(i?s.toPosixSlashes:null);let u=e===n,l=u&&a?a(e):e;return!1===u&&(l=a?a(e):e,u=l===n),!1!==u&&!0!==o.capture||(u=!0===o.matchBase||!0===o.basename?c.matchBase(e,t,r,i):t.exec(l)),{isMatch:Boolean(u),match:u,output:l}},c.matchBase=(e,t,r,i=s.isWindows(r))=>(t instanceof RegExp?t:c.makeRe(t,r)).test(n.basename(e)),c.isMatch=(e,t,r)=>c(t,r)(e),c.parse=(e,t)=>Array.isArray(e)?e.map((e=>c.parse(e,t))):o(e,{...t,fastpaths:!1}),c.scan=(e,t)=>i(e,t),c.compileRe=(e,t,r=!1,n=!1)=>{if(!0===r)return e.output;const i=t||{},o=i.contains?"":"^",s=i.contains?"":"$";let a=`${o}(?:${e.output})${s}`;e&&!0===e.negated&&(a=`^(?!${a}).*$`);const u=c.toRegex(a,t);return!0===n&&(u.state=e),u},c.makeRe=(e,t={},r=!1,n=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return!1===t.fastpaths||"."!==e[0]&&"*"!==e[0]||(i.output=o.fastpaths(e,t)),i.output||(i=o(e,t)),c.compileRe(i,t,r,n)},c.toRegex=(e,t)=>{try{const r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},c.constants=a,e.exports=c},97965:(e,t,r)=>{"use strict";const n=r(95266),{CHAR_ASTERISK:i,CHAR_AT:o,CHAR_BACKWARD_SLASH:s,CHAR_COMMA:a,CHAR_DOT:c,CHAR_EXCLAMATION_MARK:u,CHAR_FORWARD_SLASH:l,CHAR_LEFT_CURLY_BRACE:p,CHAR_LEFT_PARENTHESES:d,CHAR_LEFT_SQUARE_BRACKET:h,CHAR_PLUS:f,CHAR_QUESTION_MARK:m,CHAR_RIGHT_CURLY_BRACE:g,CHAR_RIGHT_PARENTHESES:y,CHAR_RIGHT_SQUARE_BRACKET:b}=r(87654),v=e=>e===l||e===s,w=e=>{!0!==e.isPrefix&&(e.depth=e.isGlobstar?1/0:1)};e.exports=(e,t)=>{const r=t||{},_=e.length-1,S=!0===r.parts||!0===r.scanToEnd,k=[],P=[],x=[];let C,E,D=e,O=-1,A=0,M=0,T=!1,j=!1,R=!1,F=!1,I=!1,L=!1,N=!1,B=!1,$=!1,U=!1,q=0,V={value:"",depth:0,isGlob:!1};const H=()=>O>=_,W=()=>(C=E,D.charCodeAt(++O));for(;O<_;){let e;if(E=W(),E!==s){if(!0===L||E===p){for(q++;!0!==H()&&(E=W());)if(E!==s)if(E!==p){if(!0!==L&&E===c&&(E=W())===c){if(T=V.isBrace=!0,R=V.isGlob=!0,U=!0,!0===S)continue;break}if(!0!==L&&E===a){if(T=V.isBrace=!0,R=V.isGlob=!0,U=!0,!0===S)continue;break}if(E===g&&(q--,0===q)){L=!1,T=V.isBrace=!0,U=!0;break}}else q++;else N=V.backslashes=!0,W();if(!0===S)continue;break}if(E!==l){if(!0!==r.noext&&!0==(E===f||E===o||E===i||E===m||E===u)&&D.charCodeAt(O+1)===d){if(R=V.isGlob=!0,F=V.isExtglob=!0,U=!0,E===u&&O===A&&($=!0),!0===S){for(;!0!==H()&&(E=W());)if(E!==s){if(E===y){R=V.isGlob=!0,U=!0;break}}else N=V.backslashes=!0,E=W();continue}break}if(E===i){if(C===i&&(I=V.isGlobstar=!0),R=V.isGlob=!0,U=!0,!0===S)continue;break}if(E===m){if(R=V.isGlob=!0,U=!0,!0===S)continue;break}if(E===h){for(;!0!==H()&&(e=W());)if(e!==s){if(e===b){j=V.isBracket=!0,R=V.isGlob=!0,U=!0;break}}else N=V.backslashes=!0,W();if(!0===S)continue;break}if(!0===r.nonegate||E!==u||O!==A){if(!0!==r.noparen&&E===d){if(R=V.isGlob=!0,!0===S){for(;!0!==H()&&(E=W());)if(E!==d){if(E===y){U=!0;break}}else N=V.backslashes=!0,E=W();continue}break}if(!0===R){if(U=!0,!0===S)continue;break}}else B=V.negated=!0,A++}else{if(k.push(O),P.push(V),V={value:"",depth:0,isGlob:!1},!0===U)continue;if(C===c&&O===A+1){A+=2;continue}M=O+1}}else N=V.backslashes=!0,E=W(),E===p&&(L=!0)}!0===r.noext&&(F=!1,R=!1);let G=D,z="",K="";A>0&&(z=D.slice(0,A),D=D.slice(A),M-=A),G&&!0===R&&M>0?(G=D.slice(0,M),K=D.slice(M)):!0===R?(G="",K=D):G=D,G&&""!==G&&"/"!==G&&G!==D&&v(G.charCodeAt(G.length-1))&&(G=G.slice(0,-1)),!0===r.unescape&&(K&&(K=n.removeBackslashes(K)),G&&!0===N&&(G=n.removeBackslashes(G)));const J={prefix:z,input:e,start:A,base:G,glob:K,isBrace:T,isBracket:j,isGlob:R,isExtglob:F,isGlobstar:I,negated:B,negatedExtglob:$};if(!0===r.tokens&&(J.maxDepth=0,v(E)||P.push(V),J.tokens=P),!0===r.parts||!0===r.tokens){let t;for(let n=0;n<k.length;n++){const i=t?t+1:A,o=k[n],s=e.slice(i,o);r.tokens&&(0===n&&0!==A?(P[n].isPrefix=!0,P[n].value=z):P[n].value=s,w(P[n]),J.maxDepth+=P[n].depth),0===n&&""===s||x.push(s),t=o}if(t&&t+1<e.length){const n=e.slice(t+1);x.push(n),r.tokens&&(P[P.length-1].value=n,w(P[P.length-1]),J.maxDepth+=P[P.length-1].depth)}J.slashes=k,J.parts=x}return J}},95266:(e,t,r)=>{"use strict";const n=r(71017),i="win32"===process.platform,{REGEX_BACKSLASH:o,REGEX_REMOVE_BACKSLASH:s,REGEX_SPECIAL_CHARS:a,REGEX_SPECIAL_CHARS_GLOBAL:c}=r(87654);t.isObject=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),t.hasRegexChars=e=>a.test(e),t.isRegexChar=e=>1===e.length&&t.hasRegexChars(e),t.escapeRegex=e=>e.replace(c,"\\$1"),t.toPosixSlashes=e=>e.replace(o,"/"),t.removeBackslashes=e=>e.replace(s,(e=>"\\"===e?"":e)),t.supportsLookbehinds=()=>{const e=process.version.slice(1).split(".").map(Number);return 3===e.length&&e[0]>=9||8===e[0]&&e[1]>=10},t.isWindows=e=>e&&"boolean"==typeof e.windows?e.windows:!0===i||"\\"===n.sep,t.escapeLast=(e,r,n)=>{const i=e.lastIndexOf(r,n);return-1===i?e:"\\"===e[i-1]?t.escapeLast(e,r,i-1):`${e.slice(0,i)}\\${e.slice(i)}`},t.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r},t.wrapOutput=(e,t={},r={})=>{let n=`${r.contains?"":"^"}(?:${e})${r.contains?"":"$"}`;return!0===t.negated&&(n=`(?:^(?!${n}).*$)`),n}},43239:e=>{"use strict";var t=function(e,t,r){return function(){for(var n=this,i=new Array(arguments.length),o=0;o<arguments.length;o++)i[o]=arguments[o];return new t((function(t,o){i.push((function(e,n){if(e)o(e);else if(r.multiArgs){for(var i=new Array(arguments.length-1),s=1;s<arguments.length;s++)i[s-1]=arguments[s];t(i)}else t(n)})),e.apply(n,i)}))}},r=e.exports=function(e,r,n){"function"!=typeof r&&(n=r,r=Promise),(n=n||{}).exclude=n.exclude||[/.+Sync$/];var i="function"==typeof e?function(){return n.excludeMain?e.apply(this,arguments):t(e,r,n).apply(this,arguments)}:{};return Object.keys(e).reduce((function(i,o){var s=e[o];return i[o]="function"==typeof s&&function(e){var t=function(t){return"string"==typeof t?e===t:t.test(e)};return n.include?n.include.some(t):!n.exclude.some(t)}(o)?t(s,r,n):s,i}),i)};r.all=r},51842:(e,t,r)=>{"use strict";e.exports="function"==typeof Promise?Promise:r(6163)},6163:e=>{"use strict";var t,r="pending",n="settled",i="fulfilled",o="rejected",s=function(){},a="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,c="undefined"==typeof setImmediate?setTimeout:setImmediate,u=[];function l(){for(var e=0;e<u.length;e++)u[e][0](u[e][1]);u=[],t=!1}function p(e,r){u.push([e,r]),t||(t=!0,c(l,0))}function d(e){var t=e.owner,r=t._state,n=t._data,s=e[r],a=e.then;if("function"==typeof s){r=i;try{n=s(n)}catch(e){g(a,e)}}h(a,n)||(r===i&&f(a,n),r===o&&g(a,n))}function h(e,t){var r;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"==typeof t||"object"==typeof t)){var n=t.then;if("function"==typeof n)return n.call(t,(function(n){r||(r=!0,t===n?m(e,n):f(e,n))}),(function(t){r||(r=!0,g(e,t))})),!0}}catch(t){return r||g(e,t),!0}return!1}function f(e,t){e!==t&&h(e,t)||m(e,t)}function m(e,t){e._state===r&&(e._state=n,e._data=t,p(b,e))}function g(e,t){e._state===r&&(e._state=n,e._data=t,p(v,e))}function y(e){e._then=e._then.forEach(d)}function b(e){e._state=i,y(e)}function v(e){e._state=o,y(e),!e._handled&&a&&global.process.emit("unhandledRejection",e._data,e)}function w(e){global.process.emit("rejectionHandled",e)}function _(e){if("function"!=typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof _==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(e,t){function r(e){g(t,e)}try{e((function(e){f(t,e)}),r)}catch(e){r(e)}}(e,this)}_.prototype={constructor:_,_state:r,_then:null,_data:void 0,_handled:!1,then:function(e,t){var r={owner:this,then:new this.constructor(s),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,this._state===o&&a&&p(w,this)),this._state===i||this._state===o?p(d,r):this._then.push(r),r.then},catch:function(e){return this.then(null,e)}},_.all=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.all().");return new _((function(t,r){var n=[],i=0;function o(e){return i++,function(r){n[e]=r,--i||t(n)}}for(var s,a=0;a<e.length;a++)(s=e[a])&&"function"==typeof s.then?s.then(o(a),r):n[a]=s;i||t(n)}))},_.race=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.race().");return new _((function(t,r){for(var n,i=0;i<e.length;i++)(n=e[i])&&"function"==typeof n.then?n.then(t,r):t(n)}))},_.resolve=function(e){return e&&"object"==typeof e&&e.constructor===_?e:new _((function(t){t(e)}))},_.reject=function(e){return new _((function(t,r){r(e)}))},e.exports=_},65952:e=>{"use strict";"undefined"==typeof process||!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,r,n){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,o,s=arguments.length;switch(s){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick((function(){e.call(null,t)}));case 3:return process.nextTick((function(){e.call(null,t,r)}));case 4:return process.nextTick((function(){e.call(null,t,r,n)}));default:for(i=new Array(s-1),o=0;o<i.length;)i[o++]=arguments[o];return process.nextTick((function(){e.apply(null,i)}))}}}:e.exports=process},15637:(e,t,r)=>{"pseudomap"===process.env.npm_package_name&&"test"===process.env.npm_lifecycle_script&&(process.env.TEST_PSEUDOMAP="true"),"function"!=typeof Map||process.env.TEST_PSEUDOMAP?e.exports=r(45411):e.exports=Map},45411:e=>{var t=Object.prototype.hasOwnProperty;function r(e){if(!(this instanceof r))throw new TypeError("Constructor PseudoMap requires 'new'");if(this.clear(),e)if(e instanceof r||"function"==typeof Map&&e instanceof Map)e.forEach((function(e,t){this.set(t,e)}),this);else{if(!Array.isArray(e))throw new TypeError("invalid argument");e.forEach((function(e){this.set(e[0],e[1])}),this)}}function n(e,t){return e===t||e!=e&&t!=t}function i(e,t,r){this.key=e,this.value=t,this._index=r}function o(e,r){for(var i=0,o="_"+r,s=o;t.call(e,s);s=o+i++)if(n(e[s].key,r))return e[s]}e.exports=r,r.prototype.forEach=function(e,t){t=t||this,Object.keys(this._data).forEach((function(r){"size"!==r&&e.call(t,this._data[r].value,this._data[r].key)}),this)},r.prototype.has=function(e){return!!o(this._data,e)},r.prototype.get=function(e){var t=o(this._data,e);return t&&t.value},r.prototype.set=function(e,r){!function(e,r,o){for(var s=0,a="_"+r,c=a;t.call(e,c);c=a+s++)if(n(e[c].key,r))return void(e[c].value=o);e.size++,e[c]=new i(r,o,c)}(this._data,e,r)},r.prototype.delete=function(e){var t=o(this._data,e);t&&(delete this._data[t._index],this._data.size--)},r.prototype.clear=function(){var e=Object.create(null);e.size=0,Object.defineProperty(this,"_data",{value:e,enumerable:!1,configurable:!0,writable:!1})},Object.defineProperty(r.prototype,"size",{get:function(){return this._data.size},set:function(e){},enumerable:!0,configurable:!0}),r.prototype.values=r.prototype.keys=r.prototype.entries=function(){throw new Error("iterators are not implemented in this version")}},70032:e=>{"use strict";class t{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,t){if(this.cache.set(e,t),this._size++,this._size>=this.maxSize){if(this._size=0,"function"==typeof this.onEviction)for(const[e,t]of this.oldCache.entries())this.onEviction(e,t);this.oldCache=this.cache,this.cache=new Map}}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){const t=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,t),t}}set(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}delete(e){const t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache)yield e;for(const e of this.oldCache){const[t]=e;this.cache.has(t)||(yield e)}}get size(){let e=0;for(const t of this.oldCache.keys())this.cache.has(t)||e++;return Math.min(this._size+e,this.maxSize)}}e.exports=t},27038:e=>{"use strict";const t={};function r(e,r,n){n||(n=Error);class i extends n{constructor(e,t,n){super(function(e,t,n){return"string"==typeof r?r:r(e,t,n)}(e,t,n))}}i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(Array.isArray(e)){const r=e.length;return e=e.map((e=>String(e))),r>2?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:2===r?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){let i;var o;let s;if("string"==typeof t&&(o="not ",t.substr(0,o.length)===o)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))s=`The ${e} ${i} ${n(t,"type")}`;else{s=`The "${e}" ${"number"!=typeof c&&(c=0),c+".".length>(a=e).length||-1===a.indexOf(".",c)?"argument":"property"} ${i} ${n(t,"type")}`}var a,c;return s+=". Received type "+typeof r,s}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},46196:(e,t,r)=>{"use strict";var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=u;var i=r(3924),o=r(61731);r(71947)(u,i);for(var s=n(o.prototype),a=0;a<s.length;a++){var c=s[a];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||process.nextTick(p,this)}function p(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},93138:(e,t,r)=>{"use strict";e.exports=i;var n=r(67918);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(71947)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},3924:(e,t,r)=>{"use strict";var n;e.exports=P,P.ReadableState=k,r(82361).EventEmitter;var i,o=function(e,t){return e.listeners(t).length},s=r(88614),a=r(14300).Buffer,c=global.Uint8Array||function(){},u=r(73837);i=u&&u.debuglog?u.debuglog("stream"):function(){};var l,p,d,h=r(57491),f=r(96181),m=r(38028).getHighWaterMark,g=r(27038).q,y=g.ERR_INVALID_ARG_TYPE,b=g.ERR_STREAM_PUSH_AFTER_EOF,v=g.ERR_METHOD_NOT_IMPLEMENTED,w=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(71947)(P,s);var _=f.errorOrDestroy,S=["error","close","destroy","pause","resume"];function k(e,t,i){n=n||r(46196),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",i),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(l||(l=r(45255).s),this.decoder=new l(e.encoding),this.encoding=e.encoding)}function P(e){if(n=n||r(46196),!(this instanceof P))return new P(e);var t=this instanceof n;this._readableState=new k(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function x(e,t,r,n,o){i("readableAddChunk",t);var s,u=e._readableState;if(null===t)u.reading=!1,function(e,t){if(i("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?O(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,A(e)))}}(e,u);else if(o||(s=function(e,t){var r,n;return n=t,a.isBuffer(n)||n instanceof c||"string"==typeof t||void 0===t||e.objectMode||(r=new y("chunk",["string","Buffer","Uint8Array"],t)),r}(u,t)),s)_(e,s);else if(u.objectMode||t&&t.length>0)if("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=function(e){return a.from(e)}(t)),n)u.endEmitted?_(e,new w):C(e,u,t,!0);else if(u.ended)_(e,new b);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!r?(t=u.decoder.write(t),u.objectMode||0!==t.length?C(e,u,t,!1):M(e,u)):C(e,u,t,!1)}else n||(u.reading=!1,M(e,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function C(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&O(e)),M(e,t)}Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),P.prototype.destroy=f.destroy,P.prototype._undestroy=f.undestroy,P.prototype._destroy=function(e,t){t(e)},P.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=a.from(e,t),t=""),r=!0),x(this,e,t,!1,r)},P.prototype.unshift=function(e){return x(this,e,null,!0,!1)},P.prototype.isPaused=function(){return!1===this._readableState.flowing},P.prototype.setEncoding=function(e){l||(l=r(45255).s);var t=new l(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var E=1073741824;function D(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=E?e=E:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function O(e){var t=e._readableState;i("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(i("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(A,e))}function A(e){var t=e._readableState;i("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,I(e)}function M(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(T,e,t))}function T(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(i("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function j(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function R(e){i("readable nexttick read 0"),e.read(0)}function F(e,t){i("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),I(e),t.flowing&&!t.reading&&e.read(0)}function I(e){var t=e._readableState;for(i("flow",t.flowing);t.flowing&&null!==e.read(););}function L(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function N(e){var t=e._readableState;i("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(B,t,e))}function B(e,t){if(i("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function $(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}P.prototype.read=function(e){i("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return i("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?N(this):O(this),null;if(0===(e=D(e,t))&&t.ended)return 0===t.length&&N(this),null;var n,o=t.needReadable;return i("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&i("length less than watermark",o=!0),t.ended||t.reading?i("reading or ended",o=!1):o&&(i("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=D(r,t))),null===(n=e>0?L(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&N(this)),null!==n&&this.emit("data",n),n},P.prototype._read=function(e){_(this,new v("_read()"))},P.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,i("pipe count=%d opts=%j",n.pipesCount,t);var s=t&&!1===t.end||e===process.stdout||e===process.stderr?f:a;function a(){i("onend"),e.end()}n.endEmitted?process.nextTick(s):r.once("end",s),e.on("unpipe",(function t(o,s){i("onunpipe"),o===r&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,i("cleanup"),e.removeListener("close",d),e.removeListener("finish",h),e.removeListener("drain",c),e.removeListener("error",p),e.removeListener("unpipe",t),r.removeListener("end",a),r.removeListener("end",f),r.removeListener("data",l),u=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}));var c=function(e){return function(){var t=e._readableState;i("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,I(e))}}(r);e.on("drain",c);var u=!1;function l(t){i("ondata");var o=e.write(t);i("dest.write",o),!1===o&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==$(n.pipes,e))&&!u&&(i("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function p(t){i("onerror",t),f(),e.removeListener("error",p),0===o(e,"error")&&_(e,t)}function d(){e.removeListener("finish",h),f()}function h(){i("onfinish"),e.removeListener("close",d),f()}function f(){i("unpipe"),r.unpipe(e)}return r.on("data",l),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events.error?Array.isArray(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on(t,r)}(e,"error",p),e.once("close",d),e.once("finish",h),e.emit("pipe",r),n.flowing||(i("pipe resume"),r.resume()),e},P.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=$(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},P.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,i("on readable",n.length,n.reading),n.length?O(this):n.reading||process.nextTick(R,this))),r},P.prototype.addListener=P.prototype.on,P.prototype.removeListener=function(e,t){var r=s.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(j,this),r},P.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(j,this),t},P.prototype.resume=function(){var e=this._readableState;return e.flowing||(i("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(F,e,t))}(this,e)),e.paused=!1,this},P.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},P.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var o in e.on("end",(function(){if(i("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(o){i("wrapped data"),r.decoder&&(o=r.decoder.write(o)),r.objectMode&&null==o||(r.objectMode||o&&o.length)&&(t.push(o)||(n=!0,e.pause()))})),e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var s=0;s<S.length;s++)e.on(S[s],this.emit.bind(this,S[s]));return this._read=function(t){i("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(P.prototype[Symbol.asyncIterator]=function(){return void 0===p&&(p=r(6189)),p(this)}),Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(P.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(P.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),P._fromList=L,Object.defineProperty(P.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(P.from=function(e,t){return void 0===d&&(d=r(71752)),d(P,e,t)})},67918:(e,t,r)=>{"use strict";e.exports=l;var n=r(27038).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,c=r(46196);function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",p)}function p(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,r){d(e,t,r)}))}function d(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}r(71947)(l,c),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},61731:(e,t,r)=>{"use strict";function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var i;e.exports=P,P.WritableState=k;var o,s={deprecate:r(34247)},a=r(88614),c=r(14300).Buffer,u=global.Uint8Array||function(){},l=r(96181),p=r(38028).getHighWaterMark,d=r(27038).q,h=d.ERR_INVALID_ARG_TYPE,f=d.ERR_METHOD_NOT_IMPLEMENTED,m=d.ERR_MULTIPLE_CALLBACK,g=d.ERR_STREAM_CANNOT_PIPE,y=d.ERR_STREAM_DESTROYED,b=d.ERR_STREAM_NULL_VALUES,v=d.ERR_STREAM_WRITE_AFTER_END,w=d.ERR_UNKNOWN_ENCODING,_=l.errorOrDestroy;function S(){}function k(e,t,o){i=i||r(46196),e=e||{},"boolean"!=typeof o&&(o=t instanceof i),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=p(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(process.nextTick(i,n),process.nextTick(A,e,t),e._writableState.errorEmitted=!0,_(e,n)):(i(n),e._writableState.errorEmitted=!0,_(e,n),A(e,t))}(e,r,n,t,i);else{var o=D(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||E(e,r),n?process.nextTick(C,e,r,o,i):C(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function P(e){var t=this instanceof(i=i||r(46196));if(!t&&!o.call(P,this))return new P(e);this._writableState=new k(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),a.call(this)}function x(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function C(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),A(e,t)}function E(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,o=new Array(i),s=t.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)o[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;o.allBuffers=c,x(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,p=r.callback;if(x(e,t,!1,t.objectMode?1:u.length,u,l,p),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function D(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function O(e,t){e._final((function(r){t.pendingcb--,r&&_(e,r),t.prefinished=!0,e.emit("prefinish"),A(e,t)}))}function A(e,t){var r=D(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(O,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(71947)(P,a),k.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(k.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(P,Symbol.hasInstance,{value:function(e){return!!o.call(this,e)||this===P&&e&&e._writableState instanceof k}})):o=function(e){return e instanceof this},P.prototype.pipe=function(){_(this,new g)},P.prototype.write=function(e,t,r){var n,i=this._writableState,o=!1,s=!i.objectMode&&(n=e,c.isBuffer(n)||n instanceof u);return s&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=S),i.ending?function(e,t){var r=new v;_(e,r),process.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var i;return null===r?i=new b:"string"==typeof r||t.objectMode||(i=new h("chunk",["string","Buffer"],r)),!i||(_(e,i),process.nextTick(n,i),!1)}(this,i,e,r))&&(i.pendingcb++,o=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,r)),t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=t.objectMode?1:n.length;t.length+=a;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else x(e,t,!1,a,n,i,o);return u}(this,i,s,e,t,r)),o},P.prototype.cork=function(){this._writableState.corked++},P.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||E(this,e))},P.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(P.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(P.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),P.prototype._write=function(e,t,r){r(new f("_write()"))},P.prototype._writev=null,P.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,A(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(P.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),P.prototype.destroy=l.destroy,P.prototype._undestroy=l.undestroy,P.prototype._destroy=function(e,t){t(e)}},6189:(e,t,r)=>{"use strict";var n;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(48994),s=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),p=Symbol("handlePromise"),d=Symbol("stream");function h(e,t){return{value:e,done:t}}function f(e){var t=e[s];if(null!==t){var r=e[d].read();null!==r&&(e[l]=null,e[s]=null,e[a]=null,t(h(r,!1)))}}function m(e){process.nextTick(f,e)}var g=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((i(n={get stream(){return this[d]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(h(void 0,!0));if(this[d].destroyed)return new Promise((function(t,r){process.nextTick((function(){e[c]?r(e[c]):t(h(void 0,!0))}))}));var r,n=this[l];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[u]?r(h(void 0,!0)):t[p](r,n)}),n)}}(n,this));else{var i=this[d].read();if(null!==i)return Promise.resolve(h(i,!1));r=new Promise(this[p])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var e=this;return new Promise((function(t,r){e[d].destroy(null,(function(e){e?r(e):t(h(void 0,!0))}))}))})),n),g);e.exports=function(e){var t,r=Object.create(y,(i(t={},d,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,p,{value:function(e,t){var n=r[d].read();n?(r[l]=null,r[s]=null,r[a]=null,e(h(n,!1))):(r[s]=e,r[a]=t)},writable:!0}),t));return r[l]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[a];return null!==t&&(r[l]=null,r[s]=null,r[a]=null,t(e)),void(r[c]=e)}var n=r[s];null!==n&&(r[l]=null,r[s]=null,r[a]=null,n(h(void 0,!0))),r[u]=!0})),e.on("readable",m.bind(null,r)),r}},57491:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=r(14300).Buffer,a=r(73837).inspect,c=a&&a.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r;return t=e,r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return s.alloc(0);for(var t,r,n,i=s.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,r=i,n=a,s.prototype.copy.call(t,r,n),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=s.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:c,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],r&&o(t.prototype,r),e}()},96181:e=>{"use strict";function t(e,t){n(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function n(e,t){e.emit("error",t)}e.exports={destroy:function(e,i){var o=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?(i?i(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(n,this,e)):process.nextTick(n,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!i&&e?o._writableState?o._writableState.errorEmitted?process.nextTick(r,o):(o._writableState.errorEmitted=!0,process.nextTick(t,o,e)):process.nextTick(t,o,e):i?(process.nextTick(r,o),i(e)):process.nextTick(r,o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},48994:(e,t,r)=>{"use strict";var n=r(27038).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var s=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){a=!1,u=!0,s||o.call(t)},p=t._readableState&&t._readableState.endEmitted,d=function(){s=!1,p=!0,a||o.call(t)},h=function(e){o.call(t,e)},f=function(){var e;return s&&!p?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):a&&!u?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",l),t.on("abort",f),t.req?m():t.on("request",m)):a&&!t._writableState&&(t.on("end",c),t.on("close",c)),t.on("end",d),t.on("finish",l),!1!==r.error&&t.on("error",h),t.on("close",f),function(){t.removeListener("complete",l),t.removeListener("abort",f),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",d),t.removeListener("error",h),t.removeListener("close",f)}}},71752:(e,t,r)=>{"use strict";function n(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var s=e.apply(t,r);function a(e){n(s,i,o,a,c,"next",e)}function c(e){n(s,i,o,a,c,"throw",e)}a(void 0)}))}}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(27038).q.ERR_INVALID_ARG_TYPE;e.exports=function(e,t,r){var n;if(t&&"function"==typeof t.next)n=t;else if(t&&t[Symbol.asyncIterator])n=t[Symbol.asyncIterator]();else{if(!t||!t[Symbol.iterator])throw new a("iterable",["Iterable"],t);n=t[Symbol.iterator]()}var c=new e(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({objectMode:!0},r)),u=!1;function l(){return p.apply(this,arguments)}function p(){return(p=i((function*(){try{var e=yield n.next(),t=e.value;e.done?c.push(null):c.push(yield t)?l():u=!1}catch(e){c.destroy(e)}}))).apply(this,arguments)}return c._read=function(){u||(u=!0,l())},c}},14404:(e,t,r)=>{"use strict";var n,i=r(27038).q,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;e.on("close",(function(){a=!0})),void 0===n&&(n=r(48994)),n(e,{readable:t,writable:i},(function(e){if(e)return o(e);a=!0,o()}));var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}function u(e){e()}function l(e,t){return e.pipe(t)}function p(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=p(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var s=t.map((function(e,r){var o=r<t.length-1;return c(e,o,r>0,(function(e){n||(n=e),e&&s.forEach(u),o||(s.forEach(u),i(n))}))}));return t.reduce(l)}},38028:(e,t,r)=>{"use strict";var n=r(27038).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},88614:(e,t,r)=>{e.exports=r(12781)},2454:(e,t,r)=>{var n=r(12781);"disable"===process.env.READABLE_STREAM&&n?(e.exports=n.Readable,Object.assign(e.exports,n),e.exports.Stream=n):((t=e.exports=r(3924)).Stream=n||t,t.Readable=t,t.Writable=r(61731),t.Duplex=r(46196),t.Transform=r(67918),t.PassThrough=r(93138),t.finished=r(48994),t.pipeline=r(14404))},59544:()=>{var e;!function(e){!function(t){var r="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),n=i(e);function i(e,t){return function(r,n){"function"!=typeof e[r]&&Object.defineProperty(e,r,{configurable:!0,writable:!0,value:n}),t&&t(r,n)}}void 0===r.Reflect?r.Reflect=e:n=i(r.Reflect,n),function(e){var t=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,n=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",o="function"==typeof Object.create,s={__proto__:[]}instanceof Array,a=!o&&!s,c={create:o?function(){return F(Object.create(null))}:s?function(){return F({__proto__:null})}:function(){return F({})},has:a?function(e,r){return t.call(e,r)}:function(e,t){return t in e},get:a?function(e,r){return t.call(e,r)?e[r]:void 0}:function(e,t){return e[t]}},u=Object.getPrototypeOf(Function),l="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,p=l||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],r=function(){function e(e,t,r){this._index=0,this._keys=e,this._values=t,this._selector=r}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var r=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var r=this._find(e,!0);return this._values[r]=t,this},t.prototype.delete=function(t){var r=this._find(t,!1);if(r>=0){for(var n=this._keys.length,i=r+1;i<n;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new r(this._keys,this._values,n)},t.prototype.values=function(){return new r(this._keys,this._values,o)},t.prototype.entries=function(){return new r(this._keys,this._values,s)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function n(e,t){return e}function o(e,t){return t}function s(e,t){return[e,t]}}():Map,d=l||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function e(){this._map=new p}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}():Set,h=new(l||"function"!=typeof WeakMap?function(){var e=c.create(),r=n();return function(){function e(){this._key=n()}return e.prototype.has=function(e){var t=i(e,!1);return void 0!==t&&c.has(t,this._key)},e.prototype.get=function(e){var t=i(e,!1);return void 0!==t?c.get(t,this._key):void 0},e.prototype.set=function(e,t){return i(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=i(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=n()},e}();function n(){var t;do{t="@@WeakMap@@"+s()}while(c.has(e,t));return e[t]=!0,t}function i(e,n){if(!t.call(e,r)){if(!n)return;Object.defineProperty(e,r,{value:c.create()})}return e[r]}function o(e,t){for(var r=0;r<t;++r)e[r]=255*Math.random()|0;return e}function s(){var e,t=(e=16,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):o(new Uint8Array(e),e):o(new Array(e),e));t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var r="",n=0;n<16;++n){var i=t[n];4!==n&&6!==n&&8!==n||(r+="-"),i<16&&(r+="0"),r+=i.toString(16).toLowerCase()}return r}}():WeakMap);function f(e,t,r){var n=h.get(e);if(k(n)){if(!r)return;n=new p,h.set(e,n)}var i=n.get(t);if(k(i)){if(!r)return;i=new p,n.set(t,i)}return i}function m(e,t,r){if(g(e,t,r))return!0;var n=R(t);return!P(n)&&m(e,n,r)}function g(e,t,r){var n=f(t,r,!1);return!k(n)&&!!n.has(e)}function y(e,t,r){if(g(e,t,r))return b(e,t,r);var n=R(t);return P(n)?void 0:y(e,n,r)}function b(e,t,r){var n=f(t,r,!1);if(!k(n))return n.get(e)}function v(e,t,r,n){f(r,n,!0).set(e,t)}function w(e,t){var r=_(e,t),n=R(e);if(null===n)return r;var i=w(n,t);if(i.length<=0)return r;if(r.length<=0)return i;for(var o=new d,s=[],a=0,c=r;a<c.length;a++){var u=c[a];o.has(u)||(o.add(u),s.push(u))}for(var l=0,p=i;l<p.length;l++)u=p[l],o.has(u)||(o.add(u),s.push(u));return s}function _(e,t){var r=[],n=f(e,t,!1);if(k(n))return r;for(var o=function(e){var t=M(e,i);if(!O(t))throw new TypeError;var r=t.call(e);if(!x(r))throw new TypeError;return r}(n.keys()),s=0;;){var a=T(o);if(!a)return r.length=s,r;var c=a.value;try{r[s]=c}catch(e){try{j(o)}finally{throw e}}s++}}function S(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function k(e){return void 0===e}function P(e){return null===e}function x(e){return"object"==typeof e?null!==e:"function"==typeof e}function C(e,t){switch(S(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var r=3===t?"string":5===t?"number":"default",i=M(e,n);if(void 0!==i){var o=i.call(e,r);if(x(o))throw new TypeError;return o}return function(e,t){if("string"===t){var r=e.toString;if(O(r)&&!x(i=r.call(e)))return i;if(O(n=e.valueOf)&&!x(i=n.call(e)))return i}else{var n;if(O(n=e.valueOf)&&!x(i=n.call(e)))return i;var i,o=e.toString;if(O(o)&&!x(i=o.call(e)))return i}throw new TypeError}(e,"default"===r?"number":r)}function E(e){var t=C(e,3);return"symbol"==typeof t?t:function(e){return""+e}(t)}function D(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function O(e){return"function"==typeof e}function A(e){return"function"==typeof e}function M(e,t){var r=e[t];if(null!=r){if(!O(r))throw new TypeError;return r}}function T(e){var t=e.next();return!t.done&&t}function j(e){var t=e.return;t&&t.call(e)}function R(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===u)return t;if(t!==u)return t;var r=e.prototype,n=r&&Object.getPrototypeOf(r);if(null==n||n===Object.prototype)return t;var i=n.constructor;return"function"!=typeof i||i===e?t:i}function F(e){return e.__=void 0,delete e.__,e}e("decorate",(function(e,t,r,n){if(k(r)){if(!D(e))throw new TypeError;if(!A(t))throw new TypeError;return function(e,t){for(var r=e.length-1;r>=0;--r){var n=(0,e[r])(t);if(!k(n)&&!P(n)){if(!A(n))throw new TypeError;t=n}}return t}(e,t)}if(!D(e))throw new TypeError;if(!x(t))throw new TypeError;if(!x(n)&&!k(n)&&!P(n))throw new TypeError;return P(n)&&(n=void 0),function(e,t,r,n){for(var i=e.length-1;i>=0;--i){var o=(0,e[i])(t,r,n);if(!k(o)&&!P(o)){if(!x(o))throw new TypeError;n=o}}return n}(e,t,r=E(r),n)})),e("metadata",(function(e,t){return function(r,n){if(!x(r))throw new TypeError;if(!k(n)&&!function(e){switch(S(e)){case 3:case 4:return!0;default:return!1}}(n))throw new TypeError;v(e,t,r,n)}})),e("defineMetadata",(function(e,t,r,n){if(!x(r))throw new TypeError;return k(n)||(n=E(n)),v(e,t,r,n)})),e("hasMetadata",(function(e,t,r){if(!x(t))throw new TypeError;return k(r)||(r=E(r)),m(e,t,r)})),e("hasOwnMetadata",(function(e,t,r){if(!x(t))throw new TypeError;return k(r)||(r=E(r)),g(e,t,r)})),e("getMetadata",(function(e,t,r){if(!x(t))throw new TypeError;return k(r)||(r=E(r)),y(e,t,r)})),e("getOwnMetadata",(function(e,t,r){if(!x(t))throw new TypeError;return k(r)||(r=E(r)),b(e,t,r)})),e("getMetadataKeys",(function(e,t){if(!x(e))throw new TypeError;return k(t)||(t=E(t)),w(e,t)})),e("getOwnMetadataKeys",(function(e,t){if(!x(e))throw new TypeError;return k(t)||(t=E(t)),_(e,t)})),e("deleteMetadata",(function(e,t,r){if(!x(t))throw new TypeError;k(r)||(r=E(r));var n=f(t,r,!1);if(k(n))return!1;if(!n.delete(e))return!1;if(n.size>0)return!0;var i=h.get(t);return i.delete(r),i.size>0||h.delete(t),!0}))}(n)}()}(e||(e={}))},90733:e=>{var t="win32"===process.platform;function r(e,r){var n=e[r];return r>0&&("/"===n||t&&"\\"===n)}e.exports=function(e){var t=e.length-1;if(t<2)return e;for(;r(e,t);)t--;return e.substr(0,t+1)}},80934:(e,t,r)=>{"use strict";const n=r(24404);e.exports=(e={})=>new Promise(((t,r)=>{let i=!1;const o=async()=>{a.off("timeout",s),a.off("error",r),e.resolveSocket?(t({alpnProtocol:a.alpnProtocol,socket:a,timeout:i}),i&&(await Promise.resolve(),a.emit("timeout"))):(a.destroy(),t({alpnProtocol:a.alpnProtocol,timeout:i}))},s=async()=>{i=!0,o()},a=n.connect(e,o);a.on("error",r),a.once("timeout",s)}))},22920:(e,t,r)=>{"use strict";const n=r(12781).Readable,i=r(13177);e.exports=class extends n{constructor(e,t,r,n){if("number"!=typeof e)throw new TypeError("Argument `statusCode` should be a number");if("object"!=typeof t)throw new TypeError("Argument `headers` should be an object");if(!(r instanceof Buffer))throw new TypeError("Argument `body` should be a buffer");if("string"!=typeof n)throw new TypeError("Argument `url` should be a string");super(),this.statusCode=e,this.headers=i(t),this.body=r,this.url=n}_read(){this.push(this.body),this.push(null)}}},41138:(e,t,r)=>{"use strict";var n=r(32081).execFile,i=r(51842),o=r(43239);e.exports=function(e){return"darwin"!==process.platform?i.reject(new Error("Only OS X systems are supported")):o(n,i)("osascript",["-e",e]).then((function(e){return e.trim()}))}},72748:(e,t,r)=>{var n=r(14300),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},83973:(e,t,r)=>{var n,i=r(39491),o=r(79738),s=/^win/i.test(process.platform),a=r(82361);function c(){p&&(p=!1,o.forEach((function(e){try{process.removeListener(e,l[e])}catch(e){}})),process.emit=m,process.reallyExit=h,n.count-=1)}function u(e,t,r){n.emitted[e]||(n.emitted[e]=!0,n.emit(e,t,r))}"function"!=typeof a&&(a=a.EventEmitter),process.__signal_exit_emitter__?n=process.__signal_exit_emitter__:((n=process.__signal_exit_emitter__=new a).count=0,n.emitted={}),n.infinite||(n.setMaxListeners(1/0),n.infinite=!0),e.exports=function(e,t){i.equal(typeof e,"function","a callback must be provided for exit handler"),!1===p&&d();var r="exit";return t&&t.alwaysLast&&(r="afterexit"),n.on(r,e),function(){n.removeListener(r,e),0===n.listeners("exit").length&&0===n.listeners("afterexit").length&&c()}},e.exports.unload=c;var l={};o.forEach((function(e){l[e]=function(){process.listeners(e).length===n.count&&(c(),u("exit",null,e),u("afterexit",null,e),s&&"SIGHUP"===e&&(e="SIGINT"),process.kill(process.pid,e))}})),e.exports.signals=function(){return o},e.exports.load=d;var p=!1;function d(){p||(p=!0,n.count+=1,o=o.filter((function(e){try{return process.on(e,l[e]),!0}catch(e){return!1}})),process.emit=g,process.reallyExit=f)}var h=process.reallyExit;function f(e){process.exitCode=e||0,u("exit",process.exitCode,null),u("afterexit",process.exitCode,null),h.call(process,process.exitCode)}var m=process.emit;function g(e,t){if("exit"===e){void 0!==t&&(process.exitCode=t);var r=m.apply(this,arguments);return u("exit",process.exitCode,null),u("afterexit",process.exitCode,null),r}return m.apply(this,arguments)}},79738:e=>{e.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],"win32"!==process.platform&&e.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),"linux"===process.platform&&e.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")},43360:(e,t,r)=>{"use strict";var n=r(45003),i=Array.prototype.concat,o=Array.prototype.slice,s=e.exports=function(e){for(var t=[],r=0,s=e.length;r<s;r++){var a=e[r];n(a)?t=i.call(t,o.call(a)):t.push(a)}return t};s.wrap=function(e){return function(){return e(s(arguments))}}},78654:(e,t,r)=>{var n=r(28337),i=Object.prototype.hasOwnProperty,o="undefined"!=typeof Map;function s(){this._array=[],this._set=o?new Map:Object.create(null)}s.fromArray=function(e,t){for(var r=new s,n=0,i=e.length;n<i;n++)r.add(e[n],t);return r},s.prototype.size=function(){return o?this._set.size:Object.getOwnPropertyNames(this._set).length},s.prototype.add=function(e,t){var r=o?e:n.toSetString(e),s=o?this.has(e):i.call(this._set,r),a=this._array.length;s&&!t||this._array.push(e),s||(o?this._set.set(e,a):this._set[r]=a)},s.prototype.has=function(e){if(o)return this._set.has(e);var t=n.toSetString(e);return i.call(this._set,t)},s.prototype.indexOf=function(e){if(o){var t=this._set.get(e);if(t>=0)return t}else{var r=n.toSetString(e);if(i.call(this._set,r))return this._set[r]}throw new Error('"'+e+'" is not in the set.')},s.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},s.prototype.toArray=function(){return this._array.slice()},t.I=s},37649:(e,t,r)=>{var n=r(58583);t.encode=function(e){var t,r="",i=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&i,(i>>>=5)>0&&(t|=32),r+=n.encode(t)}while(i>0);return r},t.decode=function(e,t,r){var i,o,s,a,c=e.length,u=0,l=0;do{if(t>=c)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(o=n.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));i=!!(32&o),u+=(o&=31)<<l,l+=5}while(i);r.value=(a=(s=u)>>1,1==(1&s)?-a:a),r.rest=t}},58583:(e,t)=>{var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.encode=function(e){if(0<=e&&e<r.length)return r[e];throw new TypeError("Must be between 0 and 63: "+e)},t.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1}},60071:(e,t)=>{function r(e,n,i,o,s,a){var c=Math.floor((n-e)/2)+e,u=s(i,o[c],!0);return 0===u?c:u>0?n-c>1?r(c,n,i,o,s,a):a==t.LEAST_UPPER_BOUND?n<o.length?n:-1:c:c-e>1?r(e,c,i,o,s,a):a==t.LEAST_UPPER_BOUND?c:e<0?-1:e}t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,n,i,o){if(0===n.length)return-1;var s=r(-1,n.length,e,n,i,o||t.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&0===i(n[s],n[s-1],!0);)--s;return s}},79903:(e,t,r)=>{var n=r(28337);function i(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}i.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},i.prototype.add=function(e){var t,r,i,o,s,a;r=e,i=(t=this._last).generatedLine,o=r.generatedLine,s=t.generatedColumn,a=r.generatedColumn,o>i||o==i&&a>=s||n.compareByGeneratedPositionsInflated(t,r)<=0?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},i.prototype.toArray=function(){return this._sorted||(this._array.sort(n.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},t.H=i},62383:(e,t)=>{function r(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function n(e,t,i,o){if(i<o){var s=i-1;r(e,(l=i,p=o,Math.round(l+Math.random()*(p-l))),o);for(var a=e[o],c=i;c<o;c++)t(e[c],a)<=0&&r(e,s+=1,c);r(e,s+1,c);var u=s+1;n(e,t,i,u-1),n(e,t,u+1,o)}var l,p}t.U=function(e,t){n(e,t,0,e.length-1)}},10645:(e,t,r)=>{var n=r(28337),i=r(60071),o=r(78654).I,s=r(37649),a=r(62383).U;function c(e,t){var r=e;return"string"==typeof e&&(r=n.parseSourceMapInput(e)),null!=r.sections?new p(r,t):new u(r,t)}function u(e,t){var r=e;"string"==typeof e&&(r=n.parseSourceMapInput(e));var i=n.getArg(r,"version"),s=n.getArg(r,"sources"),a=n.getArg(r,"names",[]),c=n.getArg(r,"sourceRoot",null),u=n.getArg(r,"sourcesContent",null),l=n.getArg(r,"mappings"),p=n.getArg(r,"file",null);if(i!=this._version)throw new Error("Unsupported version: "+i);c&&(c=n.normalize(c)),s=s.map(String).map(n.normalize).map((function(e){return c&&n.isAbsolute(c)&&n.isAbsolute(e)?n.relative(c,e):e})),this._names=o.fromArray(a.map(String),!0),this._sources=o.fromArray(s,!0),this._absoluteSources=this._sources.toArray().map((function(e){return n.computeSourceURL(c,e,t)})),this.sourceRoot=c,this.sourcesContent=u,this._mappings=l,this._sourceMapURL=t,this.file=p}function l(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function p(e,t){var r=e;"string"==typeof e&&(r=n.parseSourceMapInput(e));var i=n.getArg(r,"version"),s=n.getArg(r,"sections");if(i!=this._version)throw new Error("Unsupported version: "+i);this._sources=new o,this._names=new o;var a={line:-1,column:0};this._sections=s.map((function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var r=n.getArg(e,"offset"),i=n.getArg(r,"line"),o=n.getArg(r,"column");if(i<a.line||i===a.line&&o<a.column)throw new Error("Section offsets must be ordered and non-overlapping.");return a=r,{generatedOffset:{generatedLine:i+1,generatedColumn:o+1},consumer:new c(n.getArg(e,"map"),t)}}))}c.fromSourceMap=function(e,t){return u.fromSourceMap(e,t)},c.prototype._version=3,c.prototype.__generatedMappings=null,Object.defineProperty(c.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),c.prototype.__originalMappings=null,Object.defineProperty(c.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),c.prototype._charIsMappingSeparator=function(e,t){var r=e.charAt(t);return";"===r||","===r},c.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},c.GENERATED_ORDER=1,c.ORIGINAL_ORDER=2,c.GREATEST_LOWER_BOUND=1,c.LEAST_UPPER_BOUND=2,c.prototype.eachMapping=function(e,t,r){var i,o=t||null;switch(r||c.GENERATED_ORDER){case c.GENERATED_ORDER:i=this._generatedMappings;break;case c.ORIGINAL_ORDER:i=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var s=this.sourceRoot;i.map((function(e){var t=null===e.source?null:this._sources.at(e.source);return{source:t=n.computeSourceURL(s,t,this._sourceMapURL),generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}}),this).forEach(e,o)},c.prototype.allGeneratedPositionsFor=function(e){var t=n.getArg(e,"line"),r={source:n.getArg(e,"source"),originalLine:t,originalColumn:n.getArg(e,"column",0)};if(r.source=this._findSourceIndex(r.source),r.source<0)return[];var o=[],s=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",n.compareByOriginalPositions,i.LEAST_UPPER_BOUND);if(s>=0){var a=this._originalMappings[s];if(void 0===e.column)for(var c=a.originalLine;a&&a.originalLine===c;)o.push({line:n.getArg(a,"generatedLine",null),column:n.getArg(a,"generatedColumn",null),lastColumn:n.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s];else for(var u=a.originalColumn;a&&a.originalLine===t&&a.originalColumn==u;)o.push({line:n.getArg(a,"generatedLine",null),column:n.getArg(a,"generatedColumn",null),lastColumn:n.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s]}return o},t.SourceMapConsumer=c,u.prototype=Object.create(c.prototype),u.prototype.consumer=c,u.prototype._findSourceIndex=function(e){var t,r=e;if(null!=this.sourceRoot&&(r=n.relative(this.sourceRoot,r)),this._sources.has(r))return this._sources.indexOf(r);for(t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==e)return t;return-1},u.fromSourceMap=function(e,t){var r=Object.create(u.prototype),i=r._names=o.fromArray(e._names.toArray(),!0),s=r._sources=o.fromArray(e._sources.toArray(),!0);r.sourceRoot=e._sourceRoot,r.sourcesContent=e._generateSourcesContent(r._sources.toArray(),r.sourceRoot),r.file=e._file,r._sourceMapURL=t,r._absoluteSources=r._sources.toArray().map((function(e){return n.computeSourceURL(r.sourceRoot,e,t)}));for(var c=e._mappings.toArray().slice(),p=r.__generatedMappings=[],d=r.__originalMappings=[],h=0,f=c.length;h<f;h++){var m=c[h],g=new l;g.generatedLine=m.generatedLine,g.generatedColumn=m.generatedColumn,m.source&&(g.source=s.indexOf(m.source),g.originalLine=m.originalLine,g.originalColumn=m.originalColumn,m.name&&(g.name=i.indexOf(m.name)),d.push(g)),p.push(g)}return a(r.__originalMappings,n.compareByOriginalPositions),r},u.prototype._version=3,Object.defineProperty(u.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),u.prototype._parseMappings=function(e,t){for(var r,i,o,c,u,p=1,d=0,h=0,f=0,m=0,g=0,y=e.length,b=0,v={},w={},_=[],S=[];b<y;)if(";"===e.charAt(b))p++,b++,d=0;else if(","===e.charAt(b))b++;else{for((r=new l).generatedLine=p,c=b;c<y&&!this._charIsMappingSeparator(e,c);c++);if(o=v[i=e.slice(b,c)])b+=i.length;else{for(o=[];b<c;)s.decode(e,b,w),u=w.value,b=w.rest,o.push(u);if(2===o.length)throw new Error("Found a source, but no line and column");if(3===o.length)throw new Error("Found a source and line, but no column");v[i]=o}r.generatedColumn=d+o[0],d=r.generatedColumn,o.length>1&&(r.source=m+o[1],m+=o[1],r.originalLine=h+o[2],h=r.originalLine,r.originalLine+=1,r.originalColumn=f+o[3],f=r.originalColumn,o.length>4&&(r.name=g+o[4],g+=o[4])),S.push(r),"number"==typeof r.originalLine&&_.push(r)}a(S,n.compareByGeneratedPositionsDeflated),this.__generatedMappings=S,a(_,n.compareByOriginalPositions),this.__originalMappings=_},u.prototype._findMapping=function(e,t,r,n,o,s){if(e[r]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[r]);if(e[n]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[n]);return i.search(e,t,o,s)},u.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var r=this._generatedMappings[e+1];if(t.generatedLine===r.generatedLine){t.lastGeneratedColumn=r.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},u.prototype.originalPositionFor=function(e){var t={generatedLine:n.getArg(e,"line"),generatedColumn:n.getArg(e,"column")},r=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",n.compareByGeneratedPositionsDeflated,n.getArg(e,"bias",c.GREATEST_LOWER_BOUND));if(r>=0){var i=this._generatedMappings[r];if(i.generatedLine===t.generatedLine){var o=n.getArg(i,"source",null);null!==o&&(o=this._sources.at(o),o=n.computeSourceURL(this.sourceRoot,o,this._sourceMapURL));var s=n.getArg(i,"name",null);return null!==s&&(s=this._names.at(s)),{source:o,line:n.getArg(i,"originalLine",null),column:n.getArg(i,"originalColumn",null),name:s}}}return{source:null,line:null,column:null,name:null}},u.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(e){return null==e}))},u.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;var r=this._findSourceIndex(e);if(r>=0)return this.sourcesContent[r];var i,o=e;if(null!=this.sourceRoot&&(o=n.relative(this.sourceRoot,o)),null!=this.sourceRoot&&(i=n.urlParse(this.sourceRoot))){var s=o.replace(/^file:\/\//,"");if("file"==i.scheme&&this._sources.has(s))return this.sourcesContent[this._sources.indexOf(s)];if((!i.path||"/"==i.path)&&this._sources.has("/"+o))return this.sourcesContent[this._sources.indexOf("/"+o)]}if(t)return null;throw new Error('"'+o+'" is not in the SourceMap.')},u.prototype.generatedPositionFor=function(e){var t=n.getArg(e,"source");if((t=this._findSourceIndex(t))<0)return{line:null,column:null,lastColumn:null};var r={source:t,originalLine:n.getArg(e,"line"),originalColumn:n.getArg(e,"column")},i=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",n.compareByOriginalPositions,n.getArg(e,"bias",c.GREATEST_LOWER_BOUND));if(i>=0){var o=this._originalMappings[i];if(o.source===r.source)return{line:n.getArg(o,"generatedLine",null),column:n.getArg(o,"generatedColumn",null),lastColumn:n.getArg(o,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},p.prototype=Object.create(c.prototype),p.prototype.constructor=c,p.prototype._version=3,Object.defineProperty(p.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e}}),p.prototype.originalPositionFor=function(e){var t={generatedLine:n.getArg(e,"line"),generatedColumn:n.getArg(e,"column")},r=i.search(t,this._sections,(function(e,t){return e.generatedLine-t.generatedOffset.generatedLine||e.generatedColumn-t.generatedOffset.generatedColumn})),o=this._sections[r];return o?o.consumer.originalPositionFor({line:t.generatedLine-(o.generatedOffset.generatedLine-1),column:t.generatedColumn-(o.generatedOffset.generatedLine===t.generatedLine?o.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},p.prototype.hasContentsOfAllSources=function(){return this._sections.every((function(e){return e.consumer.hasContentsOfAllSources()}))},p.prototype.sourceContentFor=function(e,t){for(var r=0;r<this._sections.length;r++){var n=this._sections[r].consumer.sourceContentFor(e,!0);if(n)return n}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},p.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var r=this._sections[t];if(-1!==r.consumer._findSourceIndex(n.getArg(e,"source"))){var i=r.consumer.generatedPositionFor(e);if(i)return{line:i.line+(r.generatedOffset.generatedLine-1),column:i.column+(r.generatedOffset.generatedLine===i.line?r.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},p.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var r=0;r<this._sections.length;r++)for(var i=this._sections[r],o=i.consumer._generatedMappings,s=0;s<o.length;s++){var c=o[s],u=i.consumer._sources.at(c.source);u=n.computeSourceURL(i.consumer.sourceRoot,u,this._sourceMapURL),this._sources.add(u),u=this._sources.indexOf(u);var l=null;c.name&&(l=i.consumer._names.at(c.name),this._names.add(l),l=this._names.indexOf(l));var p={source:u,generatedLine:c.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:c.generatedColumn+(i.generatedOffset.generatedLine===c.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:c.originalLine,originalColumn:c.originalColumn,name:l};this.__generatedMappings.push(p),"number"==typeof p.originalLine&&this.__originalMappings.push(p)}a(this.__generatedMappings,n.compareByGeneratedPositionsDeflated),a(this.__originalMappings,n.compareByOriginalPositions)}},41554:(e,t,r)=>{var n=r(37649),i=r(28337),o=r(78654).I,s=r(79903).H;function a(e){e||(e={}),this._file=i.getArg(e,"file",null),this._sourceRoot=i.getArg(e,"sourceRoot",null),this._skipValidation=i.getArg(e,"skipValidation",!1),this._sources=new o,this._names=new o,this._mappings=new s,this._sourcesContents=null}a.prototype._version=3,a.fromSourceMap=function(e){var t=e.sourceRoot,r=new a({file:e.file,sourceRoot:t});return e.eachMapping((function(e){var n={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(n.source=e.source,null!=t&&(n.source=i.relative(t,n.source)),n.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(n.name=e.name)),r.addMapping(n)})),e.sources.forEach((function(n){var o=n;null!==t&&(o=i.relative(t,n)),r._sources.has(o)||r._sources.add(o);var s=e.sourceContentFor(n);null!=s&&r.setSourceContent(n,s)})),r},a.prototype.addMapping=function(e){var t=i.getArg(e,"generated"),r=i.getArg(e,"original",null),n=i.getArg(e,"source",null),o=i.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,r,n,o),null!=n&&(n=String(n),this._sources.has(n)||this._sources.add(n)),null!=o&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=r&&r.line,originalColumn:null!=r&&r.column,source:n,name:o})},a.prototype.setSourceContent=function(e,t){var r=e;null!=this._sourceRoot&&(r=i.relative(this._sourceRoot,r)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[i.toSetString(r)]=t):this._sourcesContents&&(delete this._sourcesContents[i.toSetString(r)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},a.prototype.applySourceMap=function(e,t,r){var n=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');n=e.file}var s=this._sourceRoot;null!=s&&(n=i.relative(s,n));var a=new o,c=new o;this._mappings.unsortedForEach((function(t){if(t.source===n&&null!=t.originalLine){var o=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=o.source&&(t.source=o.source,null!=r&&(t.source=i.join(r,t.source)),null!=s&&(t.source=i.relative(s,t.source)),t.originalLine=o.line,t.originalColumn=o.column,null!=o.name&&(t.name=o.name))}var u=t.source;null==u||a.has(u)||a.add(u);var l=t.name;null==l||c.has(l)||c.add(l)}),this),this._sources=a,this._names=c,e.sources.forEach((function(t){var n=e.sourceContentFor(t);null!=n&&(null!=r&&(t=i.join(r,t)),null!=s&&(t=i.relative(s,t)),this.setSourceContent(t,n))}),this)},a.prototype._validateMapping=function(e,t,r,n){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||r||n)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&r))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:r,original:t,name:n}))},a.prototype._serializeMappings=function(){for(var e,t,r,o,s=0,a=1,c=0,u=0,l=0,p=0,d="",h=this._mappings.toArray(),f=0,m=h.length;f<m;f++){if(e="",(t=h[f]).generatedLine!==a)for(s=0;t.generatedLine!==a;)e+=";",a++;else if(f>0){if(!i.compareByGeneratedPositionsInflated(t,h[f-1]))continue;e+=","}e+=n.encode(t.generatedColumn-s),s=t.generatedColumn,null!=t.source&&(o=this._sources.indexOf(t.source),e+=n.encode(o-p),p=o,e+=n.encode(t.originalLine-1-u),u=t.originalLine-1,e+=n.encode(t.originalColumn-c),c=t.originalColumn,null!=t.name&&(r=this._names.indexOf(t.name),e+=n.encode(r-l),l=r)),d+=e}return d},a.prototype._generateSourcesContent=function(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=i.relative(t,e));var r=i.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,r)?this._sourcesContents[r]:null}),this)},a.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},a.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.h=a},2477:(e,t,r)=>{var n=r(41554).h,i=r(28337),o=/(\r?\n)/,s="$$$isSourceNode$$$";function a(e,t,r,n,i){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==r?null:r,this.name=null==i?null:i,this[s]=!0,null!=n&&this.add(n)}a.fromStringWithSourceMap=function(e,t,r){var n=new a,s=e.split(o),c=0,u=function(){return e()+(e()||"");function e(){return c<s.length?s[c++]:void 0}},l=1,p=0,d=null;return t.eachMapping((function(e){if(null!==d){if(!(l<e.generatedLine)){var t=(r=s[c]||"").substr(0,e.generatedColumn-p);return s[c]=r.substr(e.generatedColumn-p),p=e.generatedColumn,h(d,t),void(d=e)}h(d,u()),l++,p=0}for(;l<e.generatedLine;)n.add(u()),l++;if(p<e.generatedColumn){var r=s[c]||"";n.add(r.substr(0,e.generatedColumn)),s[c]=r.substr(e.generatedColumn),p=e.generatedColumn}d=e}),this),c<s.length&&(d&&h(d,u()),n.add(s.splice(c).join(""))),t.sources.forEach((function(e){var o=t.sourceContentFor(e);null!=o&&(null!=r&&(e=i.join(r,e)),n.setSourceContent(e,o))})),n;function h(e,t){if(null===e||void 0===e.source)n.add(t);else{var o=r?i.join(r,e.source):e.source;n.add(new a(e.originalLine,e.originalColumn,o,t,e.name))}}},a.prototype.add=function(e){if(Array.isArray(e))e.forEach((function(e){this.add(e)}),this);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},a.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},a.prototype.walk=function(e){for(var t,r=0,n=this.children.length;r<n;r++)(t=this.children[r])[s]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},a.prototype.join=function(e){var t,r,n=this.children.length;if(n>0){for(t=[],r=0;r<n-1;r++)t.push(this.children[r]),t.push(e);t.push(this.children[r]),this.children=t}return this},a.prototype.replaceRight=function(e,t){var r=this.children[this.children.length-1];return r[s]?r.replaceRight(e,t):"string"==typeof r?this.children[this.children.length-1]=r.replace(e,t):this.children.push("".replace(e,t)),this},a.prototype.setSourceContent=function(e,t){this.sourceContents[i.toSetString(e)]=t},a.prototype.walkSourceContents=function(e){for(var t=0,r=this.children.length;t<r;t++)this.children[t][s]&&this.children[t].walkSourceContents(e);var n=Object.keys(this.sourceContents);for(t=0,r=n.length;t<r;t++)e(i.fromSetString(n[t]),this.sourceContents[n[t]])},a.prototype.toString=function(){var e="";return this.walk((function(t){e+=t})),e},a.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},r=new n(e),i=!1,o=null,s=null,a=null,c=null;return this.walk((function(e,n){t.code+=e,null!==n.source&&null!==n.line&&null!==n.column?(o===n.source&&s===n.line&&a===n.column&&c===n.name||r.addMapping({source:n.source,original:{line:n.line,column:n.column},generated:{line:t.line,column:t.column},name:n.name}),o=n.source,s=n.line,a=n.column,c=n.name,i=!0):i&&(r.addMapping({generated:{line:t.line,column:t.column}}),o=null,i=!1);for(var u=0,l=e.length;u<l;u++)10===e.charCodeAt(u)?(t.line++,t.column=0,u+1===l?(o=null,i=!1):i&&r.addMapping({source:n.source,original:{line:n.line,column:n.column},generated:{line:t.line,column:t.column},name:n.name})):t.column++})),this.walkSourceContents((function(e,t){r.setSourceContent(e,t)})),{code:t.code,map:r}}},28337:(e,t)=>{t.getArg=function(e,t,r){if(t in e)return e[t];if(3===arguments.length)return r;throw new Error('"'+t+'" is a required argument.')};var r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,n=/^data:.+\,.+$/;function i(e){var t=e.match(r);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function o(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function s(e){var r=e,n=i(e);if(n){if(!n.path)return e;r=n.path}for(var s,a=t.isAbsolute(r),c=r.split(/\/+/),u=0,l=c.length-1;l>=0;l--)"."===(s=c[l])?c.splice(l,1):".."===s?u++:u>0&&(""===s?(c.splice(l+1,u),u=0):(c.splice(l,2),u--));return""===(r=c.join("/"))&&(r=a?"/":"."),n?(n.path=r,o(n)):r}function a(e,t){""===e&&(e="."),""===t&&(t=".");var r=i(t),a=i(e);if(a&&(e=a.path||"/"),r&&!r.scheme)return a&&(r.scheme=a.scheme),o(r);if(r||t.match(n))return t;if(a&&!a.host&&!a.path)return a.host=t,o(a);var c="/"===t.charAt(0)?t:s(e.replace(/\/+$/,"")+"/"+t);return a?(a.path=c,o(a)):c}t.urlParse=i,t.urlGenerate=o,t.normalize=s,t.join=a,t.isAbsolute=function(e){return"/"===e.charAt(0)||r.test(e)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var r=0;0!==t.indexOf(e+"/");){var n=e.lastIndexOf("/");if(n<0)return t;if((e=e.slice(0,n)).match(/^([^\/]+:\/)?\/*$/))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)};var c=!("__proto__"in Object.create(null));function u(e){return e}function l(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var r=t-10;r>=0;r--)if(36!==e.charCodeAt(r))return!1;return!0}function p(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}t.toSetString=c?u:function(e){return l(e)?"$"+e:e},t.fromSetString=c?u:function(e){return l(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,r){var n=p(e.source,t.source);return 0!==n||0!=(n=e.originalLine-t.originalLine)||0!=(n=e.originalColumn-t.originalColumn)||r||0!=(n=e.generatedColumn-t.generatedColumn)||0!=(n=e.generatedLine-t.generatedLine)?n:p(e.name,t.name)},t.compareByGeneratedPositionsDeflated=function(e,t,r){var n=e.generatedLine-t.generatedLine;return 0!==n||0!=(n=e.generatedColumn-t.generatedColumn)||r||0!==(n=p(e.source,t.source))||0!=(n=e.originalLine-t.originalLine)||0!=(n=e.originalColumn-t.originalColumn)?n:p(e.name,t.name)},t.compareByGeneratedPositionsInflated=function(e,t){var r=e.generatedLine-t.generatedLine;return 0!==r||0!=(r=e.generatedColumn-t.generatedColumn)||0!==(r=p(e.source,t.source))||0!=(r=e.originalLine-t.originalLine)||0!=(r=e.originalColumn-t.originalColumn)?r:p(e.name,t.name)},t.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},t.computeSourceURL=function(e,t,r){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),r){var n=i(r);if(!n)throw new Error("sourceMapURL could not be parsed");if(n.path){var c=n.path.lastIndexOf("/");c>=0&&(n.path=n.path.substring(0,c+1))}t=a(o(n),t)}return s(t)}},91091:(e,t,r)=>{r(41554).h,t.SourceMapConsumer=r(10645).SourceMapConsumer,r(2477)},95769:(e,t,r)=>{e=r.nmd(e);var n,i=r(91091).SourceMapConsumer,o=r(71017);try{(n=r(57147)).existsSync&&n.readFileSync||(n=null)}catch(e){}var s=r(47790);function a(e,t){return e.require(t)}var c=!1,u=!1,l=!1,p="auto",d={},h={},f=/^data:application\/json[^,]+base64,/,m=[],g=[];function y(){return"browser"===p||"node"!==p&&"undefined"!=typeof window&&"function"==typeof XMLHttpRequest&&!(window.require&&window.module&&window.process&&"renderer"===window.process.type)}function b(e){return function(t){for(var r=0;r<e.length;r++){var n=e[r](t);if(n)return n}return null}}var v=b(m);function w(e,t){if(!e)return t;var r=o.dirname(e),n=/^\w+:\/\/[^\/]*/.exec(r),i=n?n[0]:"",s=r.slice(i.length);return i&&/^\/\w\:/.test(s)?(i+="/")+o.resolve(r.slice(i.length),t).replace(/\\/g,"/"):i+o.resolve(r.slice(i.length),t)}m.push((function(e){if(e=e.trim(),/^file:/.test(e)&&(e=e.replace(/file:\/\/\/(\w:)?/,(function(e,t){return t?"":"/"}))),e in d)return d[e];var t="";try{if(n)n.existsSync(e)&&(t=n.readFileSync(e,"utf8"));else{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),4===r.readyState&&200===r.status&&(t=r.responseText)}}catch(e){}return d[e]=t}));var _=b(g);function S(e){var t=h[e.source];if(!t){var r=_(e.source);r?(t=h[e.source]={url:r.url,map:new i(r.map)}).map.sourcesContent&&t.map.sources.forEach((function(e,r){var n=t.map.sourcesContent[r];if(n){var i=w(t.url,e);d[i]=n}})):t=h[e.source]={url:null,map:null}}if(t&&t.map&&"function"==typeof t.map.originalPositionFor){var n=t.map.originalPositionFor(e);if(null!==n.source)return n.source=w(t.url,n.source),n}return e}function k(e){var t=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(e);if(t){var r=S({source:t[2],line:+t[3],column:t[4]-1});return"eval at "+t[1]+" ("+r.source+":"+r.line+":"+(r.column+1)+")"}return(t=/^eval at ([^(]+) \((.+)\)$/.exec(e))?"eval at "+t[1]+" ("+k(t[2])+")":e}function P(){var e,t="";if(this.isNative())t="native";else{!(e=this.getScriptNameOrSourceURL())&&this.isEval()&&(t=this.getEvalOrigin(),t+=", "),t+=e||"<anonymous>";var r=this.getLineNumber();if(null!=r){t+=":"+r;var n=this.getColumnNumber();n&&(t+=":"+n)}}var i="",o=this.getFunctionName(),s=!0,a=this.isConstructor();if(this.isToplevel()||a)a?i+="new "+(o||"<anonymous>"):o?i+=o:(i+=t,s=!1);else{var c=this.getTypeName();"[object Object]"===c&&(c="null");var u=this.getMethodName();o?(c&&0!=o.indexOf(c)&&(i+=c+"."),i+=o,u&&o.indexOf("."+u)!=o.length-u.length-1&&(i+=" [as "+u+"]")):i+=c+"."+(u||"<anonymous>")}return s&&(i+=" ("+t+")"),i}function x(e){var t={};return Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(r){t[r]=/^(?:is|get)/.test(r)?function(){return e[r].call(e)}:e[r]})),t.toString=P,t}function C(e,t){if(void 0===t&&(t={nextPosition:null,curPosition:null}),e.isNative())return t.curPosition=null,e;var r=e.getFileName()||e.getScriptNameOrSourceURL();if(r){var n=e.getLineNumber(),i=e.getColumnNumber()-1,o=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/.test("object"==typeof process&&null!==process?process.version:"")?0:62;1===n&&i>o&&!y()&&!e.isEval()&&(i-=o);var s=S({source:r,line:n,column:i});t.curPosition=s;var a=(e=x(e)).getFunctionName;return e.getFunctionName=function(){return null==t.nextPosition?a():t.nextPosition.name||a()},e.getFileName=function(){return s.source},e.getLineNumber=function(){return s.line},e.getColumnNumber=function(){return s.column+1},e.getScriptNameOrSourceURL=function(){return s.source},e}var c=e.isEval()&&e.getEvalOrigin();return c?(c=k(c),(e=x(e)).getEvalOrigin=function(){return c},e):e}function E(e,t){l&&(d={},h={});for(var r=(e.name||"Error")+": "+(e.message||""),n={nextPosition:null,curPosition:null},i=[],o=t.length-1;o>=0;o--)i.push("\n    at "+C(t[o],n)),n.nextPosition=n.curPosition;return n.curPosition=n.nextPosition=null,r+i.reverse().join("")}function D(e){var t=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(e.stack);if(t){var r=t[1],i=+t[2],o=+t[3],s=d[r];if(!s&&n&&n.existsSync(r))try{s=n.readFileSync(r,"utf8")}catch(e){s=""}if(s){var a=s.split(/(?:\r\n|\r|\n)/)[i-1];if(a)return r+":"+i+"\n"+a+"\n"+new Array(o).join(" ")+"^"}}return null}function O(e){var t=D(e),r=function(){if("object"==typeof process&&null!==process)return process.stderr}();r&&r._handle&&r._handle.setBlocking&&r._handle.setBlocking(!0),t&&(console.error(),console.error(t)),console.error(e.stack),"object"==typeof process&&null!==process&&"function"==typeof process.exit&&process.exit(1)}g.push((function(e){var t,r=function(e){var t;if(y())try{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),t=4===r.readyState?r.responseText:null;var n=r.getResponseHeader("SourceMap")||r.getResponseHeader("X-SourceMap");if(n)return n}catch(e){}t=v(e);for(var i,o,s=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/gm;o=s.exec(t);)i=o;return i?i[1]:null}(e);if(!r)return null;if(f.test(r)){var n=r.slice(r.indexOf(",")+1);t=s(n,"base64").toString(),r=e}else r=w(e,r),t=v(r);return t?{url:r,map:t}:null}));var A=m.slice(0),M=g.slice(0);t.wrapCallSite=C,t.getErrorSource=D,t.mapSourcePosition=S,t.retrieveSourceMap=_,t.install=function(t){if((t=t||{}).environment&&(p=t.environment,-1===["node","browser","auto"].indexOf(p)))throw new Error("environment "+p+" was unknown. Available options are {auto, browser, node}");if(t.retrieveFile&&(t.overrideRetrieveFile&&(m.length=0),m.unshift(t.retrieveFile)),t.retrieveSourceMap&&(t.overrideRetrieveSourceMap&&(g.length=0),g.unshift(t.retrieveSourceMap)),t.hookRequire&&!y()){var r=a(e,"module"),n=r.prototype._compile;n.__sourceMapSupport||(r.prototype._compile=function(e,t){return d[t]=e,h[t]=void 0,n.call(this,e,t)},r.prototype._compile.__sourceMapSupport=!0)}if(l||(l="emptyCacheBetweenOperations"in t&&t.emptyCacheBetweenOperations),c||(c=!0,Error.prepareStackTrace=E),!u){var i=!("handleUncaughtExceptions"in t)||t.handleUncaughtExceptions;try{!1===a(e,"worker_threads").isMainThread&&(i=!1)}catch(e){}i&&"object"==typeof process&&null!==process&&"function"==typeof process.on&&(u=!0,o=process.emit,process.emit=function(e){if("uncaughtException"===e){var t=arguments[1]&&arguments[1].stack,r=this.listeners(e).length>0;if(t&&!r)return O(arguments[1])}return o.apply(this,arguments)})}var o},t.resetRetrieveHandlers=function(){m.length=0,g.length=0,m=A.slice(0),g=M.slice(0),_=b(g),v=b(m)}},43777:(e,t)=>{class r{constructor(){this._array=[],this._set=new Map}static fromArray(e,t){const n=new r;for(let r=0,i=e.length;r<i;r++)n.add(e[r],t);return n}size(){return this._set.size}add(e,t){const r=this.has(e),n=this._array.length;r&&!t||this._array.push(e),r||this._set.set(e,n)}has(e){return this._set.has(e)}indexOf(e){const t=this._set.get(e);if(t>=0)return t;throw new Error('"'+e+'" is not in the set.')}at(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)}toArray(){return this._array.slice()}}t.I=r},78293:(e,t,r)=>{const n=r(47264);t.encode=function(e){let t,r="",i=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&i,i>>>=5,i>0&&(t|=32),r+=n.encode(t)}while(i>0);return r}},47264:(e,t)=>{const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.encode=function(e){if(0<=e&&e<r.length)return r[e];throw new TypeError("Must be between 0 and 63: "+e)}},22434:(e,t)=>{function r(e,n,i,o,s,a){const c=Math.floor((n-e)/2)+e,u=s(i,o[c],!0);return 0===u?c:u>0?n-c>1?r(c,n,i,o,s,a):a==t.LEAST_UPPER_BOUND?n<o.length?n:-1:c:c-e>1?r(e,c,i,o,s,a):a==t.LEAST_UPPER_BOUND?c:e<0?-1:e}t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,n,i,o){if(0===n.length)return-1;let s=r(-1,n.length,e,n,i,o||t.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&0===i(n[s],n[s-1],!0);)--s;return s}},96638:(e,t,r)=>{const n=r(97734);t.H=class{constructor(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}unsortedForEach(e,t){this._array.forEach(e,t)}add(e){!function(e,t){const r=e.generatedLine,i=t.generatedLine,o=e.generatedColumn,s=t.generatedColumn;return i>r||i==r&&s>=o||n.compareByGeneratedPositionsInflated(e,t)<=0}(this._last,e)?(this._sorted=!1,this._array.push(e)):(this._last=e,this._array.push(e))}toArray(){return this._sorted||(this._array.sort(n.compareByGeneratedPositionsInflated),this._sorted=!0),this._array}}},87043:(e,t,r)=>{"use strict";const n=r(57147),i=r(71017);e.exports=function(){return new Promise(((e,t)=>{const r=i.join(__dirname,"mappings.wasm");n.readFile(r,null,((r,n)=>{r?t(r):e(n.buffer)}))}))},e.exports.initialize=e=>{console.debug("SourceMapConsumer.initialize is a no-op when running in node.js")}},11899:(e,t,r)=>{const n=r(97734),i=r(22434),o=r(43777).I,s=(r(78293),r(87043)),a=r(32531),c=Symbol("smcInternal");class u{constructor(e,t){return e==c?Promise.resolve(this):function(e,t){let r=e;"string"==typeof e&&(r=n.parseSourceMapInput(e));const i=null!=r.sections?new p(r,t):new l(r,t);return Promise.resolve(i)}(e,t)}static initialize(e){s.initialize(e["lib/mappings.wasm"])}static fromSourceMap(e,t){return function(e,t){return l.fromSourceMap(e,t)}(e,t)}static async with(e,t,r){const n=await new u(e,t);try{return await r(n)}finally{n.destroy()}}eachMapping(e,t,r){throw new Error("Subclasses must implement eachMapping")}allGeneratedPositionsFor(e){throw new Error("Subclasses must implement allGeneratedPositionsFor")}destroy(){throw new Error("Subclasses must implement destroy")}}u.prototype._version=3,u.GENERATED_ORDER=1,u.ORIGINAL_ORDER=2,u.GREATEST_LOWER_BOUND=1,u.LEAST_UPPER_BOUND=2,t.SourceMapConsumer=u;class l extends u{constructor(e,t){return super(c).then((r=>{let i=e;"string"==typeof e&&(i=n.parseSourceMapInput(e));const s=n.getArg(i,"version"),c=n.getArg(i,"sources").map(String),u=n.getArg(i,"names",[]),l=n.getArg(i,"sourceRoot",null),p=n.getArg(i,"sourcesContent",null),d=n.getArg(i,"mappings"),h=n.getArg(i,"file",null);if(s!=r._version)throw new Error("Unsupported version: "+s);return r._sourceLookupCache=new Map,r._names=o.fromArray(u.map(String),!0),r._sources=o.fromArray(c,!0),r._absoluteSources=o.fromArray(r._sources.toArray().map((function(e){return n.computeSourceURL(l,e,t)})),!0),r.sourceRoot=l,r.sourcesContent=p,r._mappings=d,r._sourceMapURL=t,r.file=h,r._computedColumnSpans=!1,r._mappingsPtr=0,r._wasm=null,a().then((e=>(r._wasm=e,r)))}))}_findSourceIndex(e){const t=this._sourceLookupCache.get(e);if("number"==typeof t)return t;const r=n.computeSourceURL(null,e,this._sourceMapURL);if(this._absoluteSources.has(r)){const t=this._absoluteSources.indexOf(r);return this._sourceLookupCache.set(e,t),t}const i=n.computeSourceURL(this.sourceRoot,e,this._sourceMapURL);if(this._absoluteSources.has(i)){const t=this._absoluteSources.indexOf(i);return this._sourceLookupCache.set(e,t),t}return-1}static fromSourceMap(e,t){return new l(e.toString())}get sources(){return this._absoluteSources.toArray()}_getMappingsPtr(){return 0===this._mappingsPtr&&this._parseMappings(),this._mappingsPtr}_parseMappings(){const e=this._mappings,t=e.length,r=this._wasm.exports.allocate_mappings(t),n=new Uint8Array(this._wasm.exports.memory.buffer,r,t);for(let r=0;r<t;r++)n[r]=e.charCodeAt(r);const i=this._wasm.exports.parse_mappings(r);if(!i){const e=this._wasm.exports.get_last_error();let t=`Error parsing mappings (code ${e}): `;switch(e){case 1:t+="the mappings contained a negative line, column, source index, or name index";break;case 2:t+="the mappings contained a number larger than 2**32";break;case 3:t+="reached EOF while in the middle of parsing a VLQ";break;case 4:t+="invalid base 64 character while parsing a VLQ";break;default:t+="unknown error code"}throw new Error(t)}this._mappingsPtr=i}eachMapping(e,t,r){const n=t||null,i=r||u.GENERATED_ORDER;this._wasm.withMappingCallback((t=>{null!==t.source&&(t.source=this._absoluteSources.at(t.source),null!==t.name&&(t.name=this._names.at(t.name))),this._computedColumnSpans&&null===t.lastGeneratedColumn&&(t.lastGeneratedColumn=1/0),e.call(n,t)}),(()=>{switch(i){case u.GENERATED_ORDER:this._wasm.exports.by_generated_location(this._getMappingsPtr());break;case u.ORIGINAL_ORDER:this._wasm.exports.by_original_location(this._getMappingsPtr());break;default:throw new Error("Unknown order of iteration.")}}))}allGeneratedPositionsFor(e){let t=n.getArg(e,"source");const r=n.getArg(e,"line"),i=e.column||0;if(t=this._findSourceIndex(t),t<0)return[];if(r<1)throw new Error("Line numbers must be >= 1");if(i<0)throw new Error("Column numbers must be >= 0");const o=[];return this._wasm.withMappingCallback((e=>{let t=e.lastGeneratedColumn;this._computedColumnSpans&&null===t&&(t=1/0),o.push({line:e.generatedLine,column:e.generatedColumn,lastColumn:t})}),(()=>{this._wasm.exports.all_generated_locations_for(this._getMappingsPtr(),t,r-1,"column"in e,i)})),o}destroy(){0!==this._mappingsPtr&&(this._wasm.exports.free_mappings(this._mappingsPtr),this._mappingsPtr=0)}computeColumnSpans(){this._computedColumnSpans||(this._wasm.exports.compute_column_spans(this._getMappingsPtr()),this._computedColumnSpans=!0)}originalPositionFor(e){const t={generatedLine:n.getArg(e,"line"),generatedColumn:n.getArg(e,"column")};if(t.generatedLine<1)throw new Error("Line numbers must be >= 1");if(t.generatedColumn<0)throw new Error("Column numbers must be >= 0");let r,i=n.getArg(e,"bias",u.GREATEST_LOWER_BOUND);if(null==i&&(i=u.GREATEST_LOWER_BOUND),this._wasm.withMappingCallback((e=>r=e),(()=>{this._wasm.exports.original_location_for(this._getMappingsPtr(),t.generatedLine-1,t.generatedColumn,i)})),r&&r.generatedLine===t.generatedLine){let e=n.getArg(r,"source",null);null!==e&&(e=this._absoluteSources.at(e));let t=n.getArg(r,"name",null);return null!==t&&(t=this._names.at(t)),{source:e,line:n.getArg(r,"originalLine",null),column:n.getArg(r,"originalColumn",null),name:t}}return{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return!!this.sourcesContent&&this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(e){return null==e}))}sourceContentFor(e,t){if(!this.sourcesContent)return null;const r=this._findSourceIndex(e);if(r>=0)return this.sourcesContent[r];if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')}generatedPositionFor(e){let t=n.getArg(e,"source");if(t=this._findSourceIndex(t),t<0)return{line:null,column:null,lastColumn:null};const r={source:t,originalLine:n.getArg(e,"line"),originalColumn:n.getArg(e,"column")};if(r.originalLine<1)throw new Error("Line numbers must be >= 1");if(r.originalColumn<0)throw new Error("Column numbers must be >= 0");let i,o=n.getArg(e,"bias",u.GREATEST_LOWER_BOUND);if(null==o&&(o=u.GREATEST_LOWER_BOUND),this._wasm.withMappingCallback((e=>i=e),(()=>{this._wasm.exports.generated_location_for(this._getMappingsPtr(),r.source,r.originalLine-1,r.originalColumn,o)})),i&&i.source===r.source){let e=i.lastGeneratedColumn;return this._computedColumnSpans&&null===e&&(e=1/0),{line:n.getArg(i,"generatedLine",null),column:n.getArg(i,"generatedColumn",null),lastColumn:e}}return{line:null,column:null,lastColumn:null}}}l.prototype.consumer=u;class p extends u{constructor(e,t){return super(c).then((r=>{let i=e;"string"==typeof e&&(i=n.parseSourceMapInput(e));const o=n.getArg(i,"version"),s=n.getArg(i,"sections");if(o!=r._version)throw new Error("Unsupported version: "+o);let a={line:-1,column:0};return Promise.all(s.map((e=>{if(e.url)throw new Error("Support for url field in sections not implemented.");const r=n.getArg(e,"offset"),i=n.getArg(r,"line"),o=n.getArg(r,"column");if(i<a.line||i===a.line&&o<a.column)throw new Error("Section offsets must be ordered and non-overlapping.");return a=r,new u(n.getArg(e,"map"),t).then((e=>({generatedOffset:{generatedLine:i+1,generatedColumn:o+1},consumer:e})))}))).then((e=>(r._sections=e,r)))}))}get sources(){const e=[];for(let t=0;t<this._sections.length;t++)for(let r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e}originalPositionFor(e){const t={generatedLine:n.getArg(e,"line"),generatedColumn:n.getArg(e,"column")},r=i.search(t,this._sections,(function(e,t){return e.generatedLine-t.generatedOffset.generatedLine||e.generatedColumn-t.generatedOffset.generatedColumn})),o=this._sections[r];return o?o.consumer.originalPositionFor({line:t.generatedLine-(o.generatedOffset.generatedLine-1),column:t.generatedColumn-(o.generatedOffset.generatedLine===t.generatedLine?o.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return this._sections.every((function(e){return e.consumer.hasContentsOfAllSources()}))}sourceContentFor(e,t){for(let t=0;t<this._sections.length;t++){const r=this._sections[t].consumer.sourceContentFor(e,!0);if(r)return r}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')}_findSectionIndex(e){for(let t=0;t<this._sections.length;t++){const{consumer:r}=this._sections[t];if(-1!==r._findSourceIndex(e))return t}return-1}generatedPositionFor(e){const t=this._findSectionIndex(n.getArg(e,"source")),r=t>=0?this._sections[t]:null,i=t>=0&&t+1<this._sections.length?this._sections[t+1]:null,o=r&&r.consumer.generatedPositionFor(e);if(o&&null!==o.line){const e=r.generatedOffset.generatedLine-1,t=r.generatedOffset.generatedColumn-1;return 1===o.line&&(o.column+=t,"number"==typeof o.lastColumn&&(o.lastColumn+=t)),o.lastColumn===1/0&&i&&o.line===i.generatedOffset.generatedLine&&(o.lastColumn=i.generatedOffset.generatedColumn-2),o.line+=e,o}return{line:null,column:null,lastColumn:null}}allGeneratedPositionsFor(e){const t=this._findSectionIndex(n.getArg(e,"source")),r=t>=0?this._sections[t]:null,i=t>=0&&t+1<this._sections.length?this._sections[t+1]:null;return r?r.consumer.allGeneratedPositionsFor(e).map((e=>{const t=r.generatedOffset.generatedLine-1,n=r.generatedOffset.generatedColumn-1;return 1===e.line&&(e.column+=n,"number"==typeof e.lastColumn&&(e.lastColumn+=n)),e.lastColumn===1/0&&i&&e.line===i.generatedOffset.generatedLine&&(e.lastColumn=i.generatedOffset.generatedColumn-2),e.line+=t,e})):[]}eachMapping(e,t,r){this._sections.forEach(((n,i)=>{const o=i+1<this._sections.length?this._sections[i+1]:null,{generatedOffset:s}=n,a=s.generatedLine-1,c=s.generatedColumn-1;n.consumer.eachMapping((function(t){1===t.generatedLine&&(t.generatedColumn+=c,"number"==typeof t.lastGeneratedColumn&&(t.lastGeneratedColumn+=c)),t.lastGeneratedColumn===1/0&&o&&t.generatedLine===o.generatedOffset.generatedLine&&(t.lastGeneratedColumn=o.generatedOffset.generatedColumn-2),t.generatedLine+=a,e.call(this,t)}),t,r)}))}computeColumnSpans(){for(let e=0;e<this._sections.length;e++)this._sections[e].consumer.computeColumnSpans()}destroy(){for(let e=0;e<this._sections.length;e++)this._sections[e].consumer.destroy()}}},6962:(e,t,r)=>{const n=r(78293),i=r(97734),o=r(43777).I,s=r(96638).H;class a{constructor(e){e||(e={}),this._file=i.getArg(e,"file",null),this._sourceRoot=i.getArg(e,"sourceRoot",null),this._skipValidation=i.getArg(e,"skipValidation",!1),this._sources=new o,this._names=new o,this._mappings=new s,this._sourcesContents=null}static fromSourceMap(e){const t=e.sourceRoot,r=new a({file:e.file,sourceRoot:t});return e.eachMapping((function(e){const n={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(n.source=e.source,null!=t&&(n.source=i.relative(t,n.source)),n.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(n.name=e.name)),r.addMapping(n)})),e.sources.forEach((function(n){let o=n;null!==t&&(o=i.relative(t,n)),r._sources.has(o)||r._sources.add(o);const s=e.sourceContentFor(n);null!=s&&r.setSourceContent(n,s)})),r}addMapping(e){const t=i.getArg(e,"generated"),r=i.getArg(e,"original",null);let n=i.getArg(e,"source",null),o=i.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,r,n,o),null!=n&&(n=String(n),this._sources.has(n)||this._sources.add(n)),null!=o&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=r&&r.line,originalColumn:null!=r&&r.column,source:n,name:o})}setSourceContent(e,t){let r=e;null!=this._sourceRoot&&(r=i.relative(this._sourceRoot,r)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[i.toSetString(r)]=t):this._sourcesContents&&(delete this._sourcesContents[i.toSetString(r)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))}applySourceMap(e,t,r){let n=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');n=e.file}const s=this._sourceRoot;null!=s&&(n=i.relative(s,n));const a=this._mappings.toArray().length>0?new o:this._sources,c=new o;this._mappings.unsortedForEach((function(t){if(t.source===n&&null!=t.originalLine){const n=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=n.source&&(t.source=n.source,null!=r&&(t.source=i.join(r,t.source)),null!=s&&(t.source=i.relative(s,t.source)),t.originalLine=n.line,t.originalColumn=n.column,null!=n.name&&(t.name=n.name))}const o=t.source;null==o||a.has(o)||a.add(o);const u=t.name;null==u||c.has(u)||c.add(u)}),this),this._sources=a,this._names=c,e.sources.forEach((function(t){const n=e.sourceContentFor(t);null!=n&&(null!=r&&(t=i.join(r,t)),null!=s&&(t=i.relative(s,t)),this.setSourceContent(t,n))}),this)}_validateMapping(e,t,r,n){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0&&!t&&!r&&!n);else if(!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&r))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:r,original:t,name:n}))}_serializeMappings(){let e,t,r,o,s=0,a=1,c=0,u=0,l=0,p=0,d="";const h=this._mappings.toArray();for(let f=0,m=h.length;f<m;f++){if(t=h[f],e="",t.generatedLine!==a)for(s=0;t.generatedLine!==a;)e+=";",a++;else if(f>0){if(!i.compareByGeneratedPositionsInflated(t,h[f-1]))continue;e+=","}e+=n.encode(t.generatedColumn-s),s=t.generatedColumn,null!=t.source&&(o=this._sources.indexOf(t.source),e+=n.encode(o-p),p=o,e+=n.encode(t.originalLine-1-u),u=t.originalLine-1,e+=n.encode(t.originalColumn-c),c=t.originalColumn,null!=t.name&&(r=this._names.indexOf(t.name),e+=n.encode(r-l),l=r)),d+=e}return d}_generateSourcesContent(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=i.relative(t,e));const r=i.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,r)?this._sourcesContents[r]:null}),this)}toJSON(){const e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e}toString(){return JSON.stringify(this.toJSON())}}a.prototype._version=3,t.SourceMapGenerator=a},10563:(e,t,r)=>{const n=r(6962).SourceMapGenerator,i=r(97734),o=/(\r?\n)/,s="$$$isSourceNode$$$";class a{constructor(e,t,r,n,i){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==r?null:r,this.name=null==i?null:i,this[s]=!0,null!=n&&this.add(n)}static fromStringWithSourceMap(e,t,r){const n=new a,s=e.split(o);let c=0;const u=function(){return e()+(e()||"");function e(){return c<s.length?s[c++]:void 0}};let l,p=1,d=0,h=null;return t.eachMapping((function(e){if(null!==h){if(!(p<e.generatedLine)){l=s[c]||"";const t=l.substr(0,e.generatedColumn-d);return s[c]=l.substr(e.generatedColumn-d),d=e.generatedColumn,f(h,t),void(h=e)}f(h,u()),p++,d=0}for(;p<e.generatedLine;)n.add(u()),p++;d<e.generatedColumn&&(l=s[c]||"",n.add(l.substr(0,e.generatedColumn)),s[c]=l.substr(e.generatedColumn),d=e.generatedColumn),h=e}),this),c<s.length&&(h&&f(h,u()),n.add(s.splice(c).join(""))),t.sources.forEach((function(e){const o=t.sourceContentFor(e);null!=o&&(null!=r&&(e=i.join(r,e)),n.setSourceContent(e,o))})),n;function f(e,t){if(null===e||void 0===e.source)n.add(t);else{const o=r?i.join(r,e.source):e.source;n.add(new a(e.originalLine,e.originalColumn,o,t,e.name))}}}add(e){if(Array.isArray(e))e.forEach((function(e){this.add(e)}),this);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this}prepend(e){if(Array.isArray(e))for(let t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this}walk(e){let t;for(let r=0,n=this.children.length;r<n;r++)t=this.children[r],t[s]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})}join(e){let t,r;const n=this.children.length;if(n>0){for(t=[],r=0;r<n-1;r++)t.push(this.children[r]),t.push(e);t.push(this.children[r]),this.children=t}return this}replaceRight(e,t){const r=this.children[this.children.length-1];return r[s]?r.replaceRight(e,t):"string"==typeof r?this.children[this.children.length-1]=r.replace(e,t):this.children.push("".replace(e,t)),this}setSourceContent(e,t){this.sourceContents[i.toSetString(e)]=t}walkSourceContents(e){for(let t=0,r=this.children.length;t<r;t++)this.children[t][s]&&this.children[t].walkSourceContents(e);const t=Object.keys(this.sourceContents);for(let r=0,n=t.length;r<n;r++)e(i.fromSetString(t[r]),this.sourceContents[t[r]])}toString(){let e="";return this.walk((function(t){e+=t})),e}toStringWithSourceMap(e){const t={code:"",line:1,column:0},r=new n(e);let i=!1,o=null,s=null,a=null,c=null;return this.walk((function(e,n){t.code+=e,null!==n.source&&null!==n.line&&null!==n.column?(o===n.source&&s===n.line&&a===n.column&&c===n.name||r.addMapping({source:n.source,original:{line:n.line,column:n.column},generated:{line:t.line,column:t.column},name:n.name}),o=n.source,s=n.line,a=n.column,c=n.name,i=!0):i&&(r.addMapping({generated:{line:t.line,column:t.column}}),o=null,i=!1);for(let s=0,a=e.length;s<a;s++)10===e.charCodeAt(s)?(t.line++,t.column=0,s+1===a?(o=null,i=!1):i&&r.addMapping({source:n.source,original:{line:n.line,column:n.column},generated:{line:t.line,column:t.column},name:n.name})):t.column++})),this.walkSourceContents((function(e,t){r.setSourceContent(e,t)})),{code:t.code,map:r}}}t.SourceNode=a},28254:(e,t,r)=>{"use strict";e.exports="function"==typeof URL?URL:r(57310).URL},97734:(e,t,r)=>{const n=r(28254);t.getArg=function(e,t,r){if(t in e)return e[t];if(3===arguments.length)return r;throw new Error('"'+t+'" is a required argument.')};const i=!("__proto__"in Object.create(null));function o(e){return e}function s(e){if(!e)return!1;const t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(let r=t-10;r>=0;r--)if(36!==e.charCodeAt(r))return!1;return!0}function a(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}t.toSetString=i?o:function(e){return s(e)?"$"+e:e},t.fromSetString=i?o:function(e){return s(e)?e.slice(1):e},t.compareByGeneratedPositionsInflated=function(e,t){let r=e.generatedLine-t.generatedLine;return 0!==r?r:(r=e.generatedColumn-t.generatedColumn,0!==r?r:(r=a(e.source,t.source),0!==r?r:(r=e.originalLine-t.originalLine,0!==r?r:(r=e.originalColumn-t.originalColumn,0!==r?r:a(e.name,t.name)))))},t.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))};const c="http:",u="http://host";function l(e){return t=>{const r=f(t),i=d(t),o=new n(t,i);e(o);const s=o.toString();return"absolute"===r?s:"scheme-relative"===r?s.slice(c.length):"path-absolute"===r?s.slice(u.length):m(i,s)}}function p(e,t){return new n(e,t).toString()}function d(e){const t=e.split("..").length-1,r=function(e,t){let r=0;for(;;){const e="p"+r++;if(-1===t.indexOf(e))return e}}(0,e);let n="http://host/";for(let e=0;e<t;e++)n+=`${r}/`;return n}const h=/^[A-Za-z0-9\+\-\.]+:/;function f(e){return"/"===e[0]?"/"===e[1]?"scheme-relative":"path-absolute":h.test(e)?"absolute":"path-relative"}function m(e,t){"string"==typeof e&&(e=new n(e)),"string"==typeof t&&(t=new n(t));const r=t.pathname.split("/"),i=e.pathname.split("/");for(i.length>0&&!i[i.length-1]&&i.pop();r.length>0&&i.length>0&&r[0]===i[0];)r.shift(),i.shift();return i.map((()=>"..")).concat(r).join("/")+t.search+t.hash}const g=l((e=>{e.pathname=e.pathname.replace(/\/?$/,"/")})),y=l((e=>{e.href=new n(".",e.toString()).toString()})),b=l((e=>{}));function v(e,t){const r=f(t),n=f(e);if(e=g(e),"absolute"===r)return p(t,void 0);if("absolute"===n)return p(t,e);if("scheme-relative"===r)return b(t);if("scheme-relative"===n)return p(t,p(e,u)).slice(c.length);if("path-absolute"===r)return b(t);if("path-absolute"===n)return p(t,p(e,u)).slice(u.length);const i=d(t+e);return m(i,p(t,p(e,i)))}t.normalize=b,t.join=v,t.relative=function(e,t){const r=function(e,t){if(f(e)!==f(t))return null;const r=d(e+t),i=new n(e,r),o=new n(t,r);try{new n("",o.toString())}catch(e){return null}return o.protocol!==i.protocol||o.user!==i.user||o.password!==i.password||o.hostname!==i.hostname||o.port!==i.port?null:m(i,o)}(e,t);return"string"==typeof r?r:b(t)},t.computeSourceURL=function(e,t,r){e&&"path-absolute"===f(t)&&(t=t.replace(/^\//,""));let n=b(t||"");return e&&(n=v(e,n)),r&&(n=v(y(r),n)),n}},32531:(e,t,r)=>{const n=r(87043);function i(){this.generatedLine=0,this.generatedColumn=0,this.lastGeneratedColumn=null,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}let o=null;e.exports=function(){if(o)return o;const e=[];return o=n().then((t=>WebAssembly.instantiate(t,{env:{mapping_callback(t,r,n,o,s,a,c,u,l,p){const d=new i;d.generatedLine=t+1,d.generatedColumn=r,n&&(d.lastGeneratedColumn=o-1),s&&(d.source=a,d.originalLine=c+1,d.originalColumn=u,l&&(d.name=p)),e[e.length-1](d)},start_all_generated_locations_for(){console.time("all_generated_locations_for")},end_all_generated_locations_for(){console.timeEnd("all_generated_locations_for")},start_compute_column_spans(){console.time("compute_column_spans")},end_compute_column_spans(){console.timeEnd("compute_column_spans")},start_generated_location_for(){console.time("generated_location_for")},end_generated_location_for(){console.timeEnd("generated_location_for")},start_original_location_for(){console.time("original_location_for")},end_original_location_for(){console.timeEnd("original_location_for")},start_parse_mappings(){console.time("parse_mappings")},end_parse_mappings(){console.timeEnd("parse_mappings")},start_sort_by_generated_location(){console.time("sort_by_generated_location")},end_sort_by_generated_location(){console.timeEnd("sort_by_generated_location")},start_sort_by_original_location(){console.time("sort_by_original_location")},end_sort_by_original_location(){console.timeEnd("sort_by_original_location")}}}))).then((t=>({exports:t.instance.exports,withMappingCallback:(t,r)=>{e.push(t);try{r()}finally{e.pop()}}}))).then(null,(e=>{throw o=null,e})),o}},69074:(e,t,r)=>{t.SourceMapGenerator=r(6962).SourceMapGenerator,t.SourceMapConsumer=r(11899).SourceMapConsumer,t.SourceNode=r(10563).SourceNode},67794:(e,t,r)=>{"use strict";const{Transform:n}=r(12781),{StringDecoder:i}=r(71576),o=Symbol("last"),s=Symbol("decoder");function a(e,t,r){let n;if(this.overflow){if(n=this[s].write(e).split(this.matcher),1===n.length)return r();n.shift(),this.overflow=!1}else this[o]+=this[s].write(e),n=this[o].split(this.matcher);this[o]=n.pop();for(let e=0;e<n.length;e++)try{u(this,this.mapper(n[e]))}catch(e){return r(e)}this.overflow=this[o].length>this.maxLength,!this.overflow||this.skipOverflow?r():r(new Error("maximum buffer reached"))}function c(e){if(this[o]+=this[s].end(),this[o])try{u(this,this.mapper(this[o]))}catch(t){return e(t)}e()}function u(e,t){void 0!==t&&e.push(t)}function l(e){return e}e.exports=function(e,t,r){switch(e=e||/\r?\n/,t=t||l,r=r||{},arguments.length){case 1:"function"==typeof e?(t=e,e=/\r?\n/):"object"!=typeof e||e instanceof RegExp||(r=e,e=/\r?\n/);break;case 2:"function"==typeof e?(r=t,t=e,e=/\r?\n/):"object"==typeof t&&(r=t,t=l)}(r=Object.assign({},r)).autoDestroy=!0,r.transform=a,r.flush=c,r.readableObjectMode=!0;const u=new n(r);return u[o]="",u[s]=new i("utf8"),u.matcher=e,u.mapper=t,u.maxLength=r.maxLength,u.skipOverflow=r.skipOverflow||!1,u.overflow=!1,u._destroy=function(e,t){this._writableState.errorEmitted=!1,t(e)},u}},86736:e=>{e.exports=function(e){var t,r=e._readableState;return r?r.objectMode?e.read():e.read((t=r).buffer.length?t.buffer.head?t.buffer.head.data.length:t.buffer[0].length:t.length):null}},45255:(e,t,r)=>{"use strict";var n=r(4901).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=l,this.end=p,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function p(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=s(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=s(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=s(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},4901:(e,t,r)=>{var n=r(14300),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},89255:e=>{"use strict";e.exports=function(e){var t="string"==typeof e?"\n":"\n".charCodeAt(),r="string"==typeof e?"\r":"\r".charCodeAt();return e[e.length-1]===t&&(e=e.slice(0,e.length-1)),e[e.length-1]===r&&(e=e.slice(0,e.length-1)),e}},34521:e=>{"use strict";e.exports=e=>{const t="string"==typeof e?"\n":"\n".charCodeAt(),r="string"==typeof e?"\r":"\r".charCodeAt();return e[e.length-1]===t&&(e=e.slice(0,e.length-1)),e[e.length-1]===r&&(e=e.slice(0,e.length-1)),e}},27581:(e,t,r)=>{"use strict";const n=r(22037),i=r(36275),o=process.env;let s;function a(e){const t=function(e){if(!1===s)return 0;if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2;if(e&&!e.isTTY&&!0!==s)return 0;const t=s?1:0;if("win32"===process.platform){const e=n.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in o)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some((e=>e in o))||"codeship"===o.CI_NAME?1:t;if("TEAMCITY_VERSION"in o)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION)?1:0;if("truecolor"===o.COLORTERM)return 3;if("TERM_PROGRAM"in o){const e=parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(o.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)||"COLORTERM"in o?1:(o.TERM,t)}(e);return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(t)}i("no-color")||i("no-colors")||i("color=false")?s=!1:(i("color")||i("colors")||i("color=true")||i("color=always"))&&(s=!0),"FORCE_COLOR"in o&&(s=0===o.FORCE_COLOR.length||0!==parseInt(o.FORCE_COLOR,10)),e.exports={supportsColor:a,stdout:a(process.stdout),stderr:a(process.stderr)}},74248:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(79009);t.ExperimentationService=n.ExperimentationService},79009:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(80592),i=r(24762),o=r(3043);class s extends o.ExperimentationServiceAutoPolling{constructor(e){super(e.telemetry,e.filterProviders||[],null!=e.refetchInterval?e.refetchInterval:0,e.featuresTelemetryPropertyName,e.assignmentContextTelemetryPropertyName,e.telemetryEventName,e.storageKey,e.keyValueStorage),this.options=e,this.invokeInit()}init(){this.featureProviders=[],this.addFeatureProvider(new n.TasApiFeatureProvider(new i.AxiosHttpClient(this.options.endpoint),this.telemetry,this.filterProviders)),super.init()}}t.ExperimentationService=s,s.REFRESH_RATE_IN_MINUTES=30},3043:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(59859),i=r(93283);class o extends n.ExperimentationServiceBase{constructor(e,t,r,n,o,s,a,c){if(super(e,n,o,s,a,c),this.telemetry=e,this.filterProviders=t,this.refreshRateMs=r,this.featuresTelemetryPropertyName=n,this.assignmentContextTelemetryPropertyName=o,this.telemetryEventName=s,this.storageKey=a,this.storage=c,r<1e3&&0!==r)throw new Error("The minimum refresh rate for polling is 1000 ms (1 second). If you wish to deactivate this auto-polling use value of 0.");r>0&&(this.pollingService=new i.PollingService(r),this.pollingService.OnPollTick((async()=>{await super.getFeaturesAsync()})))}init(){this.pollingService?this.pollingService.StartPolling(!0):super.getFeaturesAsync()}async getFeaturesAsync(e=!1){if(this.pollingService){this.pollingService.StopPolling();let t=await super.getFeaturesAsync(e);return this.pollingService.StartPolling(),t}return await super.getFeaturesAsync(e)}}t.ExperimentationServiceAutoPolling=o},59859:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(20350);t.ExperimentationServiceBase=class{constructor(e,t,r,i,o,s){this.telemetry=e,this.featuresTelemetryPropertyName=t,this.assignmentContextTelemetryPropertyName=r,this.telemetryEventName=i,this.storageKey=o,this.storage=s,this.featuresConsumed=!1,this.cachedTelemetryEvents=[],this._features={features:[],assignmentContext:"",configs:[]},this.storageKey||(this.storageKey="ABExp.Features"),this.storage||(s=new n.MemoryKeyValueStorage),this.loadCachePromise=this.loadCachedFeatureData(),this.initializePromise=this.loadCachePromise,this.initialFetch=new Promise(((e,t)=>{this.resolveInitialFetchPromise=e}))}get features(){return this._features}set features(e){this._features=e,this.telemetry&&(this.telemetry.setSharedProperty(this.featuresTelemetryPropertyName,this.features.features.join(";")),this.telemetry.setSharedProperty(this.assignmentContextTelemetryPropertyName,this.features.assignmentContext))}async getFeaturesAsync(e=!1){if(null!=this.fetchPromise){try{await this.fetchPromise}catch(e){}return this.features}if(!this.featureProviders||0===this.featureProviders.length)return Promise.resolve({features:[],assignmentContext:"",configs:[]});this.fetchPromise=Promise.all(this.featureProviders.map((async e=>await e.getFeatures())));try{const t=await this.fetchPromise;this.updateFeatures(t,e)}catch(e){}return this.fetchPromise=void 0,this.resolveInitialFetchPromise&&(this.resolveInitialFetchPromise(),this.resolveInitialFetchPromise=void 0),this.features}updateFeatures(e,t=!1){let r={features:[],assignmentContext:"",configs:[]};for(let t of e){for(let e of t.features)r.features.includes(e)||r.features.push(e);for(let e of t.configs){const t=r.configs.find((t=>t.Id===e.Id));t?t.Parameters=Object.assign(Object.assign({},t.Parameters),e.Parameters):r.configs.push(e)}r.assignmentContext+=t.assignmentContext}!t&&this.featuresConsumed||(this.features=r),this.storage&&this.storage.setValue(this.storageKey,r)}async loadCachedFeatureData(){let e;this.storage&&(e=await this.storage.getValue(this.storageKey),void 0!==e&&void 0===e.configs&&(e.configs=[])),0===this.features.features.length&&(this.features=e||{features:[],assignmentContext:"",configs:[]})}isFlightEnabled(e){return this.featuresConsumed=!0,this.PostEventToTelemetry(e),this.features.features.includes(e)}async isCachedFlightEnabled(e){return await this.loadCachePromise,this.featuresConsumed=!0,this.PostEventToTelemetry(e),this.features.features.includes(e)}async isFlightEnabledAsync(e){const t=await this.getFeaturesAsync(!0);return this.featuresConsumed=!0,this.PostEventToTelemetry(e),t.features.includes(e)}getTreatmentVariable(e,t){var r;return this.featuresConsumed=!0,this.PostEventToTelemetry(`${e}.${t}`),null===(r=this.features.configs.find((t=>t.Id===e)))||void 0===r?void 0:r.Parameters[t]}async getTreatmentVariableAsync(e,t,r){if(r){const r=this.featuresConsumed,n=this.getTreatmentVariable(e,t);if(void 0!==n)return n;this.featuresConsumed=r}return await this.getFeaturesAsync(!0),this.getTreatmentVariable(e,t)}PostEventToTelemetry(e){this.cachedTelemetryEvents.includes(e)||(this.telemetry.postEvent(this.telemetryEventName,new Map([["ABExp.queriedFeature",e]])),this.cachedTelemetryEvents.push(e))}invokeInit(){this.init()}addFeatureProvider(...e){if(null!=e&&null!=this.featureProviders)for(let t of e)this.featureProviders.push(t)}}},90433:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseFeatureProvider=class{constructor(e){this.telemetry=e,this.isFetching=!1}async getFeatures(){if(this.isFetching&&this.fetchPromise)return this.fetchPromise;this.fetchPromise=this.fetch();let e=await this.fetchPromise;return this.isFetching=!1,this.fetchPromise=void 0,e}}},62958:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(90433);class i extends n.BaseFeatureProvider{constructor(e,t){super(e),this.telemetry=e,this.filterProviders=t,this.cachedTelemetryEvents=[]}getFilters(){let e=new Map;for(let t of this.filterProviders){let r=t.getFilters();for(let t of r.keys()){let n=r.get(t);e.set(t,n)}}return e}PostEventToTelemetry(e){if(this.cachedTelemetryEvents.includes(e))return;const t=JSON.stringify(e);this.telemetry.postEvent("report-headers",new Map([["ABExp.headers",t]])),this.cachedTelemetryEvents.push(e)}}t.FilteredFeatureProvider=i},80592:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(62958);class i extends n.FilteredFeatureProvider{constructor(e,t,r){super(t,r),this.httpClient=e,this.telemetry=t,this.filterProviders=r}async fetch(){let e=this.getFilters(),t={};for(let r of e.keys()){const n=e.get(r);t[r]=n}let r=await this.httpClient.get({headers:t});e.keys.length>0&&this.PostEventToTelemetry(t);let n=r.data,i=n.Configs,o=[];for(let e of i)if(e.Parameters)for(let t of Object.keys(e.Parameters)){const r=t+(e.Parameters[t]?"":"cf");o.includes(r)||o.push(r)}return{features:o,assignmentContext:n.AssignmentContext,configs:i}}}t.TasApiFeatureProvider=i},24762:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(11240);t.AxiosHttpClient=class{constructor(e){this.endpoint=e}get(e){return n.default.get(this.endpoint,Object.assign(Object.assign({},e),{proxy:!1}))}}},20350:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MemoryKeyValueStorage=class{constructor(){this.storage=new Map}async getValue(e,t){return this.storage.has(e)?await Promise.resolve(this.storage.get(e)):await Promise.resolve(t||void 0)}setValue(e,t){this.storage.set(e,t)}}},93283:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PollingService=class{constructor(e){this.fetchInterval=e}StopPolling(){clearInterval(this.intervalHandle),this.intervalHandle=void 0}OnPollTick(e){this.onTick=e}StartPolling(e=!1){this.intervalHandle&&this.StopPolling(),null!=this.onTick&&(e&&this.onTick().then((()=>{})).catch((()=>{})),this.intervalHandle=setInterval((async()=>{await this.onTick()}),this.fetchInterval),this.intervalHandle.unref&&this.intervalHandle.unref())}}},22340:(e,t,r)=>{"use strict";e.exports=s,e.exports.ctor=o,e.exports.objCtor=function(e,t){return"function"==typeof e&&(t=e,e={}),o(e=i({objectMode:!0,highWaterMark:16},e),t)},e.exports.obj=function(e,t){return"function"==typeof e&&(t=e,e={}),s(e=i({objectMode:!0,highWaterMark:16},e),t)};var n=r(68808),i=r(88100);function o(e,t){"function"==typeof e&&(t=e,e={});var r=n.ctor(e,(function(e,r,n){this.options.wantStrings&&(e=e.toString());try{return t.call(this,e,this._index++)&&this.push(e),n()}catch(e){return n(e)}}));return r.prototype._index=0,r}function s(e,t){return o(e,t)()}},16990:(e,t,r)=>{"use strict";var n=r(65952),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=p;var o=r(41276);o.inherits=r(71947);var s=r(99467),a=r(67271);o.inherits(p,s);for(var c=i(a.prototype),u=0;u<c.length;u++){var l=c[u];p.prototype[l]||(p.prototype[l]=a.prototype[l])}function p(e){if(!(this instanceof p))return new p(e);s.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||n.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(p.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(p.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),p.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},39752:(e,t,r)=>{"use strict";e.exports=o;var n=r(59069),i=r(41276);function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}i.inherits=r(71947),i.inherits(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},99467:(e,t,r)=>{"use strict";var n=r(65952);e.exports=b;var i,o=r(148);b.ReadableState=y,r(82361).EventEmitter;var s=function(e,t){return e.listeners(t).length},a=r(51106),c=r(72748).Buffer,u=global.Uint8Array||function(){},l=r(41276);l.inherits=r(71947);var p=r(73837),d=void 0;d=p&&p.debuglog?p.debuglog("stream"):function(){};var h,f=r(86130),m=r(26347);l.inherits(b,a);var g=["error","close","destroy","pause","resume"];function y(e,t){e=e||{};var n=t instanceof(i=i||r(16990));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var o=e.highWaterMark,s=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:n&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(h||(h=r(74038).s),this.decoder=new h(e.encoding),this.encoding=e.encoding)}function b(e){if(i=i||r(16990),!(this instanceof b))return new b(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function v(e,t,r,n,i){var o,s=e._readableState;return null===t?(s.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,k(e)}}(e,s)):(i||(o=function(e,t){var r,n;return n=t,c.isBuffer(n)||n instanceof u||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):w(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?w(e,s,t,!1):x(e,s)):w(e,s,t,!1))):n||(s.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function w(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&k(e)),x(e,t)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=m.destroy,b.prototype._undestroy=m.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),v(this,e,t,!1,r)},b.prototype.unshift=function(e){return v(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return h||(h=r(74038).s),this._readableState.decoder=new h(e),this._readableState.encoding=e,this};var _=8388608;function S(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=_?e=_:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function k(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(d("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?n.nextTick(P,e):P(e))}function P(e){d("emit readable"),e.emit("readable"),O(e)}function x(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(C,e,t))}function C(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(d("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function E(e){d("readable nexttick read 0"),e.read(0)}function D(e,t){t.reading||(d("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),O(e),t.flowing&&!t.reading&&e.read(0)}function O(e){var t=e._readableState;for(d("flow",t.flowing);t.flowing&&null!==e.read(););}function A(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),0==(e-=s)){s===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=c.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,s),0==(e-=s)){s===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++i}return t.length-=i,r}(e,t),n}(e,t.buffer,t.decoder),r);var r}function M(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,n.nextTick(T,t,e))}function T(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function j(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}b.prototype.read=function(e){d("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return d("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?M(this):k(this),null;if(0===(e=S(e,t))&&t.ended)return 0===t.length&&M(this),null;var n,i=t.needReadable;return d("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&d("length less than watermark",i=!0),t.ended||t.reading?d("reading or ended",i=!1):i&&(d("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=S(r,t))),null===(n=e>0?A(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&M(this)),null!==n&&this.emit("data",n),n},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,d("pipe count=%d opts=%j",i.pipesCount,t);var a=t&&!1===t.end||e===process.stdout||e===process.stderr?y:c;function c(){d("onend"),e.end()}i.endEmitted?n.nextTick(a):r.once("end",a),e.on("unpipe",(function t(n,o){d("onunpipe"),n===r&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,d("cleanup"),e.removeListener("close",m),e.removeListener("finish",g),e.removeListener("drain",u),e.removeListener("error",f),e.removeListener("unpipe",t),r.removeListener("end",c),r.removeListener("end",y),r.removeListener("data",h),l=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}));var u=function(e){return function(){var t=e._readableState;d("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,O(e))}}(r);e.on("drain",u);var l=!1,p=!1;function h(t){d("ondata"),p=!1,!1!==e.write(t)||p||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==j(i.pipes,e))&&!l&&(d("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}function f(t){d("onerror",t),y(),e.removeListener("error",f),0===s(e,"error")&&e.emit("error",t)}function m(){e.removeListener("finish",g),y()}function g(){d("onfinish"),e.removeListener("close",m),y()}function y(){d("unpipe"),r.unpipe(e)}return r.on("data",h),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events.error?o(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on(t,r)}(e,"error",f),e.once("close",m),e.once("finish",g),e.emit("pipe",r),i.flowing||(d("pipe resume"),r.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var s=j(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},b.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&k(this):n.nextTick(E,this))}return r},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e=this._readableState;return e.flowing||(d("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(D,e,t))}(this,e)),this},b.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(d("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){d("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<g.length;o++)e.on(g[o],this.emit.bind(this,g[o]));return this._read=function(t){d("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=A},59069:(e,t,r)=>{"use strict";e.exports=s;var n=r(16990),i=r(41276);function o(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function s(e){if(!(this instanceof s))return new s(e);n.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush((function(t,r){c(e,t,r)})):c(this,null,null)}function c(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=r(71947),i.inherits(s,n),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},s.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},s.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},67271:(e,t,r)=>{"use strict";var n=r(65952);function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=g;var o,s=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:n.nextTick;g.WritableState=m;var a=r(41276);a.inherits=r(71947);var c,u={deprecate:r(34247)},l=r(51106),p=r(72748).Buffer,d=global.Uint8Array||function(){},h=r(26347);function f(){}function m(e,t){o=o||r(16990),e=e||{};var a=t instanceof o;this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var c=e.highWaterMark,u=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=c||0===c?c:a&&(u||0===u)?u:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var p=!1===e.decodeStrings;this.decodeStrings=!p,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,i,o){--t.pendingcb,r?(n.nextTick(o,i),n.nextTick(S,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(o(i),e._writableState.errorEmitted=!0,e.emit("error",i),S(e,t))}(e,r,i,t,o);else{var a=w(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||v(e,r),i?s(b,e,r,a,o):b(e,r,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function g(e){if(o=o||r(16990),!(c.call(g,this)||this instanceof o))return new g(e);this._writableState=new m(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),l.call(this)}function y(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function b(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),S(e,t)}function v(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,o=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)o[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;o.allBuffers=c,y(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,p=r.callback;if(y(e,t,!1,t.objectMode?1:u.length,u,l,p),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function _(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),S(e,t)}))}function S(e,t){var r=w(t);return r&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,n.nextTick(_,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}a.inherits(g,l),m.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(m.prototype,"buffer",{get:u.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===g&&e&&e._writableState instanceof m}})):c=function(e){return e instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(e,t,r){var i,o=this._writableState,s=!1,a=!o.objectMode&&(i=e,p.isBuffer(i)||i instanceof d);return a&&!p.isBuffer(e)&&(e=function(e){return p.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=f),o.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),n.nextTick(t,r)}(this,r):(a||function(e,t,r,i){var o=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),n.nextTick(i,s),o=!1),o}(this,o,e,r))&&(o.pendingcb++,s=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=p.from(t,r)),t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=t.objectMode?1:n.length;t.length+=a;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else y(e,t,!1,a,n,i,o);return c}(this,o,a,e,t,r)),s},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||v(this,e))},g.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(e,t,r){var i=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(e,t,r){t.ending=!0,S(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,i,r)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),g.prototype.destroy=h.destroy,g.prototype._undestroy=h.undestroy,g.prototype._destroy=function(e,t){this.end(),t(e)}},86130:(e,t,r)=>{"use strict";var n=r(72748).Buffer,i=r(73837);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,i=n.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=i,r=s,o.data.copy(t,r),s+=o.data.length,o=o.next;return i},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},26347:(e,t,r)=>{"use strict";var n=r(65952);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n.nextTick(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},51106:(e,t,r)=>{e.exports=r(12781)},63203:(e,t,r)=>{var n=r(12781);"disable"===process.env.READABLE_STREAM&&n?(e.exports=n,(t=e.exports=n.Readable).Readable=n.Readable,t.Writable=n.Writable,t.Duplex=n.Duplex,t.Transform=n.Transform,t.PassThrough=n.PassThrough,t.Stream=n):((t=e.exports=r(99467)).Stream=n||t,t.Readable=t,t.Writable=r(67271),t.Duplex=r(16990),t.Transform=r(59069),t.PassThrough=r(39752))},74038:(e,t,r)=>{"use strict";var n=r(72748).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=l,this.end=p,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function p(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=s(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=s(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=s(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},68808:(e,t,r)=>{var n=r(63203).Transform,i=r(73837).inherits,o=r(88100);function s(e){n.call(this,e),this._destroyed=!1}function a(e,t,r){r(null,e)}function c(e){return function(t,r,n){return"function"==typeof t&&(n=r,r=t,t={}),"function"!=typeof r&&(r=a),"function"!=typeof n&&(n=null),e(t,r,n)}}i(s,n),s.prototype.destroy=function(e){if(!this._destroyed){this._destroyed=!0;var t=this;process.nextTick((function(){e&&t.emit("error",e),t.emit("close")}))}},e.exports=c((function(e,t,r){var n=new s(e);return n._transform=t,r&&(n._flush=r),n})),e.exports.ctor=c((function(e,t,r){function n(t){if(!(this instanceof n))return new n(t);this.options=o(e,t),s.call(this,this.options)}return i(n,s),n.prototype._transform=t,r&&(n.prototype._flush=r),n})),e.exports.obj=c((function(e,t,r){var n=new s(o({objectMode:!0,highWaterMark:16},e));return n._transform=t,r&&(n._flush=r),n}))},92802:e=>{"use strict";e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.toLowerCase().replace(/(?:^|\s|-)\S/g,(function(e){return e.toUpperCase()}))}},39675:(e,t,r)=>{"use strict";var n=r(71017),i=r(18713),o=r(81546);function s(e){return e.replace(/\\/g,"/")}function a(e,t){return"/"===e.charAt(e.length-1)&&(e=e.slice(0,-1)),"/"===t.charAt(0)&&(t=t.slice(1)),t?e+"/"+t:e}e.exports=function(e,t){var r=t||{},c=n.resolve(r.cwd?r.cwd:process.cwd());c=s(c);var u=r.root;u&&(u=s(u),"win32"!==process.platform&&o(u)||(u=s(n.resolve(u)))),"./"===e.slice(0,2)&&(e=e.slice(2)),1===e.length&&"."===e&&(e="");var l=e.slice(-1),p=i(e);return e=p.pattern,u&&"/"===e.charAt(0)?e=a(u,e):o(e)&&"\\"!==e.slice(0,1)||(e=a(c,e)),"/"===l&&"/"!==e.slice(-1)&&(e+="/"),p.negated?"!"+e:e}},60171:e=>{"use strict";e.exports=function(){return/^[\\\/]{2,}[^\\\/]+[\\\/]+[^\\\/]+/}},57900:(e,t,r)=>{"use strict";var n,i=r(22340).obj,o=r(458);n="function"==typeof global.Set?global.Set:function(){this.keys=[],this.has=function(e){return-1!==this.keys.indexOf(e)},this.add=function(e){this.keys.push(e)}},e.exports=function(e,t){t=t||new n;var r=o;return"string"==typeof e?r=function(e){return function(t){return t[e]}}(e):"function"==typeof e&&(r=e),i((function(e){var n=r(e);return!t.has(n)&&(t.add(n),!0)}))}},54879:(e,t,r)=>{"use strict";var n=r(84294)();e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return n?e.replace(/^~($|\/|\\)/,n+"$1"):e}},34247:(e,t,r)=>{e.exports=r(73837).deprecate},67776:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=t.loadMessageBundle=t.localize=t.format=t.setPseudo=t.isPseudo=t.isDefined=t.BundleFormat=t.MessageFormat=void 0;var n,i,o,s=r(91070);function a(e){return void 0!==e}function c(e,r){return t.isPseudo&&(e=""+e.replace(/[aouei]/g,"$&$&")+""),0===r.length?e:e.replace(/\{(\d+)\}/g,(function(e,t){var n=t[0],i=r[n],o=e;return"string"==typeof i?o=i:"number"!=typeof i&&"boolean"!=typeof i&&null!=i||(o=String(i)),o}))}(o=t.MessageFormat||(t.MessageFormat={})).file="file",o.bundle="bundle",o.both="both",(i=t.BundleFormat||(t.BundleFormat={})).standalone="standalone",i.languagePack="languagePack",function(e){e.is=function(e){var t=e;return t&&a(t.key)&&a(t.comment)}}(n||(n={})),t.isDefined=a,t.isPseudo=!1,t.setPseudo=function(e){t.isPseudo=e},t.format=c,t.localize=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return c(t,r)},t.loadMessageBundle=function(e){return s.default().loadMessageBundle(e)},t.config=function(e){return s.default().config(e)}},91070:(e,t)=>{"use strict";var r;function n(){if(void 0===r)throw new Error("No runtime abstraction layer installed");return r}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.install=function(e){if(void 0===e)throw new Error("No runtime abstraction layer provided");r=e}}(n||(n={})),t.default=n},33463:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=t.loadMessageBundle=void 0;var n=r(71017),i=r(57147),o=r(91070),s=r(67776),a=r(67776);Object.defineProperty(t,"MessageFormat",{enumerable:!0,get:function(){return a.MessageFormat}}),Object.defineProperty(t,"BundleFormat",{enumerable:!0,get:function(){return a.BundleFormat}});var c,u,l=Object.prototype.toString;function p(e){return"[object Number]"===l.call(e)}function d(e){return"[object String]"===l.call(e)}function h(e){return JSON.parse(i.readFileSync(e,"utf8"))}function f(e){return function(t,r){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return p(t)?t>=e.length?void console.error("Broken localize call found. Index out of bounds. Stacktrace is\n: "+new Error("").stack):s.format(e[t],n):d(r)?(console.warn("Message "+r+" didn't get externalized correctly."),s.format(r,n)):void console.error("Broken localize call found. Stacktrace is\n: "+new Error("").stack)}}function m(e,t){return c[e]=t,t}function g(e){try{return function(e){var t=h(n.join(e,"nls.metadata.json")),r=Object.create(null);for(var i in t){var o=t[i];r[i]=o.messages}return r}(e)}catch(e){return void console.log("Generating default bundle from meta data failed.",e)}}function y(e,t){var r;if(!0===u.languagePackSupport&&void 0!==u.cacheRoot&&void 0!==u.languagePackId&&void 0!==u.translationsConfigFile&&void 0!==u.translationsConfig)try{r=function(e,t){var r,o,s,a=n.join(u.cacheRoot,e.id+"-"+e.hash+".json"),c=!1,l=!1;try{return r=JSON.parse(i.readFileSync(a,{encoding:"utf8",flag:"r"})),o=a,s=new Date,i.utimes(o,s,s,(function(){})),r}catch(e){if("ENOENT"===e.code)l=!0;else{if(!(e instanceof SyntaxError))throw e;console.log("Syntax error parsing message bundle: "+e.message+"."),i.unlink(a,(function(e){e&&console.error("Deleting corrupted bundle "+a+" failed.")})),c=!0}}if(r=function(e,t){var r=u.translationsConfig[e.id];if(r){var i=h(r).contents,o=h(n.join(t,"nls.metadata.json")),s=Object.create(null);for(var a in o){var c=o[a],l=i[e.outDir+"/"+a];if(l){for(var p=[],f=0;f<c.keys.length;f++){var m=c.keys[f],g=l[d(m)?m:m.key];void 0===g&&(g=c.messages[f]),p.push(g)}s[a]=p}else s[a]=c.messages}return s}}(e,t),!r||c)return r;if(l)try{i.writeFileSync(a,JSON.stringify(r),{encoding:"utf8",flag:"wx"})}catch(e){if("EEXIST"===e.code)return r;throw e}return r}(e,t)}catch(e){console.log("Load or create bundle failed ",e)}if(!r){if(u.languagePackSupport)return g(t);var o=function(e){for(var t=u.language;t;){var r=n.join(e,"nls.bundle."+t+".json");if(i.existsSync(r))return r;var o=t.lastIndexOf("-");t=o>0?t.substring(0,o):void 0}if(void 0===t&&(r=n.join(e,"nls.bundle.json"),i.existsSync(r)))return r}(t);if(o)try{return h(o)}catch(e){console.log("Loading in the box message bundle failed.",e)}r=g(t)}return r}function b(e){if(!e)return s.localize;var t=n.extname(e);if(t&&(e=e.substr(0,e.length-t.length)),u.messageFormat===s.MessageFormat.both||u.messageFormat===s.MessageFormat.bundle){var r=function(e){for(var t,r=n.dirname(e);t=n.join(r,"nls.metadata.header.json"),!i.existsSync(t);){var o=n.dirname(r);if(o===r){t=void 0;break}r=o}return t}(e);if(r){var o=n.dirname(r),a=c[o];if(void 0===a)try{var l=JSON.parse(i.readFileSync(r,"utf8"));try{var p=y(l,o);a=m(o,p?{header:l,nlsBundle:p}:null)}catch(e){console.error("Failed to load nls bundle",e),a=m(o,null)}}catch(e){console.error("Failed to read header file",e),a=m(o,null)}if(a){var d=e.substr(o.length+1).replace(/\\/g,"/"),g=a.nlsBundle[d];return void 0===g?(console.error("Messages for file "+e+" not found. See console for details."),function(){return"Messages not found."}):f(g)}}}if(u.messageFormat===s.MessageFormat.both||u.messageFormat===s.MessageFormat.file)try{var b=h(function(e){var t;if(u.cacheLanguageResolution&&t)t=t;else{if(s.isPseudo||!u.language)t=".nls.json";else for(var r=u.language;r;){var n=".nls."+r+".json";if(i.existsSync(e+n)){t=n;break}var o=r.lastIndexOf("-");o>0?r=r.substring(0,o):(t=".nls.json",r=null)}u.cacheLanguageResolution&&(t=t)}return e+t}(e));return Array.isArray(b)?f(b):s.isDefined(b.messages)&&s.isDefined(b.keys)?f(b.messages):(console.error("String bundle '"+e+"' uses an unsupported format."),function(){return"File bundle has unsupported format. See console for details"})}catch(e){"ENOENT"!==e.code&&console.error("Failed to load single file bundle",e)}return console.error("Failed to load message bundle for file "+e),function(){return"Failed to load message bundle. See console for details."}}function v(e){return e&&(d(e.locale)&&(u.locale=e.locale.toLowerCase(),u.language=u.locale,c=Object.create(null)),void 0!==e.messageFormat&&(u.messageFormat=e.messageFormat),e.bundleFormat===s.BundleFormat.standalone&&!0===u.languagePackSupport&&(u.languagePackSupport=!1)),s.setPseudo("pseudo"===u.locale),b}!function(){if(u={locale:void 0,language:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:s.MessageFormat.bundle},d(process.env.VSCODE_NLS_CONFIG))try{var e=JSON.parse(process.env.VSCODE_NLS_CONFIG),t=void 0;if(e.availableLanguages){var r=e.availableLanguages["*"];d(r)&&(t=r)}if(d(e.locale)&&(u.locale=e.locale.toLowerCase()),void 0===t?u.language=u.locale:"en"!==t&&(u.language=t),function(e){return!0===e||!1===e}(e._languagePackSupport)&&(u.languagePackSupport=e._languagePackSupport),d(e._cacheRoot)&&(u.cacheRoot=e._cacheRoot),d(e._languagePackId)&&(u.languagePackId=e._languagePackId),d(e._translationsConfigFile)){u.translationsConfigFile=e._translationsConfigFile;try{u.translationsConfig=h(u.translationsConfigFile)}catch(t){if(e._corruptedFile){var o=n.dirname(e._corruptedFile);i.exists(o,(function(t){t&&i.writeFile(e._corruptedFile,"corrupted","utf8",(function(e){console.error(e)}))}))}}}}catch(e){}s.setPseudo("pseudo"===u.locale),c=Object.create(null)}(),t.loadMessageBundle=b,t.config=v,o.default.install(Object.freeze({loadMessageBundle:b,config:v}))},62579:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(32050);t.getExperimentationService=n.getExperimentationService,t.getExperimentationServiceAsync=n.getExperimentationServiceAsync;var i=r(14978);t.TargetPopulation=i.TargetPopulation},84091:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MementoKeyValueStorage=class{constructor(e){this.mementoGlobalStorage=e}async getValue(e,t){return await this.mementoGlobalStorage.get(e)||t}setValue(e,t){this.mementoGlobalStorage.update(e,t)}}},22545:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.initializePromise=Promise.resolve(),this.initialFetch=Promise.resolve()}isFlightEnabled(e){return!1}isCachedFlightEnabled(e){return Promise.resolve(!1)}isFlightEnabledAsync(e){return Promise.resolve(!1)}getTreatmentVariable(e,t){}getTreatmentVariableAsync(e,t){return Promise.resolve(void 0)}}},14978:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(89496);class i{constructor(e,t,r){this.extensionName=e,this.extensionVersion=t,this.targetPopulation=r}static trimVersionSuffix(e){return e.split(/\-[a-zA-Z0-9]+$/)[0]}getFilterValue(e){switch(e){case o.ApplicationVersion:return i.trimVersionSuffix(n.version);case o.Build:return n.env.appName;case o.ClientId:return n.env.machineId;case o.ExtensionName:return this.extensionName;case o.ExtensionVersion:return i.trimVersionSuffix(this.extensionVersion);case o.Language:return n.env.language;case o.TargetPopulation:return this.targetPopulation;default:return""}}getFilters(){let e=new Map,t=Object.values(o);for(let r of t)e.set(r,this.getFilterValue(r));return e}}var o,s;t.VSCodeFilterProvider=i,function(e){e.Market="X-MSEdge-Market",e.CorpNet="X-FD-Corpnet",e.ApplicationVersion="X-VSCode-AppVersion",e.Build="X-VSCode-Build",e.ClientId="X-MSEdge-ClientId",e.ExtensionName="X-VSCode-ExtensionName",e.ExtensionVersion="X-VSCode-ExtensionVersion",e.Language="X-VSCode-Language",e.TargetPopulation="X-VSCode-TargetPopulation"}(o=t.Filters||(t.Filters={})),(s=t.TargetPopulation||(t.TargetPopulation={})).Team="team",s.Internal="internal",s.Insiders="insider",s.Public="public"},32050:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(14978),i=r(74248),o=r(89496),s=r(84091),a=r(22545);function c(e,t,r,c,u,...l){if(!u)throw new Error("Memento storage was not provided.");const p=o.workspace.getConfiguration("telemetry");if(!(void 0===o.env.isTelemetryEnabled?p.get("enableTelemetry",!0):o.env.isTelemetryEnabled))return new a.default;const d=[new n.VSCodeFilterProvider(e,t,r),...l],h=new s.MementoKeyValueStorage(u);return new i.ExperimentationService({filterProviders:d,telemetry:c,storageKey:"VSCode.ABExp.FeatureData",keyValueStorage:h,featuresTelemetryPropertyName:"VSCode.ABExp.Features",assignmentContextTelemetryPropertyName:"abexp.assignmentcontext",telemetryEventName:"query-expfeature",endpoint:"https://default.exp-tas.com/vscode/ab",refetchInterval:18e5})}t.getExperimentationService=c,t.getExperimentationServiceAsync=async function(e,t,r,n,i,...o){const s=c(e,t,r,n,i,...o);return await s.initializePromise,s}},18750:(e,t,r)=>{e.exports=u,u.sync=function(e,t){for(var r=c(e,t=t||{}),n=r.env,o=r.ext,u=r.extExe,l=[],p=0,d=n.length;p<d;p++){var h=n[p];'"'===h.charAt(0)&&'"'===h.slice(-1)&&(h=h.slice(1,-1));var f=i.join(h,e);!h&&/^\.[\\\/]/.test(e)&&(f=e.slice(0,2)+f);for(var m=0,g=o.length;m<g;m++){var y=f+o[m];try{if(s.sync(y,{pathExt:u})){if(!t.all)return y;l.push(y)}}catch(e){}}}if(t.all&&l.length)return l;if(t.nothrow)return null;throw a(e)};var n="win32"===process.platform||"cygwin"===process.env.OSTYPE||"msys"===process.env.OSTYPE,i=r(71017),o=n?";":":",s=r(64219);function a(e){var t=new Error("not found: "+e);return t.code="ENOENT",t}function c(e,t){var r=t.colon||o,i=t.path||process.env.PATH||"",s=[""];i=i.split(r);var a="";return n&&(i.unshift(process.cwd()),s=(a=t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM").split(r),-1!==e.indexOf(".")&&""!==s[0]&&s.unshift("")),(e.match(/\//)||n&&e.match(/\\/))&&(i=[""]),{env:i,ext:s,extExe:a}}function u(e,t,r){"function"==typeof t&&(r=t,t={});var n=c(e,t),o=n.env,u=n.ext,l=n.extExe,p=[];!function n(c,d){if(c===d)return t.all&&p.length?r(null,p):r(a(e));var h=o[c];'"'===h.charAt(0)&&'"'===h.slice(-1)&&(h=h.slice(1,-1));var f=i.join(h,e);!h&&/^\.[\\\/]/.test(e)&&(f=e.slice(0,2)+f),function e(i,o){if(i===o)return n(c+1,d);var a=u[i];s(f+a,{pathExt:l},(function(n,s){if(!n&&s){if(!t.all)return r(null,f+a);p.push(f+a)}return e(i+1,o)}))}(0,u.length)}(0,o.length)}},37534:e=>{e.exports=function e(t,r){if(t&&r)return e(t)(r);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){n[e]=t[e]})),n;function n(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var n=t.apply(this,e),i=e[e.length-1];return"function"==typeof n&&n!==i&&Object.keys(i).forEach((function(e){n[e]=i[e]})),n}}},48681:(e,t,r)=>{"use strict";const n=r(12982);n.createWebSocketStream=r(15519),n.Server=r(90058),n.Receiver=r(13091),n.Sender=r(62091),n.WebSocket=n,n.WebSocketServer=n.Server,e.exports=n},4847:(e,t,r)=>{"use strict";const{EMPTY_BUFFER:n}=r(79864);function i(e,t){if(0===e.length)return n;if(1===e.length)return e[0];const r=Buffer.allocUnsafe(t);let i=0;for(let t=0;t<e.length;t++){const n=e[t];r.set(n,i),i+=n.length}return i<t?r.slice(0,i):r}function o(e,t,r,n,i){for(let o=0;o<i;o++)r[n+o]=e[o]^t[3&o]}function s(e,t){for(let r=0;r<e.length;r++)e[r]^=t[3&r]}function a(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}function c(e){if(c.readOnly=!0,Buffer.isBuffer(e))return e;let t;return e instanceof ArrayBuffer?t=Buffer.from(e):ArrayBuffer.isView(e)?t=Buffer.from(e.buffer,e.byteOffset,e.byteLength):(t=Buffer.from(e),c.readOnly=!1),t}try{const t=r(Object(function(){var e=new Error("Cannot find module 'bufferutil'");throw e.code="MODULE_NOT_FOUND",e}()));e.exports={concat:i,mask(e,r,n,i,s){s<48?o(e,r,n,i,s):t.mask(e,r,n,i,s)},toArrayBuffer:a,toBuffer:c,unmask(e,r){e.length<32?s(e,r):t.unmask(e,r)}}}catch(t){e.exports={concat:i,mask:o,toArrayBuffer:a,toBuffer:c,unmask:s}}},79864:e=>{"use strict";e.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}},35831:(e,t,r)=>{"use strict";const{kForOnEventAttribute:n,kListener:i}=r(79864),o=Symbol("kCode"),s=Symbol("kData"),a=Symbol("kError"),c=Symbol("kMessage"),u=Symbol("kReason"),l=Symbol("kTarget"),p=Symbol("kType"),d=Symbol("kWasClean");class h{constructor(e){this[l]=null,this[p]=e}get target(){return this[l]}get type(){return this[p]}}Object.defineProperty(h.prototype,"target",{enumerable:!0}),Object.defineProperty(h.prototype,"type",{enumerable:!0});class f extends h{constructor(e,t={}){super(e),this[o]=void 0===t.code?0:t.code,this[u]=void 0===t.reason?"":t.reason,this[d]=void 0!==t.wasClean&&t.wasClean}get code(){return this[o]}get reason(){return this[u]}get wasClean(){return this[d]}}Object.defineProperty(f.prototype,"code",{enumerable:!0}),Object.defineProperty(f.prototype,"reason",{enumerable:!0}),Object.defineProperty(f.prototype,"wasClean",{enumerable:!0});class m extends h{constructor(e,t={}){super(e),this[a]=void 0===t.error?null:t.error,this[c]=void 0===t.message?"":t.message}get error(){return this[a]}get message(){return this[c]}}Object.defineProperty(m.prototype,"error",{enumerable:!0}),Object.defineProperty(m.prototype,"message",{enumerable:!0});class g extends h{constructor(e,t={}){super(e),this[s]=void 0===t.data?null:t.data}get data(){return this[s]}}Object.defineProperty(g.prototype,"data",{enumerable:!0});const y={addEventListener(e,t,r={}){let o;if("message"===e)o=function(e,r){const n=new g("message",{data:r?e:e.toString()});n[l]=this,t.call(this,n)};else if("close"===e)o=function(e,r){const n=new f("close",{code:e,reason:r.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});n[l]=this,t.call(this,n)};else if("error"===e)o=function(e){const r=new m("error",{error:e,message:e.message});r[l]=this,t.call(this,r)};else{if("open"!==e)return;o=function(){const e=new h("open");e[l]=this,t.call(this,e)}}o[n]=!!r[n],o[i]=t,r.once?this.once(e,o):this.on(e,o)},removeEventListener(e,t){for(const r of this.listeners(e))if(r[i]===t&&!r[n]){this.removeListener(e,r);break}}};e.exports={CloseEvent:f,ErrorEvent:m,Event:h,EventTarget:y,MessageEvent:g}},63071:(e,t,r)=>{"use strict";const{tokenChars:n}=r(91607);function i(e,t,r){void 0===e[t]?e[t]=[r]:e[t].push(r)}e.exports={format:function(e){return Object.keys(e).map((t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map((e=>[t].concat(Object.keys(e).map((t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map((e=>!0===e?t:`${t}=${e}`)).join("; ")}))).join("; "))).join(", ")})).join(", ")},parse:function(e){const t=Object.create(null);let r,o,s=Object.create(null),a=!1,c=!1,u=!1,l=-1,p=-1,d=-1,h=0;for(;h<e.length;h++)if(p=e.charCodeAt(h),void 0===r)if(-1===d&&1===n[p])-1===l&&(l=h);else if(0===h||32!==p&&9!==p){if(59!==p&&44!==p)throw new SyntaxError(`Unexpected character at index ${h}`);{if(-1===l)throw new SyntaxError(`Unexpected character at index ${h}`);-1===d&&(d=h);const n=e.slice(l,d);44===p?(i(t,n,s),s=Object.create(null)):r=n,l=d=-1}}else-1===d&&-1!==l&&(d=h);else if(void 0===o)if(-1===d&&1===n[p])-1===l&&(l=h);else if(32===p||9===p)-1===d&&-1!==l&&(d=h);else if(59===p||44===p){if(-1===l)throw new SyntaxError(`Unexpected character at index ${h}`);-1===d&&(d=h),i(s,e.slice(l,d),!0),44===p&&(i(t,r,s),s=Object.create(null),r=void 0),l=d=-1}else{if(61!==p||-1===l||-1!==d)throw new SyntaxError(`Unexpected character at index ${h}`);o=e.slice(l,h),l=d=-1}else if(c){if(1!==n[p])throw new SyntaxError(`Unexpected character at index ${h}`);-1===l?l=h:a||(a=!0),c=!1}else if(u)if(1===n[p])-1===l&&(l=h);else if(34===p&&-1!==l)u=!1,d=h;else{if(92!==p)throw new SyntaxError(`Unexpected character at index ${h}`);c=!0}else if(34===p&&61===e.charCodeAt(h-1))u=!0;else if(-1===d&&1===n[p])-1===l&&(l=h);else if(-1===l||32!==p&&9!==p){if(59!==p&&44!==p)throw new SyntaxError(`Unexpected character at index ${h}`);{if(-1===l)throw new SyntaxError(`Unexpected character at index ${h}`);-1===d&&(d=h);let n=e.slice(l,d);a&&(n=n.replace(/\\/g,""),a=!1),i(s,o,n),44===p&&(i(t,r,s),s=Object.create(null),r=void 0),o=void 0,l=d=-1}}else-1===d&&(d=h);if(-1===l||u||32===p||9===p)throw new SyntaxError("Unexpected end of input");-1===d&&(d=h);const f=e.slice(l,d);return void 0===r?i(t,f,s):(void 0===o?i(s,f,!0):i(s,o,a?f.replace(/\\/g,""):f),i(t,r,s)),t}}},8528:e=>{"use strict";const t=Symbol("kDone"),r=Symbol("kRun");e.exports=class{constructor(e){this[t]=()=>{this.pending--,this[r]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[r]()}[r](){if(this.pending!==this.concurrency&&this.jobs.length){const e=this.jobs.shift();this.pending++,e(this[t])}}}},7567:(e,t,r)=>{"use strict";const n=r(59796),i=r(4847),o=r(8528),{kStatusCode:s}=r(79864),a=Buffer.from([0,0,255,255]),c=Symbol("permessage-deflate"),u=Symbol("total-length"),l=Symbol("callback"),p=Symbol("buffers"),d=Symbol("error");let h;function f(e){this[p].push(e),this[u]+=e.length}function m(e){this[u]+=e.length,this[c]._maxPayload<1||this[u]<=this[c]._maxPayload?this[p].push(e):(this[d]=new RangeError("Max payload size exceeded"),this[d].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[d][s]=1009,this.removeListener("data",m),this.reset())}function g(e){this[c]._inflate=null,e[s]=1007,this[l](e)}e.exports=class{constructor(e,t,r){if(this._maxPayload=0|r,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!h){const e=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;h=new o(e)}}static get extensionName(){return"permessage-deflate"}offer(){const e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){const e=this._deflate[l];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){const t=this._options,r=e.find((e=>!(!1===t.serverNoContextTakeover&&e.server_no_context_takeover||e.server_max_window_bits&&(!1===t.serverMaxWindowBits||"number"==typeof t.serverMaxWindowBits&&t.serverMaxWindowBits>e.server_max_window_bits)||"number"==typeof t.clientMaxWindowBits&&!e.client_max_window_bits)));if(!r)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(r.server_no_context_takeover=!0),t.clientNoContextTakeover&&(r.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(r.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?r.client_max_window_bits=t.clientMaxWindowBits:!0!==r.client_max_window_bits&&!1!==t.clientMaxWindowBits||delete r.client_max_window_bits,r}acceptAsClient(e){const t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach((e=>{Object.keys(e).forEach((t=>{let r=e[t];if(r.length>1)throw new Error(`Parameter "${t}" must have only a single value`);if(r=r[0],"client_max_window_bits"===t){if(!0!==r){const e=+r;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${t}": ${r}`)}else if("server_max_window_bits"===t){const e=+r;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else{if("client_no_context_takeover"!==t&&"server_no_context_takeover"!==t)throw new Error(`Unknown parameter "${t}"`);if(!0!==r)throw new TypeError(`Invalid value for parameter "${t}": ${r}`)}e[t]=r}))})),e}decompress(e,t,r){h.add((n=>{this._decompress(e,t,((e,t)=>{n(),r(e,t)}))}))}compress(e,t,r){h.add((n=>{this._compress(e,t,((e,t)=>{n(),r(e,t)}))}))}_decompress(e,t,r){const o=this._isServer?"client":"server";if(!this._inflate){const e=`${o}_max_window_bits`,t="number"!=typeof this.params[e]?n.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=n.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[c]=this,this._inflate[u]=0,this._inflate[p]=[],this._inflate.on("error",g),this._inflate.on("data",m)}this._inflate[l]=r,this._inflate.write(e),t&&this._inflate.write(a),this._inflate.flush((()=>{const e=this._inflate[d];if(e)return this._inflate.close(),this._inflate=null,void r(e);const n=i.concat(this._inflate[p],this._inflate[u]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[u]=0,this._inflate[p]=[],t&&this.params[`${o}_no_context_takeover`]&&this._inflate.reset()),r(null,n)}))}_compress(e,t,r){const o=this._isServer?"server":"client";if(!this._deflate){const e=`${o}_max_window_bits`,t="number"!=typeof this.params[e]?n.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=n.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[u]=0,this._deflate[p]=[],this._deflate.on("data",f)}this._deflate[l]=r,this._deflate.write(e),this._deflate.flush(n.Z_SYNC_FLUSH,(()=>{if(!this._deflate)return;let e=i.concat(this._deflate[p],this._deflate[u]);t&&(e=e.slice(0,e.length-4)),this._deflate[l]=null,this._deflate[u]=0,this._deflate[p]=[],t&&this.params[`${o}_no_context_takeover`]&&this._deflate.reset(),r(null,e)}))}}},13091:(e,t,r)=>{"use strict";const{Writable:n}=r(12781),i=r(7567),{BINARY_TYPES:o,EMPTY_BUFFER:s,kStatusCode:a,kWebSocket:c}=r(79864),{concat:u,toArrayBuffer:l,unmask:p}=r(4847),{isValidStatusCode:d,isValidUTF8:h}=r(91607);function f(e,t,r,n,i){const o=new e(r?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(o,f),o.code=i,o[a]=n,o}e.exports=class extends n{constructor(e={}){super(),this._binaryType=e.binaryType||o[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=0|e.maxPayload,this._skipUTF8Validation=!!e.skipUTF8Validation,this[c]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=0,this._loop=!1}_write(e,t,r){if(8===this._opcode&&0==this._state)return r();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(r)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){const t=this._buffers[0];return this._buffers[0]=t.slice(e),t.slice(0,e)}const t=Buffer.allocUnsafe(e);do{const r=this._buffers[0],n=t.length-e;e>=r.length?t.set(this._buffers.shift(),n):(t.set(new Uint8Array(r.buffer,r.byteOffset,e),n),this._buffers[0]=r.slice(e)),e-=r.length}while(e>0);return t}startLoop(e){let t;this._loop=!0;do{switch(this._state){case 0:t=this.getInfo();break;case 1:t=this.getPayloadLength16();break;case 2:t=this.getPayloadLength64();break;case 3:this.getMask();break;case 4:t=this.getData(e);break;default:return void(this._loop=!1)}}while(this._loop);e(t)}getInfo(){if(this._bufferedBytes<2)return void(this._loop=!1);const e=this.consume(2);if(0!=(48&e[0]))return this._loop=!1,f(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");const t=64==(64&e[0]);if(t&&!this._extensions[i.extensionName])return this._loop=!1,f(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=128==(128&e[0]),this._opcode=15&e[0],this._payloadLength=127&e[1],0===this._opcode){if(t)return this._loop=!1,f(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,f(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return this._loop=!1,f(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=t}else{if(!(this._opcode>7&&this._opcode<11))return this._loop=!1,f(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin)return this._loop=!1,f(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(t)return this._loop=!1,f(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125)return this._loop=!1,f(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=128==(128&e[1]),this._isServer){if(!this._masked)return this._loop=!1,f(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,f(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(126===this._payloadLength)this._state=1;else{if(127!==this._payloadLength)return this.haveLength();this._state=2}}getPayloadLength16(){if(!(this._bufferedBytes<2))return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength();this._loop=!1}getPayloadLength64(){if(this._bufferedBytes<8)return void(this._loop=!1);const e=this.consume(8),t=e.readUInt32BE(0);return t>Math.pow(2,21)-1?(this._loop=!1,f(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=t*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,f(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=3:this._state=4}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=4)}getData(e){let t=s;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);t=this.consume(this._payloadLength),this._masked&&0!=(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])&&p(t,this._mask)}return this._opcode>7?this.controlMessage(t):this._compressed?(this._state=5,void this.decompress(t,e)):(t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage())}decompress(e,t){this._extensions[i.extensionName].decompress(e,this._fin,((e,r)=>{if(e)return t(e);if(r.length){if(this._messageLength+=r.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return t(f(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(r)}const n=this.dataMessage();if(n)return t(n);this.startLoop(t)}))}dataMessage(){if(this._fin){const e=this._messageLength,t=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let r;r="nodebuffer"===this._binaryType?u(t,e):"arraybuffer"===this._binaryType?l(u(t,e)):t,this.emit("message",r,!0)}else{const r=u(t,e);if(!this._skipUTF8Validation&&!h(r))return this._loop=!1,f(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",r,!1)}}this._state=0}controlMessage(e){if(8===this._opcode)if(this._loop=!1,0===e.length)this.emit("conclude",1005,s),this.end();else{if(1===e.length)return f(RangeError,"invalid payload length 1",!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");{const t=e.readUInt16BE(0);if(!d(t))return f(RangeError,`invalid status code ${t}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");const r=e.slice(2);if(!this._skipUTF8Validation&&!h(r))return f(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",t,r),this.end()}}else 9===this._opcode?this.emit("ping",e):this.emit("pong",e);this._state=0}}},62091:(e,t,r)=>{"use strict";r(41808),r(24404);const{randomFillSync:n}=r(6113),i=r(7567),{EMPTY_BUFFER:o}=r(79864),{isValidStatusCode:s}=r(91607),{mask:a,toBuffer:c}=r(4847),u=Symbol("kByteLength"),l=Buffer.alloc(4);class p{constructor(e,t,r){this._extensions=t||{},r&&(this._generateMask=r,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){let r,i,o=!1,s=2,c=!1;t.mask&&(r=t.maskBuffer||l,t.generateMask?t.generateMask(r):n(r,0,4),c=0==(r[0]|r[1]|r[2]|r[3]),s=6),"string"==typeof e?i=t.mask&&!c||void 0===t[u]?(e=Buffer.from(e)).length:t[u]:(i=e.length,o=t.mask&&t.readOnly&&!c);let p=i;i>=65536?(s+=8,p=127):i>125&&(s+=2,p=126);const d=Buffer.allocUnsafe(o?i+s:s);return d[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(d[0]|=64),d[1]=p,126===p?d.writeUInt16BE(i,2):127===p&&(d[2]=d[3]=0,d.writeUIntBE(i,4,6)),t.mask?(d[1]|=128,d[s-4]=r[0],d[s-3]=r[1],d[s-2]=r[2],d[s-1]=r[3],c?[d,e]:o?(a(e,r,d,s,i),[d]):(a(e,r,e,0,i),[d,e])):[d,e]}close(e,t,r,n){let i;if(void 0===e)i=o;else{if("number"!=typeof e||!s(e))throw new TypeError("First argument must be a valid error code number");if(void 0!==t&&t.length){const r=Buffer.byteLength(t);if(r>123)throw new RangeError("The message must not be greater than 123 bytes");i=Buffer.allocUnsafe(2+r),i.writeUInt16BE(e,0),"string"==typeof t?i.write(t,2):i.set(t,2)}else i=Buffer.allocUnsafe(2),i.writeUInt16BE(e,0)}const a={[u]:i.length,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,i,!1,a,n]):this.sendFrame(p.frame(i,a),n)}ping(e,t,r){let n,i;if("string"==typeof e?(n=Buffer.byteLength(e),i=!1):(n=(e=c(e)).length,i=c.readOnly),n>125)throw new RangeError("The data size must not be greater than 125 bytes");const o={[u]:n,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:9,readOnly:i,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,o,r]):this.sendFrame(p.frame(e,o),r)}pong(e,t,r){let n,i;if("string"==typeof e?(n=Buffer.byteLength(e),i=!1):(n=(e=c(e)).length,i=c.readOnly),n>125)throw new RangeError("The data size must not be greater than 125 bytes");const o={[u]:n,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:10,readOnly:i,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,o,r]):this.sendFrame(p.frame(e,o),r)}send(e,t,r){const n=this._extensions[i.extensionName];let o,s,a=t.binary?2:1,l=t.compress;if("string"==typeof e?(o=Buffer.byteLength(e),s=!1):(o=(e=c(e)).length,s=c.readOnly),this._firstFragment?(this._firstFragment=!1,l&&n&&n.params[n._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(l=o>=n._threshold),this._compress=l):(l=!1,a=0),t.fin&&(this._firstFragment=!0),n){const n={[u]:o,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:a,readOnly:s,rsv1:l};this._deflating?this.enqueue([this.dispatch,e,this._compress,n,r]):this.dispatch(e,this._compress,n,r)}else this.sendFrame(p.frame(e,{[u]:o,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:a,readOnly:s,rsv1:!1}),r)}dispatch(e,t,r,n){if(!t)return void this.sendFrame(p.frame(e,r),n);const o=this._extensions[i.extensionName];this._bufferedBytes+=r[u],this._deflating=!0,o.compress(e,r.fin,((e,t)=>{if(this._socket.destroyed){const e=new Error("The socket was closed while data was being compressed");"function"==typeof n&&n(e);for(let t=0;t<this._queue.length;t++){const r=this._queue[t],n=r[r.length-1];"function"==typeof n&&n(e)}}else this._bufferedBytes-=r[u],this._deflating=!1,r.readOnly=!1,this.sendFrame(p.frame(t,r),n),this.dequeue()}))}dequeue(){for(;!this._deflating&&this._queue.length;){const e=this._queue.shift();this._bufferedBytes-=e[3][u],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][u],this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}e.exports=p},15519:(e,t,r)=>{"use strict";const{Duplex:n}=r(12781);function i(e){e.emit("close")}function o(){!this.destroyed&&this._writableState.finished&&this.destroy()}function s(e){this.removeListener("error",s),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,t){let r=!0;const a=new n({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",(function(t,r){const n=!r&&a._readableState.objectMode?t.toString():t;a.push(n)||e.pause()})),e.once("error",(function(e){a.destroyed||(r=!1,a.destroy(e))})),e.once("close",(function(){a.destroyed||a.push(null)})),a._destroy=function(t,n){if(e.readyState===e.CLOSED)return n(t),void process.nextTick(i,a);let o=!1;e.once("error",(function(e){o=!0,n(e)})),e.once("close",(function(){o||n(t),process.nextTick(i,a)})),r&&e.terminate()},a._final=function(t){e.readyState!==e.CONNECTING?null!==e._socket&&(e._socket._writableState.finished?(t(),a._readableState.endEmitted&&a.destroy()):(e._socket.once("finish",(function(){t()})),e.close())):e.once("open",(function(){a._final(t)}))},a._read=function(){e.isPaused&&e.resume()},a._write=function(t,r,n){e.readyState!==e.CONNECTING?e.send(t,n):e.once("open",(function(){a._write(t,r,n)}))},a.on("end",o),a.on("error",s),a}},92217:(e,t,r)=>{"use strict";const{tokenChars:n}=r(91607);e.exports={parse:function(e){const t=new Set;let r=-1,i=-1,o=0;for(;o<e.length;o++){const s=e.charCodeAt(o);if(-1===i&&1===n[s])-1===r&&(r=o);else if(0===o||32!==s&&9!==s){if(44!==s)throw new SyntaxError(`Unexpected character at index ${o}`);{if(-1===r)throw new SyntaxError(`Unexpected character at index ${o}`);-1===i&&(i=o);const n=e.slice(r,i);if(t.has(n))throw new SyntaxError(`The "${n}" subprotocol is duplicated`);t.add(n),r=i=-1}}else-1===i&&-1!==r&&(i=o)}if(-1===r||-1!==i)throw new SyntaxError("Unexpected end of input");const s=e.slice(r,o);if(t.has(s))throw new SyntaxError(`The "${s}" subprotocol is duplicated`);return t.add(s),t}}},91607:(e,t,r)=>{"use strict";const n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function i(e){return e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999}function o(e){const t=e.length;let r=0;for(;r<t;)if(0==(128&e[r]))r++;else if(192==(224&e[r])){if(r+1===t||128!=(192&e[r+1])||192==(254&e[r]))return!1;r+=2}else if(224==(240&e[r])){if(r+2>=t||128!=(192&e[r+1])||128!=(192&e[r+2])||224===e[r]&&128==(224&e[r+1])||237===e[r]&&160==(224&e[r+1]))return!1;r+=3}else{if(240!=(248&e[r]))return!1;if(r+3>=t||128!=(192&e[r+1])||128!=(192&e[r+2])||128!=(192&e[r+3])||240===e[r]&&128==(240&e[r+1])||244===e[r]&&e[r+1]>143||e[r]>244)return!1;r+=4}return!0}try{const t=r(Object(function(){var e=new Error("Cannot find module 'utf-8-validate'");throw e.code="MODULE_NOT_FOUND",e}()));e.exports={isValidStatusCode:i,isValidUTF8:e=>e.length<150?o(e):t(e),tokenChars:n}}catch(t){e.exports={isValidStatusCode:i,isValidUTF8:o,tokenChars:n}}},90058:(e,t,r)=>{"use strict";const n=r(82361),i=r(13685),{createHash:o}=(r(95687),r(41808),r(24404),r(6113)),s=r(63071),a=r(7567),c=r(92217),u=r(12982),{GUID:l,kWebSocket:p}=r(79864),d=/^[+/0-9A-Za-z]{22}==$/;function h(e){e._state=2,e.emit("close")}function f(){this.destroy()}function m(e,t,r,n){e.writable&&(r=r||i.STATUS_CODES[t],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...n},e.write(`HTTP/1.1 ${t} ${i.STATUS_CODES[t]}\r\n`+Object.keys(n).map((e=>`${e}: ${n[e]}`)).join("\r\n")+"\r\n\r\n"+r)),e.removeListener("error",f),e.destroy()}e.exports=class extends n{constructor(e,t){if(super(),null==(e={maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:u,...e}).port&&!e.server&&!e.noServer||null!=e.port&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(null!=e.port?(this._server=i.createServer(((e,t)=>{const r=i.STATUS_CODES[426];t.writeHead(426,{"Content-Length":r.length,"Content-Type":"text/plain"}),t.end(r)})),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){const e=this.emit.bind(this,"connection");this._removeListeners=function(e,t){for(const r of Object.keys(t))e.on(r,t[r]);return function(){for(const r of Object.keys(t))e.removeListener(r,t[r])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(t,r,n)=>{this.handleUpgrade(t,r,n,e)}})}!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=0}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(2===this._state)return e&&this.once("close",(()=>{e(new Error("The server is not running"))})),void process.nextTick(h,this);if(e&&this.once("close",e),1!==this._state)if(this._state=1,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients&&this.clients.size?this._shouldEmitClose=!0:process.nextTick(h,this);else{const e=this._server;this._removeListeners(),this._removeListeners=this._server=null,e.close((()=>{h(this)}))}}shouldHandle(e){if(this.options.path){const t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,r,n){t.on("error",f);const i=void 0!==e.headers["sec-websocket-key"]&&e.headers["sec-websocket-key"],o=+e.headers["sec-websocket-version"];if("GET"!==e.method||"websocket"!==e.headers.upgrade.toLowerCase()||!i||!d.test(i)||8!==o&&13!==o||!this.shouldHandle(e))return m(t,400);const u=e.headers["sec-websocket-protocol"];let l=new Set;if(void 0!==u)try{l=c.parse(u)}catch(e){return m(t,400)}const p=e.headers["sec-websocket-extensions"],h={};if(this.options.perMessageDeflate&&void 0!==p){const e=new a(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const t=s.parse(p);t[a.extensionName]&&(e.accept(t[a.extensionName]),h[a.extensionName]=e)}catch(e){return m(t,400)}}if(this.options.verifyClient){const s={origin:e.headers[8===o?"sec-websocket-origin":"origin"],secure:!(!e.socket.authorized&&!e.socket.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(s,((o,s,a,c)=>{if(!o)return m(t,s||401,a,c);this.completeUpgrade(h,i,l,e,t,r,n)}));if(!this.options.verifyClient(s))return m(t,401)}this.completeUpgrade(h,i,l,e,t,r,n)}completeUpgrade(e,t,r,n,i,c,u){if(!i.readable||!i.writable)return i.destroy();if(i[p])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>0)return m(i,503);const d=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${o("sha1").update(t+l).digest("base64")}`],g=new this.options.WebSocket(null);if(r.size){const e=this.options.handleProtocols?this.options.handleProtocols(r,n):r.values().next().value;e&&(d.push(`Sec-WebSocket-Protocol: ${e}`),g._protocol=e)}if(e[a.extensionName]){const t=e[a.extensionName].params,r=s.format({[a.extensionName]:[t]});d.push(`Sec-WebSocket-Extensions: ${r}`),g._extensions=e}this.emit("headers",d,n),i.write(d.concat("\r\n").join("\r\n")),i.removeListener("error",f),g.setSocket(i,c,{maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(g),g.on("close",(()=>{this.clients.delete(g),this._shouldEmitClose&&!this.clients.size&&process.nextTick(h,this)}))),u(g,n)}}},12982:(e,t,r)=>{"use strict";const n=r(82361),i=r(95687),o=r(13685),s=r(41808),a=r(24404),{randomBytes:c,createHash:u}=r(6113),{Readable:l}=r(12781),{URL:p}=r(57310),d=r(7567),h=r(13091),f=r(62091),{BINARY_TYPES:m,EMPTY_BUFFER:g,GUID:y,kForOnEventAttribute:b,kListener:v,kStatusCode:w,kWebSocket:_,NOOP:S}=r(79864),{EventTarget:{addEventListener:k,removeEventListener:P}}=r(35831),{format:x,parse:C}=r(63071),{toBuffer:E}=r(4847),D=["CONNECTING","OPEN","CLOSING","CLOSED"],O=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,A=[8,13];class M extends n{constructor(e,t,r){super(),this._binaryType=m[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=g,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=M.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,void 0===t?t=[]:Array.isArray(t)||("object"==typeof t&&null!==t?(r=t,t=[]):t=[t]),T(this,e,t,r)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(e){m.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,r){const n=new h({binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:r.maxPayload,skipUTF8Validation:r.skipUTF8Validation});this._sender=new f(e,this._extensions,r.generateMask),this._receiver=n,this._socket=e,n[_]=this,e[_]=this,n.on("conclude",N),n.on("drain",B),n.on("error",$),n.on("message",q),n.on("ping",V),n.on("pong",H),e.setTimeout(0),e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",G),e.on("data",z),e.on("end",K),e.on("error",J),this._readyState=M.OPEN,this.emit("open")}emitClose(){if(!this._socket)return this._readyState=M.CLOSED,void this.emit("close",this._closeCode,this._closeMessage);this._extensions[d.extensionName]&&this._extensions[d.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=M.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==M.CLOSED){if(this.readyState===M.CONNECTING){const e="WebSocket was closed before the connection was established";return I(this,this._req,e)}this.readyState!==M.CLOSING?(this._readyState=M.CLOSING,this._sender.close(e,t,!this._isServer,(e=>{e||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())})),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),3e4)):this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end()}}pause(){this.readyState!==M.CONNECTING&&this.readyState!==M.CLOSED&&(this._paused=!0,this._socket.pause())}ping(e,t,r){if(this.readyState===M.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===M.OPEN?(void 0===t&&(t=!this._isServer),this._sender.ping(e||g,t,r)):L(this,e,r)}pong(e,t,r){if(this.readyState===M.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===M.OPEN?(void 0===t&&(t=!this._isServer),this._sender.pong(e||g,t,r)):L(this,e,r)}resume(){this.readyState!==M.CONNECTING&&this.readyState!==M.CLOSED&&(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,t,r){if(this.readyState===M.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(r=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==M.OPEN)return void L(this,e,r);const n={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[d.extensionName]||(n.compress=!1),this._sender.send(e||g,n,r)}terminate(){if(this.readyState!==M.CLOSED){if(this.readyState===M.CONNECTING){const e="WebSocket was closed before the connection was established";return I(this,this._req,e)}this._socket&&(this._readyState=M.CLOSING,this._socket.destroy())}}}function T(e,t,r,n){const s={protocolVersion:A[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...n,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,host:void 0,path:void 0,port:void 0};if(!A.includes(s.protocolVersion))throw new RangeError(`Unsupported protocol version: ${s.protocolVersion} (supported versions: ${A.join(", ")})`);let a;if(t instanceof p)a=t,e._url=t.href;else{try{a=new p(t)}catch(e){throw new SyntaxError(`Invalid URL: ${t}`)}e._url=t}const l="wss:"===a.protocol,h="ws+unix:"===a.protocol;let f;if("ws:"===a.protocol||l||h?h&&!a.pathname?f="The URL's pathname is empty":a.hash&&(f="The URL contains a fragment identifier"):f='The URL\'s protocol must be one of "ws:", "wss:", or "ws+unix:"',f){const t=new SyntaxError(f);if(0===e._redirects)throw t;return void j(e,t)}const m=l?443:80,g=c(16).toString("base64"),b=l?i.get:o.get,v=new Set;let w;if(s.createConnection=l?F:R,s.defaultPort=s.defaultPort||m,s.port=a.port||m,s.host=a.hostname.startsWith("[")?a.hostname.slice(1,-1):a.hostname,s.headers={"Sec-WebSocket-Version":s.protocolVersion,"Sec-WebSocket-Key":g,Connection:"Upgrade",Upgrade:"websocket",...s.headers},s.path=a.pathname+a.search,s.timeout=s.handshakeTimeout,s.perMessageDeflate&&(w=new d(!0!==s.perMessageDeflate?s.perMessageDeflate:{},!1,s.maxPayload),s.headers["Sec-WebSocket-Extensions"]=x({[d.extensionName]:w.offer()})),r.length){for(const e of r){if("string"!=typeof e||!O.test(e)||v.has(e))throw new SyntaxError("An invalid or duplicated subprotocol was specified");v.add(e)}s.headers["Sec-WebSocket-Protocol"]=r.join(",")}if(s.origin&&(s.protocolVersion<13?s.headers["Sec-WebSocket-Origin"]=s.origin:s.headers.Origin=s.origin),(a.username||a.password)&&(s.auth=`${a.username}:${a.password}`),h){const e=s.path.split(":");s.socketPath=e[0],s.path=e[1]}if(s.followRedirects){if(0===e._redirects){e._originalHost=a.host;const t=n&&n.headers;if(n={...n,headers:{}},t)for(const[e,r]of Object.entries(t))n.headers[e.toLowerCase()]=r}else a.host!==e._originalHost&&(delete s.headers.authorization,delete s.headers.cookie,delete s.headers.host,s.auth=void 0);s.auth&&!n.headers.authorization&&(n.headers.authorization="Basic "+Buffer.from(s.auth).toString("base64"))}let _=e._req=b(s);s.timeout&&_.on("timeout",(()=>{I(e,_,"Opening handshake has timed out")})),_.on("error",(t=>{null===_||_.aborted||(_=e._req=null,j(e,t))})),_.on("response",(i=>{const o=i.headers.location,a=i.statusCode;if(o&&s.followRedirects&&a>=300&&a<400){if(++e._redirects>s.maxRedirects)return void I(e,_,"Maximum redirects exceeded");let i;_.abort();try{i=new p(o,t)}catch(t){const r=new SyntaxError(`Invalid URL: ${o}`);return void j(e,r)}T(e,i,r,n)}else e.emit("unexpected-response",_,i)||I(e,_,`Unexpected server response: ${i.statusCode}`)})),_.on("upgrade",((t,r,n)=>{if(e.emit("upgrade",t),e.readyState!==M.CONNECTING)return;_=e._req=null;const i=u("sha1").update(g+y).digest("base64");if(t.headers["sec-websocket-accept"]!==i)return void I(e,r,"Invalid Sec-WebSocket-Accept header");const o=t.headers["sec-websocket-protocol"];let a;if(void 0!==o?v.size?v.has(o)||(a="Server sent an invalid subprotocol"):a="Server sent a subprotocol but none was requested":v.size&&(a="Server sent no subprotocol"),a)return void I(e,r,a);o&&(e._protocol=o);const c=t.headers["sec-websocket-extensions"];if(void 0!==c){if(!w)return void I(e,r,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");let t;try{t=C(c)}catch(t){return void I(e,r,"Invalid Sec-WebSocket-Extensions header")}const n=Object.keys(t);if(1!==n.length||n[0]!==d.extensionName)return void I(e,r,"Server indicated an extension that was not requested");try{w.accept(t[d.extensionName])}catch(t){return void I(e,r,"Invalid Sec-WebSocket-Extensions header")}e._extensions[d.extensionName]=w}e.setSocket(r,n,{generateMask:s.generateMask,maxPayload:s.maxPayload,skipUTF8Validation:s.skipUTF8Validation})}))}function j(e,t){e._readyState=M.CLOSING,e.emit("error",t),e.emitClose()}function R(e){return e.path=e.socketPath,s.connect(e)}function F(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=s.isIP(e.host)?"":e.host),a.connect(e)}function I(e,t,r){e._readyState=M.CLOSING;const n=new Error(r);Error.captureStackTrace(n,I),t.setHeader?(t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),t.once("abort",e.emitClose.bind(e)),e.emit("error",n)):(t.destroy(n),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function L(e,t,r){if(t){const r=E(t).length;e._socket?e._sender._bufferedBytes+=r:e._bufferedAmount+=r}r&&r(new Error(`WebSocket is not open: readyState ${e.readyState} (${D[e.readyState]})`))}function N(e,t){const r=this[_];r._closeFrameReceived=!0,r._closeMessage=t,r._closeCode=e,void 0!==r._socket[_]&&(r._socket.removeListener("data",z),process.nextTick(W,r._socket),1005===e?r.close():r.close(e,t))}function B(){const e=this[_];e.isPaused||e._socket.resume()}function $(e){const t=this[_];void 0!==t._socket[_]&&(t._socket.removeListener("data",z),process.nextTick(W,t._socket),t.close(e[w])),t.emit("error",e)}function U(){this[_].emitClose()}function q(e,t){this[_].emit("message",e,t)}function V(e){const t=this[_];t.pong(e,!t._isServer,S),t.emit("ping",e)}function H(e){this[_].emit("pong",e)}function W(e){e.resume()}function G(){const e=this[_];let t;this.removeListener("close",G),this.removeListener("data",z),this.removeListener("end",K),e._readyState=M.CLOSING,this._readableState.endEmitted||e._closeFrameReceived||e._receiver._writableState.errorEmitted||null===(t=e._socket.read())||e._receiver.write(t),e._receiver.end(),this[_]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on("error",U),e._receiver.on("finish",U))}function z(e){this[_]._receiver.write(e)||this.pause()}function K(){const e=this[_];e._readyState=M.CLOSING,e._receiver.end(),this.end()}function J(){const e=this[_];this.removeListener("error",J),this.on("error",S),e&&(e._readyState=M.CLOSING,this.destroy())}Object.defineProperty(M,"CONNECTING",{enumerable:!0,value:D.indexOf("CONNECTING")}),Object.defineProperty(M.prototype,"CONNECTING",{enumerable:!0,value:D.indexOf("CONNECTING")}),Object.defineProperty(M,"OPEN",{enumerable:!0,value:D.indexOf("OPEN")}),Object.defineProperty(M.prototype,"OPEN",{enumerable:!0,value:D.indexOf("OPEN")}),Object.defineProperty(M,"CLOSING",{enumerable:!0,value:D.indexOf("CLOSING")}),Object.defineProperty(M.prototype,"CLOSING",{enumerable:!0,value:D.indexOf("CLOSING")}),Object.defineProperty(M,"CLOSED",{enumerable:!0,value:D.indexOf("CLOSED")}),Object.defineProperty(M.prototype,"CLOSED",{enumerable:!0,value:D.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach((e=>{Object.defineProperty(M.prototype,e,{enumerable:!0})})),["open","error","close","message"].forEach((e=>{Object.defineProperty(M.prototype,`on${e}`,{enumerable:!0,get(){for(const t of this.listeners(e))if(t[b])return t[v];return null},set(t){for(const t of this.listeners(e))if(t[b]){this.removeListener(e,t);break}"function"==typeof t&&this.addEventListener(e,t,{[b]:!0})}})})),M.prototype.addEventListener=k,M.prototype.removeEventListener=P,e.exports=M},96883:(e,t,r)=>{"use strict";const n=r(19856),i=r(92802);e.exports=function(){return"linux"!==process.platform?Promise.reject(new Error("Only Linux systems are supported")):n("xdg-mime",["query","default","x-scheme-handler/http"]).then((e=>{const t=e.stdout.trim();return{name:i(t.replace(/.desktop$/,"").replace("-"," ")),id:t}}))}},19856:(e,t,r)=>{"use strict";var n=r(32081),i=r(45466),o=r(89255),s=r(4264),a=r(82563),c=r(94209)();e.exports=function(e,t,r){return new Promise((function(u,l){var p=i._parse(e,t,r);r=s({maxBuffer:10485760,stripEof:!0,preferLocal:!0},p.options);var d=function(e){return r.stripEof&&(e=o(e)),e};r.preferLocal&&(r.env=s({},r.env||process.env),r.env[c]=a({cwd:r.cwd,path:r.env[c]}));var h=n.execFile(p.command,p.args,r,(function(e,t,r){if(e)return e.stdout=t,e.stderr=r,void l(e);u({stdout:d(t),stderr:d(r)})}));i._enoent.hookChildProcess(h,p)}))},e.exports.shell=function(t,r){var n,i;return r=s({},r),"win32"===process.platform?(n=process.env.comspec||"cmd.exe",i=["/s","/c",'"'+t+'"'],r.windowsVerbatimArguments=!0):(n="/bin/sh",i=["-c",t]),r.shell&&(n=r.shell),e.exports(n,i,r)},e.exports.spawn=i},82563:(e,t,r)=>{"use strict";var n=r(71017),i=r(94209);e.exports=function(e){var t;e=e||{};for(var r=n.resolve(e.cwd||"."),o=[];t!==r;)o.push(n.join(r,"node_modules/.bin")),t=r,r=n.resolve(r,"..");return o.push(n.dirname(process.execPath)),o.concat(e.path||process.env[i()]).join(n.delimiter)}},94209:e=>{"use strict";e.exports=function(e){var t=(e=e||{}).env||process.env;return"win32"!==(e.platform||process.platform)?"PATH":Object.keys(t).filter((function(e){return"PATH"===e.toUpperCase()}))[0]||"Path"}},88100:e=>{e.exports=function(){for(var e={},r=0;r<arguments.length;r++){var n=arguments[r];for(var i in n)t.call(n,i)&&(e[i]=n[i])}return e};var t=Object.prototype.hasOwnProperty},41741:e=>{function t(e){var r=this;if(r instanceof t||(r=new t),r.tail=null,r.head=null,r.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){r.push(e)}));else if(arguments.length>0)for(var n=0,i=arguments.length;n<i;n++)r.push(arguments[n]);return r}function r(e,t){e.tail=new i(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function n(e,t){e.head=new i(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function i(e,t,r,n){if(!(this instanceof i))return new i(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=t,t.Node=i,t.create=t,t.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null},t.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},t.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},t.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)r(this,arguments[e]);return this.length},t.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)n(this,arguments[e]);return this.length},t.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},t.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},t.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},t.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},t.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},t.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},t.prototype.map=function(e,r){r=r||this;for(var n=new t,i=this.head;null!==i;)n.push(e.call(r,i.value,this)),i=i.next;return n},t.prototype.mapReverse=function(e,r){r=r||this;for(var n=new t,i=this.tail;null!==i;)n.push(e.call(r,i.value,this)),i=i.prev;return n},t.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=e(r,n.value,i),n=n.next;return r},t.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=e(r,n.value,i),n=n.prev;return r},t.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},t.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},t.prototype.slice=function(e,r){(r=r||this.length)<0&&(r+=this.length),(e=e||0)<0&&(e+=this.length);var n=new t;if(r<e||r<0)return n;e<0&&(e=0),r>this.length&&(r=this.length);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;for(;null!==o&&i<r;i++,o=o.next)n.push(o.value);return n},t.prototype.sliceReverse=function(e,r){(r=r||this.length)<0&&(r+=this.length),(e=e||0)<0&&(e+=this.length);var n=new t;if(r<e||r<0)return n;e<0&&(e=0),r>this.length&&(r=this.length);for(var i=this.length,o=this.tail;null!==o&&i>r;i--)o=o.prev;for(;null!==o&&i>e;i--,o=o.prev)n.push(o.value);return n},t.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this}},17180:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAsyncStackPolicy=void 0;const n=r(5376),i=r(44936),o={connect:async()=>n.noOpDisposable},s=e=>({connect:async t=>(await t.Debugger.setAsyncCallStackDepth({maxDepth:e}),n.noOpDisposable)}),a=s(32);t.getAsyncStackPolicy=e=>!1===e?o:!0===e?a:"onAttach"in e?s(e.onAttach):"onceBreakpointResolved"in e?(e=>{const t=new i.EventEmitter;let r=!1;const o=()=>{r||(r=!0,t.fire())};return{async connect(i){if(r)return await i.Debugger.setAsyncCallStackDepth({maxDepth:e}),n.noOpDisposable;const s=new n.DisposableList;return s.push(t.event((()=>{s.dispose(),i.Debugger.setAsyncCallStackDepth({maxDepth:e})})),i.Debugger.on("breakpointResolved",o),i.Debugger.on("paused",(e=>{"instrumentation"!==e.reason&&o()}))),s}}})(e.onceBreakpointResolved):a},52287:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.BreakpointsPredictor=t.BreakpointPredictorDelegate=t.IBreakpointsPredictor=void 0;const c=r(55053),u=s(r(71017)),l=r(44936),p=r(95882),d=r(15501),h=r(23517),f=r(43430),m=r(27819),g=r(14090),y=r(33763),b=s(r(97208)),v=r(73454),w=r(74529);t.IBreakpointsPredictor=Symbol("IBreakpointsPredictor");class _{constructor(e,t,r=t(),n){this.sourceMapFactory=e,this.factory=t,this.implementation=r,this.parent=n,r instanceof _&&(this.implementation=r.implementation),this.childImplementation=this.implementation}get onLongParse(){return this.implementation.onLongParse}invalidateNextChild(){this.sourceMapFactory instanceof f.CachingSourceMapFactory&&this.sourceMapFactory.invalidateCache(),this.childImplementation=this.factory()}getChild(){return new _(this.sourceMapFactory,this.factory,this.childImplementation,this)}getPredictionForSource(e){return this.implementation.getPredictionForSource(e)}prepareToPredict(){return this.implementation.prepareToPredict()}predictBreakpoints(e){return this.implementation.predictBreakpoints(e)}predictedResolvedLocations(e){return this.implementation.predictedResolvedLocations(e)}dispose(){var e;null===(e=this.parent)||void 0===e||e.invalidateNextChild()}}t.BreakpointPredictorDelegate=_;let S=class{constructor(e,t,r,n,i,o){this.outFiles=t,this.repo=r,this.logger=n,this.sourceMapFactory=i,this.sourcePathResolver=o,this.predictedLocations=new Map,this.longParseEmitter=new l.EventEmitter,this.onLongParse=this.longParseEmitter.event,e.__workspaceCachePath&&(this.cache=new h.CorrelatedCache(u.join(e.__workspaceCachePath,"bp-predict.json")))}async createInitialMapping(){return(0,w.logPerf)(this.logger,"BreakpointsPredictor.createInitialMapping",(()=>this.createInitialMappingInner()))}async createInitialMappingInner(){if(this.outFiles.empty)return new Map;const e=b.caseNormalizedMap(),t=t=>{let r=e.get(t.resolvedPath);r||(r=new Set,e.set(t.resolvedPath,r)),r.add(t)},r=setTimeout((()=>{this.longParseEmitter.fire(),this.logger.warn("runtime.sourcemap","Long breakpoint predictor runtime",{type:this.repo.constructor.name,longPredictionWarning:1e4,patterns:this.outFiles.patterns})}),1e4);try{await this.repo.streamChildrenWithSourcemaps(this.outFiles,(async e=>{var r,n;const i=await(null===(r=this.cache)||void 0===r?void 0:r.lookup(e.compiledPath,e.mtime));if(i)return void i.forEach((r=>t({...r,...e})));let o;try{o=await this.sourceMapFactory.load(e)}catch(e){return}const s=[];for(const r of o.sources){const n=this.sourcePathResolver?await this.sourcePathResolver.urlToAbsolutePath({url:r,map:o}):b.fileUrlToAbsolutePath(r);if(!n)continue;const i={...e,resolvedPath:n,sourceUrl:r};s.push(i),t(i)}null===(n=this.cache)||void 0===n||n.store(e.compiledPath,e.mtime,s.map((e=>({resolvedPath:e.resolvedPath,sourceUrl:e.sourceUrl}))))}))}catch(e){this.logger.warn("runtime.exception","Error reading sourcemaps from disk",{error:e})}return clearTimeout(r),e}async prepareToPredict(){this.sourcePathToCompiled||(this.sourcePathToCompiled=this.createInitialMapping()),await this.sourcePathToCompiled}async predictBreakpoints(e){var t,r;if(!e.source.path||!(null===(t=e.breakpoints)||void 0===t?void 0:t.length))return;this.sourcePathToCompiled||(this.sourcePathToCompiled=this.createInitialMapping());const n=(await this.sourcePathToCompiled).get(e.source.path);if(!n)return;const i=await Promise.all([...n].map((e=>this.sourceMapFactory.load(e).then((t=>({map:t,metadata:e}))).catch((()=>{})))));for(const t of null!==(r=e.breakpoints)&&void 0!==r?r:[]){const r=`${e.source.path}:${t.line}:${t.column||1}`;if(this.predictedLocations.has(r))return;const n=[];this.predictedLocations.set(r,n);for(const e of i){if(!e)continue;const{map:r,metadata:i}=e,o=this.sourceMapFactory.guardSourceMapFn(r,(()=>(0,y.getOptimalCompiledPosition)(i.sourceUrl,{lineNumber:t.line,columnNumber:t.column||1},r)),(()=>null));o&&null!==o.line&&n.push({absolutePath:i.compiledPath,lineNumber:o.line||1,columnNumber:o.column?o.column+1:1})}}}async getPredictionForSource(e){return this.sourcePathToCompiled||(this.sourcePathToCompiled=this.createInitialMapping()),(await this.sourcePathToCompiled).get(e)}predictedResolvedLocations(e){var t;const r=`${e.absolutePath}:${e.lineNumber}:${e.columnNumber||1}`;return null!==(t=this.predictedLocations.get(r))&&void 0!==t?t:[]}};S=o([(0,c.injectable)(),a(0,(0,c.inject)(v.AnyLaunchConfiguration)),a(1,(0,c.inject)(p.OutFiles)),a(2,(0,c.inject)(m.ISearchStrategy)),a(3,(0,c.inject)(d.ILogger)),a(4,(0,c.inject)(f.ISourceMapFactory)),a(5,(0,c.inject)(g.ISourcePathResolver))],S),t.BreakpointsPredictor=S},31939:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.BreakpointManager=void 0;const c=r(55053),u=r(15501),l=r(7678),p=r(78986),d=s(r(97208)),h=r(73454),f=r(58116),m=r(1032),g=r(2403),y=r(74529),b=r(52287),v=r(31625),w=r(26502),_=r(75188),S=r(1371),k=r(82122),P=r(68164),x=r(44873),C=e=>1===e.originalPosition.columnNumber&&1===e.originalPosition.lineNumber,E=Symbol("DontCompare");let D=class{constructor(e,t,r,n,i,o,s){this.logger=r,this.launchConfig=n,this.conditionFactory=i,this.suggester=o,this._breakpointsPredictor=s,this._resolvedBreakpoints=new Map,this._totalBreakpointsCount=0,this._launchBlocker=new Set,this._predictorDisabledForTest=!1,this._breakpointsStatisticsCalculator=new g.BreakpointsStatisticsCalculator,this.entryBreakpointMode=0,this._enabledFilter=()=>!0,this._byPath=d.caseNormalizedMap(),this._sourceMapHandlerInstalled=!1,this._byRef=new Map,this.moduleEntryBreakpoints=d.caseNormalizedMap(),this._dap=e,this._sourceContainer=t,null==s||s.onLongParse((()=>e.longPrediction({}))),this._scriptSourceMapHandler=async(e,t)=>{if(!r.assert(this._thread,"Expected thread to be set for the breakpoint source map handler"))return[];const n=[];for(const r of t){const t=r.absolutePath,i=t?this._byPath.get(t):void 0;for(const t of i||[])n.push(t.updateForSourceMap(this._thread,e));const o=this._byRef.get(r.sourceReference);for(const t of o||[])n.push(t.updateForSourceMap(this._thread,e))}return(await Promise.all(n)).reduce(((e,t)=>[...e,...t]),[])}}get allUserBreakpoints(){return(0,l.flatten)([...this._byPath.values(),...this._byRef.values()])}get appliedByPath(){return this._byPath}get appliedByRef(){return this._byRef}hasAtLocation(e){const t=this._byPath.get(e.source.absolutePath)||[],r=this._byRef.get(e.source.sourceReference)||[];return t.concat(r).some((t=>t.originalPosition.columnNumber===e.columnNumber&&t.originalPosition.lineNumber===e.lineNumber))}moveBreakpoints(e,t,r){const n=e=>(0,l.bisectArray)(e,(e=>{const n=this._sourceContainer.getOptiminalOriginalPosition(t,e.originalPosition);return null===n.column||null===n.line||e.updateSourceLocation({path:r.absolutePath,sourceReference:r.sourceReference},{lineNumber:n.line,columnNumber:n.column+1,source:r}),!1})),i=e.absolutePath,o=r.absolutePath,s=i?this._byPath.get(i):void 0;if(s&&o){const[e,t]=n(s);this._byPath.set(i,e),this._byPath.set(o,t)}const a=this._byRef.get(e.sourceReference);if(a){const[t,i]=n(a);this._byRef.set(e.sourceReference,t),this._byRef.set(r.sourceReference,i)}}async updateEntryBreakpointMode(e,t){if(t===this.entryBreakpointMode)return;const r=[...this.moduleEntryBreakpoints.values()];this.moduleEntryBreakpoints.clear(),this.entryBreakpointMode=t,await Promise.all(r.map((t=>this.ensureModuleEntryBreakpoint(e,t.source))))}async applyEnabledFilter(e,t=E){if(t!==E&&this._enabledFilter!==t)return;this._enabledFilter=e||(()=>!0);const r=this._thread;r&&await Promise.all(this.allUserBreakpoints.map((e=>this._enabledFilter(e)?e.enable(r):e.disable())))}async getBreakpointLocations(e,t){const r=this._sourceContainer.source(t.source);if(!r)return[];const n=this._sourceContainer.currentSiblingUiLocations({source:r,lineNumber:t.line,columnNumber:void 0===t.column?1:t.column}),i=this._sourceContainer.currentSiblingUiLocations({source:r,lineNumber:void 0===t.endLine?t.line+1:t.endLine,columnNumber:void 0===t.endColumn?1:t.endColumn});if(n.length!==i.length)return this.logger.warn("internal","Expected to have the same number of start and end locations"),[];const o=[];for(let t=0;t<n.length;t++){const s=n[t],a=i[t];if(s.source!==a.source){this.logger.warn("internal","Expected to have the same number of start and end scripts");continue}const c=s.source,u=e.scriptsFromSource(c);if(0===u.size)continue;const{scriptId:l}=u.values().next().value;o.push(e.cdp().Debugger.getPossibleBreakpoints({restrictToFunction:!1,start:{scriptId:l,...(0,x.uiToRawOffset)((0,x.base1To0)(s),c.runtimeScriptOffset)},end:{scriptId:l,...(0,x.uiToRawOffset)((0,x.base1To0)(a),c.runtimeScriptOffset)}}).then((e=>{if(!e)return[];const t=[];for(const n of e.locations){const{lineNumber:e,columnNumber:i=0}=n,o=this._sourceContainer.currentSiblingUiLocations({source:c,...(0,x.rawToUiOffset)((0,x.base0To1)({lineNumber:e,columnNumber:i}),c.runtimeScriptOffset)},r);for(const e of o)t.push({line:e.lineNumber,column:e.columnNumber})}return t})))}return(await Promise.all(o)).reduce(((e,t)=>[...e,...t]),[])}setThread(e){var t;this._thread=e,this._thread.cdp().Debugger.on("breakpointResolved",(t=>{const r=this._resolvedBreakpoints.get(t.breakpointId);r&&r.updateUiLocations(e,t.breakpointId,[t.location])})),this._thread.setSourceMapDisabler((e=>{const t=[];for(const r of e){const e=this._resolvedBreakpoints.get(r);if(e){const r=this._sourceContainer.source(e.source);(0,x.isSourceWithMap)(r)&&t.push(r)}}return t}));for(const r of this._byPath.values())r.forEach((t=>this._setBreakpoint(t,e))),this.ensureModuleEntryBreakpoint(e,null===(t=r[0])||void 0===t?void 0:t.source);for(const t of this._byRef.values())t.forEach((t=>this._setBreakpoint(t,e)));"runtimeSourcemapPausePatterns"in this.launchConfig&&this.launchConfig.runtimeSourcemapPausePatterns.length&&this.setRuntimeSourcemapPausePatterns(e,this.launchConfig.runtimeSourcemapPausePatterns),(this._byPath.size>0||this._byRef.size>0)&&this._installSourceMapHandler(this._thread)}async launchBlocker(){(0,y.logPerf)(this.logger,"BreakpointManager.launchBlocker",(async()=>{this._predictorDisabledForTest||await Promise.all([...this._launchBlocker])}))}setRuntimeSourcemapPausePatterns(e,t){return Promise.all(t.map((t=>this._setBreakpoint(new S.PatternEntryBreakpoint(this,t),e))))}addLaunchBlocker(...e){for(const t of e)this._launchBlocker.add(t),t.finally((()=>this._launchBlocker.delete(t)))}setSourceMapPauseDisabledForTest(){}setPredictorDisabledForTest(e){this._predictorDisabledForTest=e}async _installSourceMapHandler(e){this._sourceMapHandlerInstalled=!0,"yes"===this.launchConfig.perScriptSourcemaps?await Promise.all([this.updateEntryBreakpointMode(e,1),e.setScriptSourceMapHandler(!1,this._scriptSourceMapHandler)]):this._breakpointsPredictor&&!this.launchConfig.pauseForSourceMap?await e.setScriptSourceMapHandler(!1,this._scriptSourceMapHandler):await e.setScriptSourceMapHandler(!0,this._scriptSourceMapHandler)}async _uninstallSourceMapHandler(e){e.setScriptSourceMapHandler(!1),this._sourceMapHandlerInstalled=!1}_setBreakpoint(e,t){this._enabledFilter(e)&&this.addLaunchBlocker(Promise.race([(0,p.delay)(500),e.enable(t)]))}async setBreakpoints(e,t){var r,n;if(!this._sourceMapHandlerInstalled&&this._thread&&(null===(r=e.breakpoints)||void 0===r?void 0:r.length)&&await this._installSourceMapHandler(this._thread),e.source.path=d.platformPathToPreferredCase(e.source.path),e.source.sourceReference&&e.source.path&&!this._sourceContainer.source(e.source)&&(e.source.sourceReference=void 0),!this._predictorDisabledForTest&&this._breakpointsPredictor){const t=this._breakpointsPredictor.predictBreakpoints(e);this.addLaunchBlocker(t),await t}const i=this._thread;if(!1===(null==i?void 0:i.debuggerReady.hasSettled())){const e=i.debuggerReady.promise;this.addLaunchBlocker(e),await e}const o=()=>e.source.path?this._byPath.get(e.source.path):e.source.sourceReference?this._byRef.get(e.source.sourceReference):void 0,s=(r=>{var n;const i={unbound:r.slice(),new:[],list:[]};if(!e.breakpoints)return i;for(let r=0;r<e.breakpoints.length;r++){const o=e.breakpoints[r];let s;try{s=new k.UserDefinedBreakpoint(this,t[r],e.source,o,this.conditionFactory.getConditionFor(o))}catch(n){if(!(n instanceof m.ProtocolError))throw n;this._dap.output({category:"stderr",output:n.message}),s=new _.NeverResolvedBreakpoint(this,t[r],e.source,o)}const a=i.unbound.findIndex((e=>e.equivalentTo(s))),c=i.unbound[a];(null===(n=null==c?void 0:c.equivalentTo)||void 0===n?void 0:n.call(c,s))?(i.list.push(c),i.unbound.splice(a,1)):(i.new.push(s),i.list.push(s))}return i})(null!==(n=o())&&void 0!==n?n:[]);if(e.source.path)this._byPath.set(e.source.path,s.list);else{if(!e.source.sourceReference)return{breakpoints:[]};this._byRef.set(e.source.sourceReference,s.list)}if(this._totalBreakpointsCount-=s.unbound.length,await Promise.all(s.unbound.map((e=>e.disable()))),this._totalBreakpointsCount+=s.new.length,this._thread&&0===this._totalBreakpointsCount&&this._sourceMapHandlerInstalled&&this._uninstallSourceMapHandler(this._thread),i&&s.new.length){this.ensureModuleEntryBreakpoint(i,e.source);const t=o(),r=Promise.all(s.new.filter(this._enabledFilter).filter((e=>null==t?void 0:t.includes(e))).map((e=>e.enable(i))));this.addLaunchBlocker(Promise.race([(0,p.delay)(500),r])),await r}const a=await Promise.all(s.list.map((e=>e.toDap())));return this._breakpointsStatisticsCalculator.registerBreakpoints(a),(0,p.delay)(0).then((()=>s.new.forEach((e=>e.markSetCompleted())))),{breakpoints:a}}async notifyBreakpointChange(e,t){const r=await e.toDap();r.verified&&(this._breakpointsStatisticsCalculator.registerResolvedBreakpoint(e.dapId),this.suggester.notifyVerifiedBreakpoint()),t&&this._dap.breakpoint({reason:"changed",breakpoint:r})}isEntrypointBreak(e,t){const r=[...this.moduleEntryBreakpoints.values()].filter((e=>e.enabled&&e.cdpScriptIds.has(t)));if(r.length){for(const e of r)e instanceof S.PatternEntryBreakpoint||e.disable();return!0}return e.some((e=>{const t=this._resolvedBreakpoints.get(e);return t&&(t instanceof w.EntryBreakpoint||C(t))}))}async shouldPauseAt(e,t,r,n=!1){if(!t.length)return"instrumentation"!==e.reason;let i=0,o=n?1:0;return await Promise.all(t.map((async t=>{if((null==r?void 0:r.cdpId)===t)return void i++;const n=this._resolvedBreakpoints.get(t);if(n instanceof w.EntryBreakpoint)return 0!==this.entryBreakpointMode||n instanceof S.PatternEntryBreakpoint||n.disable(),void o++;n instanceof k.UserDefinedBreakpoint&&(await n.testHitCondition(e)?i++:o++)}))),i>0||0===o}registerBreakpointsHit(e){for(const t of e){const e=this._resolvedBreakpoints.get(t);e instanceof k.UserDefinedBreakpoint&&this._breakpointsStatisticsCalculator.registerBreakpointHit(e.dapId)}}statisticsForTelemetry(){return this._breakpointsStatisticsCalculator.statistics()}ensureModuleEntryBreakpoint(e,t){var r;if(!t.path)return;if((null!==(r=this._byPath.get(t.path))&&void 0!==r?r:[]).some(C))return;const n=w.EntryBreakpoint.getModeKeyForSource(this.entryBreakpointMode,t.path);if(!t.path||this.moduleEntryBreakpoints.has(n))return;const i=new w.EntryBreakpoint(this,t,this.entryBreakpointMode);this.moduleEntryBreakpoints.set(t.path,i),this._setBreakpoint(i,e)}executionContextWasCleared(){for(const e of this.allUserBreakpoints)e.executionContextWasCleared()}async reapply(){const e=[...this.allUserBreakpoints];if(await Promise.all(e.map((e=>e.disable()))),this._thread){const t=this._thread;await Promise.all(e.map((e=>e.enable(t))))}}};D=o([(0,c.injectable)(),a(0,(0,c.inject)(f.IDapApi)),a(1,(0,c.inject)(x.SourceContainer)),a(2,(0,c.inject)(u.ILogger)),a(3,(0,c.inject)(h.AnyLaunchConfiguration)),a(4,(0,c.inject)(v.IBreakpointConditionFactory)),a(5,(0,c.inject)(P.DiagnosticToolSuggester)),a(6,(0,c.inject)(b.IBreakpointsPredictor))],D),t.BreakpointManager=D},16564:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Breakpoint=void 0;const n=r(97208),i=r(44873),o=(e,t)=>e.lineNumber===t.lineNumber&&e.columnNumber===t.columnNumber,s=e=>!("location"in e),a=e=>"location"in e,c=(e,t)=>e.url&&t===e.url||e.urlRegex&&new RegExp(e.urlRegex).test(t);t.Breakpoint=class{constructor(e,t,r){this._manager=e,this._source=t,this._originalPosition=r,this.isEnabled=!1,this.setInCdpScriptIds=new Set,this.cdpScriptIds=this.setInCdpScriptIds,this.cdpBreakpoints=[],this._cdpIds=new Set}get enabled(){return this.isEnabled}get cdpIds(){return this._cdpIds}get source(){return this._source}get originalPosition(){return this._originalPosition}async updateSourceLocation(e,t){this._source=e,this._originalPosition=t,this.updateCdpRefs((e=>e.map((e=>1===e.state?{...e,uiLocations:this._manager._sourceContainer.currentSiblingUiLocations(t)}:e))))}async enable(e){if(this.isEnabled)return;this.isEnabled=!0;const t=[this._setPredicted(e)],r=this._manager._sourceContainer.source(this.source);if(r&&r instanceof i.SourceFromMap||t.push(this._setByPath(e,(0,i.uiToRawOffset)(this.originalPosition,null==r?void 0:r.runtimeScriptOffset))),await Promise.all(t),r){const t=this._manager._sourceContainer.currentSiblingUiLocations({lineNumber:this.originalPosition.lineNumber,columnNumber:this.originalPosition.columnNumber,source:r});await Promise.all(t.map((t=>this._setByUiLocation(e,(0,i.uiToRawOffset)(t,r.runtimeScriptOffset)))))}}async updateUiLocations(e,t,r){const n=(await Promise.all(r.map((t=>e.rawLocationToUiLocation(e.rawLocation(t)))))).find((e=>!!e));if(!n)return;const i=this._manager._sourceContainer.source(this.source);i&&this.updateCdpRefs((e=>e.map((e=>1===e.state&&e.cdpId===t?{...e,locations:r,uiLocations:[...e.uiLocations,...this._manager._sourceContainer.currentSiblingUiLocations(n,i)]}:e))))}compare(e){const t=this.originalPosition,r=e.originalPosition;return t.lineNumber!==r.lineNumber?t.lineNumber-r.lineNumber:t.columnNumber-r.columnNumber}async disable(){if(!this.isEnabled)return;this.isEnabled=!1;const e=this.cdpBreakpoints.map((e=>this.removeCdpBreakpoint(e)));await Promise.all(e)}async updateForSourceMap(e,t){const r=this._manager._sourceContainer.source(this.source);if(!r)return[];const n=this._manager._sourceContainer.currentSiblingUiLocations({lineNumber:this.originalPosition.lineNumber,columnNumber:this.originalPosition.columnNumber,source:r},await t.source);if(!n.length)return[];const o=[];for(const s of n)o.push(this._setByScriptId(e,t,(0,i.uiToRawOffset)(s,r.runtimeScriptOffset)));for(const e of this.cdpBreakpoints){if(!s(e.args))continue;if(!this.breakpointIsForSource(e.args,r))continue;const t=e.args;n.some((e=>e.columnNumber-1===t.columnNumber&&e.lineNumber-1===t.lineNumber))||(this._manager.logger.verbose("runtime.sourcemap","Adjusted breakpoint due to overlaid sourcemap",{url:r.url}),o.push(this.removeCdpBreakpoint(e)))}return await Promise.all(o),n}executionContextWasCleared(){this.updateCdpRefs((e=>e.filter((e=>s(e.args)))))}breakpointIsForSource(e,t){if(c(e,t.url))return!0;const r=this._manager._sourceContainer.sourcePathResolver.rebaseLocalToRemote(t.absolutePath);return!!c(e,r)}getBreakCondition(){}updateCdpRefs(e){this.cdpBreakpoints=e(this.cdpBreakpoints);const t=new Set;this.setInCdpScriptIds.clear();for(const e of this.cdpBreakpoints)if(1===e.state){t.add(e.cdpId);for(const t of e.locations)this.setInCdpScriptIds.add(t.scriptId)}this._cdpIds=t}async _setPredicted(e){if(!this.source.path||!this._manager._breakpointsPredictor)return;const t=this._manager._breakpointsPredictor.predictedResolvedLocations({absolutePath:this.source.path,lineNumber:this.originalPosition.lineNumber,columnNumber:this.originalPosition.columnNumber}),r=[];for(const n of t){const t=this._manager._sourceContainer.sourcePathResolver.absolutePathToUrlRegexp(n.absolutePath);void 0!==t&&("string"==typeof t?r.push(this._setByUrlRegexp(e,t,n)):r.push(t.then((t=>t?this._setByUrlRegexp(e,t,n):void 0))))}await Promise.all(r)}async _setByUiLocation(e,t){const r=[],n=e.scriptsFromSource(t.source);for(const i of n)r.push(this._setByScriptId(e,i,t));await Promise.all(r)}async _setByPath(e,t){const r=this._manager._sourceContainer.source({path:this.source.path});if(!(r instanceof i.SourceFromMap&&[...r.compiledToSourceUrl.keys()].some((e=>e.absolutePath===this.source.path))))if(this.source.path){const r=await this._manager._sourceContainer.sourcePathResolver.absolutePathToUrlRegexp(this.source.path);if(!r)return;await this._setByUrlRegexp(e,r,t)}else{const r=this._manager._sourceContainer.source(this.source),i=null==r?void 0:r.url;if(!i)return;await this._setByUrl(e,i,t),this.source.path!==i&&void 0!==this.source.path&&await this._setByUrl(e,(0,n.absolutePathToFileUrl)(this.source.path),t)}}hasSetOnLocation(e,t){return this.cdpBreakpoints.find((r=>{var n;return e.scriptId&&a(r.args)&&r.args.location.scriptId===e.scriptId&&o(r.args.location,t)||e.url&&s(r.args)&&new RegExp(null!==(n=r.args.urlRegex)&&void 0!==n?n:"").test(e.url)&&o(r.args,t)}))}hasSetOnLocationByRegexp(e,t){return this.cdpBreakpoints.find((r=>{if(s(r.args))return r.args.urlRegex===e&&o(r.args,t);const n=this._manager._sourceContainer.getScriptById(r.args.location.scriptId);return n?o(r.args.location,t)&&new RegExp(e).test(n.url):void 0}))}async _setByUrl(e,t,r){return this._setByUrlRegexp(e,(0,n.urlToRegex)(t),r)}async _setByUrlRegexp(e,t,r){r=(0,i.base1To0)(r);const n=this.hasSetOnLocationByRegexp(t,r);if(!n)return this._setAny(e,{urlRegex:t,condition:this.getBreakCondition(),...r});0===n.state&&await n.done}async _setByScriptId(e,t,r){r=(0,i.base1To0)(r);const n=this.hasSetOnLocation(t,r);if(!n)return this._setAny(e,{condition:this.getBreakCondition(),location:{scriptId:t.scriptId,...r}});0===n.state&&await n.done}async _setAny(e,t){if(!this.isEnabled)return;const r={state:0,args:t,deadletter:!1};r.done=(async()=>{const n=a(t)?await e.cdp().Debugger.setBreakpoint(t):await e.cdp().Debugger.setBreakpointByUrl(t);if(!n)return;if(r.deadletter)return void await e.cdp().Debugger.removeBreakpoint({breakpointId:n.breakpointId});const i="actualLocation"in n?[n.actualLocation]:n.locations;this._manager._resolvedBreakpoints.set(n.breakpointId,this);const o={state:1,cdpId:n.breakpointId,args:t,locations:i,uiLocations:[]};return this.updateCdpRefs((e=>e.map((e=>e===r?o:e)))),await this.updateUiLocations(e,n.breakpointId,i),o})(),this.updateCdpRefs((e=>[...e,r])),await r.done}async removeCdpBreakpoint(e){var t;this.updateCdpRefs((t=>t.filter((t=>t!==e)))),0===e.state?(e.deadletter=!0,await e.done):(await(null===(t=this._manager._thread)||void 0===t?void 0:t.cdp().Debugger.removeBreakpoint({breakpointId:e.cdpId})),this._manager._resolvedBreakpoints.delete(e.cdpId))}}},41222:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wrapBreakCondition=t.ExpressionCondition=void 0;const n=r(33763),i=r(44413),o=r(1032);class s{constructor(e){"function"==typeof e?this.invoke=e:this.breakCondition=e}static parse(e,r,a,c){a&&(r=(0,t.wrapBreakCondition)(r));const u=r&&(0,n.getSyntaxErrorIn)(r);if(u)throw new o.ProtocolError((0,i.invalidBreakPointCondition)(e,u.message));const{canEvaluateDirectly:l,invoke:p}=c.prepare(r);return new s(l?r:p)}async shouldStayPaused(e){if(!this.invoke)return Promise.resolve(!0);const t=await this.invoke({callFrameId:e.callFrames[0].callFrameId,returnByValue:!0});return!0===(null==t?void 0:t.result.value)}}t.ExpressionCondition=s,t.wrapBreakCondition=e=>`(()=>{try{return ${e};}catch(e){console.error(e);return true}})()`},70738:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HitCondition=void 0;const n=r(44413),i=r(1032),o=/^(>|>=|={1,3}|<|<=|%)?\s*([0-9]+)$/;class s{constructor(e){this.predicate=e,this.hits=0,this.breakCondition=void 0}shouldStayPaused(){return Promise.resolve(this.predicate(++this.hits))}static parse(e){const t=o.exec(e);if(!t)throw new i.ProtocolError((0,n.invalidHitCondition)(e));const[,r,a]=t,c="%"===r?`return (numHits % ${a}) === 0;`:"="===r[0]?`return numHits === ${a};`:`return numHits ${r} ${a};`;return new s(new Function("numHits",c))}}t.HitCondition=s},31625:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.BreakpointConditionFactory=t.IBreakpointConditionFactory=t.AlwaysBreak=void 0;const o=r(55053),s=r(73454),a=r(45997),c=r(41222),u=r(70738),l=r(37853),p=r(87157);t.AlwaysBreak=new p.SimpleCondition({line:0},void 0),t.IBreakpointConditionFactory=Symbol("IBreakpointConditionFactory");let d=class{constructor(e,t,r){this.logPointCompiler=e,this.evaluator=t,this.breakOnError=r.__breakOnConditionalError}getConditionFor(e){return e.condition?c.ExpressionCondition.parse(e,e.condition,this.breakOnError,this.evaluator):e.logMessage?this.logPointCompiler.compile(e,e.logMessage):e.hitCondition?u.HitCondition.parse(e.hitCondition):t.AlwaysBreak}};d=n([(0,o.injectable)(),i(0,(0,o.inject)(l.LogPointCompiler)),i(1,(0,o.inject)(a.IEvaluator)),i(2,(0,o.inject)(s.AnyLaunchConfiguration))],d),t.BreakpointConditionFactory=d},37853:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.LogPointCompiler=void 0;const o=r(26487),s=r(6113),a=r(55053),c=r(72223),u=r(33763),l=r(44413),p=r(1032),d=r(45997),h=r(24930),f=r(87157);let m=class{constructor(e){this.evaluator=e}compile(e,t){const r=this.logMessageToExpression(t),n=(0,u.getSyntaxErrorIn)(r);if(n)throw new p.ProtocolError((0,l.invalidBreakPointCondition)(e,n.message));const{canEvaluateDirectly:i,invoke:o}=this.evaluator.prepare(r);return i?new f.SimpleCondition(e,this.logMessageToExpression(t)):new h.RuntimeLogPoint(o)}serializeLogStatements(e){return(0,c.returnErrorsFromStatements)([],e,!1)}logMessageToExpression(e){const t=e=>e.replace(/%/g,"%%"),r=[],n=[];let i=0;for(;;){const s=e.indexOf("{",i);if(-1===s){r.push(t(e.slice(i)));break}r.push(t(e.slice(i,s)));const[a]=(0,c.parseSource)(e.slice(s));if(i=s+a.end,i-1!==s+1&&"}"===e[i-1]){if("BlockStatement"!==a.type)break;n.push((0,o.generate)(this.serializeLogStatements(a.body))),r.push("%O")}else r.push(t(e.slice(s,i)))}const a=`console.log(${[JSON.stringify(r.join("")),...n].join(", ")}), false`;return a+`\n//# sourceURL=logpoint-${(0,s.createHash)("sha1").update(a).digest("hex").slice(0,7)}.cdp`}};m=n([(0,a.injectable)(),i(0,(0,a.inject)(d.IEvaluator))],m),t.LogPointCompiler=m},24930:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RuntimeLogPoint=void 0,t.RuntimeLogPoint=class{constructor(e){this.invoke=e,this.breakCondition=void 0}async shouldStayPaused(e){return await this.invoke({callFrameId:e.callFrames[0].callFrameId}),!1}}},87157:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleCondition=void 0;const n=r(33763),i=r(44413),o=r(1032);t.SimpleCondition=class{constructor(e,t){this.breakCondition=t;const r=t&&(0,n.getSyntaxErrorIn)(t);if(r)throw new o.ProtocolError((0,i.invalidBreakPointCondition)(e,r.message))}shouldStayPaused(){return Promise.resolve(!0)}}},26502:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EntryBreakpoint=void 0;const n=r(71017),i=r(16564);class o extends i.Breakpoint{constructor(e,t,r){super(e,t,{lineNumber:1,columnNumber:1}),this.mode=r}static getModeKeyForSource(e,t){return 1===e?(0,n.basename)(t,(0,n.extname)(t)||void 0):t}_setPredicted(){return Promise.resolve()}_setByPath(e,t){if(!this.source.path)return Promise.resolve();const r=o.getModeKeyForSource(this.mode,this.source.path);return 1===this.mode?super._setByUrl(e,r,t):super._setByPath(e,t)}}t.EntryBreakpoint=o},75188:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NeverResolvedBreakpoint=void 0;const n=r(82122),i=r(70738);class o extends n.UserDefinedBreakpoint{constructor(e,t,r,n){super(e,t,r,n,new i.HitCondition((()=>!1)))}getResolvedUiLocation(){}}t.NeverResolvedBreakpoint=o},1371:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PatternEntryBreakpoint=void 0;const n=r(48586),i=r(79783),o=r(26502);class s extends o.EntryBreakpoint{constructor(e,t){super(e,{path:t},1),this.pattern=t}async enable(e){if(this.isEnabled)return;this.isEnabled=!0;const t=(0,n.makeRe)((0,i.forceForwardSlashes)(this.pattern),{contains:!0,lookbehinds:!1});await this._setAny(e,{urlRegex:t.source.replace(/([a-z]):/i,((e,t)=>`[${t.toLowerCase()}${t.toUpperCase()}]:`)),lineNumber:0,columnNumber:0})}}t.PatternEntryBreakpoint=s},82122:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.UserDefinedBreakpoint=void 0;const s=o(r(33463)),a=r(78986),c=r(16564),u=s.loadMessageBundle(r(71017).join(__dirname,"adapter\\breakpoints\\userDefinedBreakpoint.js"));class l extends c.Breakpoint{constructor(e,t,r,n,i){super(e,r,{lineNumber:n.line,columnNumber:n.column||1}),this.dapId=t,this.dapParams=n,this.condition=i,this.completedSet=(0,a.getDeferred)()}equivalentTo(e){return e.dapParams.column===this.dapParams.column&&e.dapParams.line===this.dapParams.line&&e.dapParams.hitCondition===this.dapParams.hitCondition&&e.dapParams.condition===this.dapParams.condition&&e.dapParams.logMessage===this.dapParams.logMessage}untilSetCompleted(){return this.completedSet.promise}markSetCompleted(){this.completedSet.resolve()}testHitCondition(e){return this.condition.shouldStayPaused(e)}async toDap(){const e=this.enabled&&this.getResolvedUiLocation();return e?{id:this.dapId,verified:!0,source:await e.source.toDap(),line:e.lineNumber,column:e.columnNumber}:{id:this.dapId,verified:!1,message:u(0,null)}}diagnosticDump(){return{source:this.source,params:this.dapParams,cdp:this.cdpBreakpoints}}getBreakCondition(){return this.condition.breakCondition}updateCdpRefs(e){const t=this.getResolvedUiLocation();super.updateCdpRefs(e),this.getResolvedUiLocation()!==t&&this.notifyResolved()}getResolvedUiLocation(){for(const e of this.cdpBreakpoints)if(1===e.state&&e.uiLocations.length)return e.uiLocations[0]}async notifyResolved(){await this._manager.notifyBreakpointChange(this,this.completedSet.hasSettled())}}t.UserDefinedBreakpoint=l},75951:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CdpProxyProvider=t.ICdpProxyProvider=void 0;const o=r(6113),s=r(55053),a=r(63216),c=r(33361),u=r(5376),l=r(15501),p=r(91183);class d{constructor(){this.replays=new Map}addReplay(e,t,r){let n=this.replays.get(e);return n||(n=new c.LinkedList,this.replays.set(e,n)),n.push({event:`${e}.${t}`,params:r})}capture(e,t,r,n){const i=e[t];if(0===n)i.on(r,(e=>this.addReplay(t,r,e)));else if(2===n){let e;i.on(r,(n=>{null==e||e(),e=this.addReplay(t,r,n)}))}else{const e=new c.LinkedList;i.on(r,(i=>{var o;e.size===n.cap&&(null===(o=e.shift())||void 0===o||o()),e.push(this.addReplay(t,r,i))}))}}filter(e,t){const r=this.replays.get(e);r&&r.applyFilter(t)}clearEvent(e,t){const r=`${e}.${t}`;this.filter(e,(e=>e.event!==r))}clearDomain(e){this.replays.delete(e)}read(e){var t;return null!==(t=this.replays.get(e))&&void 0!==t?t:[]}}t.ICdpProxyProvider=Symbol("ICdpProxyProvider");let h=class{constructor(e,t,r){this.cdp=e,this.portTracker=t,this.logger=r,this.disposables=new u.DisposableList,this.replay=new d,this.jsDebugApi={subscribe:(e,{events:t})=>{for(const r of t)r.endsWith("*")?e.pushDisposable(this.cdp.session.onPrefix(r.slice(0,-"*".length),(t=>e.send({method:t.method,params:t.params})))):e.pushDisposable(this.cdp.session.on(r,(t=>e.send({method:r,params:t}))));return{}}},this.replay.capture(e,"CSS","styleSheetAdded",0),this.replay.capture(e,"Debugger","paused",2),this.replay.capture(e,"Runtime","executionContextCreated",{cap:50,type:1}),this.replay.capture(e,"Runtime","consoleAPICalled",{cap:50,type:1}),e.Debugger.on("resumed",(()=>{this.replay.clearEvent("Debugger","paused")})),e.CSS.on("fontsUpdated",(e=>{e.font&&this.replay.addReplay("CSS","fontsUpdated",e)})),e.CSS.on("styleSheetRemoved",(e=>this.replay.filter("CSS",(t=>t.params.styleSheetId!==e.styleSheetId))))}async proxy(){this.server||(this.server=this.createServer());const{server:e,path:t}=await this.server,r=e.address();return{host:r.address,port:r.port,path:t}}async createServer(){const e=`/${(0,o.randomBytes)(20).toString("hex")}`,t=await(0,p.acquireTrackedWebSocketServer)(this.portTracker,{perMessageDeflate:!0,path:e});return this.logger.info("proxyActivity","activated cdp proxy"),t.on("connection",(e=>{const t=new m(e,this.logger);this.logger.info("proxyActivity","accepted proxy connection",{id:t.id}),e.on("close",(()=>{this.logger.verbose("proxyActivity","closed proxy connection",{id:t.id}),this.disposables.disposeObject(t)})),e.on("message",(async e=>{let r;try{r=JSON.parse(e.toString())}catch(e){return t.send({id:0,error:{code:-32700,message:e.message}})}this.logger.verbose("proxyActivity","received proxy message",r);const{method:n,params:i,id:o=0}=r,[s,c]=n.split(".");try{const e="JsDebug"===s?await this.invokeJsDebugDomainMethod(t,c,i):await this.invokeCdpMethod(t,s,c,i);t.send({id:o,result:e})}catch(e){const r=e instanceof a.ProtocolError&&e.cause?e.cause:{code:0,message:e.message};t.send({id:o,error:r})}}))})),{server:t,path:e}}dispose(){var e;this.disposables.dispose(),null===(e=this.server)||void 0===e||e.then((e=>e.server.close())),this.server=void 0}invokeCdpMethod(e,t,r,n){const i=this.cdp.session.sendOrDie(`${t}.${r}`,n);switch(r){case"enable":for(const r of this.replay.read(t))e.send({method:r.event,params:r.params});break;case"disable":this.replay.clearDomain(t)}return i}invokeJsDebugDomainMethod(e,t,r){if(!this.jsDebugApi.hasOwnProperty(t))throw new a.ProtocolError(t).setCause(-32601,`JsDebug.${t} not found`);return this.jsDebugApi[t](e,r)}};h=n([(0,s.injectable)(),i(0,(0,s.inject)(a.ICdpApi)),i(1,(0,s.inject)(p.IPortLeaseTracker)),i(2,(0,s.inject)(l.ILogger))],h),t.CdpProxyProvider=h;let f=0;class m{constructor(e,t){this.webSocket=e,this.logger=t,this.disposables=new u.DisposableList,this.id=f++}pushDisposable(e){this.disposables.push(e)}dispose(){this.disposables.dispose(),this.webSocket.close()}send(e){this.logger.verbose("proxyActivity","send proxy message",e),this.webSocket.send(JSON.stringify(e))}}},51695:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Completions=t.ICompletions=void 0;const o=r(22681),s=r(38347),a=r(55053),c=r(63216),u=r(72223),l=r(36268),p=r(45997),d=r(38103);function h(e){let t=!1;return(0,s.traverse)(e,{enter(e){if("CallExpression"===e.type||"NewExpression"===e.type||"UnaryExpression"===e.type&&"delete"===e.operator||"ClassBody"===e.type)return t=!0,s.VisitorOption.Break}}),t}t.ICompletions=Symbol("ICompletions");let f=class{constructor(e,t){this.evaluator=e,this.cdp=t}async completions(e){const t=(0,u.parseProgram)(e.expression),r=new l.PositionToOffset(e.expression).convert(e.position);let n=()=>Promise.resolve([]);return(0,s.traverse)(t,{enter:i=>{const o=i;o.start<r&&r<=o.end&&("Identifier"===i.type?n=()=>this.identifierCompleter(e,t,i,r):"MemberExpression"===i.type&&(n=i.computed?()=>this.elementAccessCompleter(e,i,r):()=>this.propertyAccessCompleter(e,i,r)))}}),n().then((e=>e.sort(((e,t)=>e.sortText>t.sortText?1:-1))))}async elementAccessCompleter(e,t,r){if("Literal"!==t.property.type||"string"!=typeof t.property.value)return[];const n=e.expression.slice((0,u.getStart)(t.property)+1,r);return(await this.defaultCompletions(e,n)).filter((e=>"~~["!==e.sortText)).map((e=>{var r;return{...e,text:JSON.stringify(null!==(r=e.text)&&void 0!==r?r:e.label)+"]",start:(0,u.getStart)(t.property),length:(0,u.getEnd)(t.property)-(0,u.getStart)(t.property)}}))}async identifierCompleter(e,t,r,n){const i=[];(0,s.traverse)(t,{enter(e){var t;const r=(e=>{var t,r,n;switch(e.type){case"ClassDeclaration":case"ClassExpression":return{type:"class",id:e.id};case"MethodDefinition":return{type:"Identifier"===(null===(t=e.key)||void 0===t?void 0:t.type)&&"constructor"===e.key.name?"constructor":"method",id:e.key};case"VariableDeclarator":return{type:"FunctionExpression"===(null===(r=e.init)||void 0===r?void 0:r.type)||"ArrowFunctionExpression"===(null===(n=e.init)||void 0===n?void 0:n.type)?"function":"variable",id:e.id}}})(e);"Identifier"===(null===(t=null==r?void 0:r.id)||void 0===t?void 0:t.type)&&i.push({label:r.id.name,type:r.type,sortText:r.id.name})}});const o=e.expression.slice((0,u.getStart)(r),n),a=[...i,...await this.defaultCompletions(e,o)];return this.evaluator.hasReturnValue&&void 0!==e.executionContextId&&p.returnValueStr.startsWith(o)&&a.push({sortText:`~${p.returnValueStr}`,label:p.returnValueStr,type:"variable"}),a}async propertyAccessCompleter(e,t,r){const{result:n,isArray:i}=await this.completePropertyAccess({executionContextId:e.executionContextId,stackFrame:e.stackFrame,expression:(0,u.getText)(e.expression,t.object),prefix:(0,o.isDummy)(t.property)?"":e.expression.slice((0,u.getStart)(t.property),r),throwOnSideEffect:h(t)}),s=(0,u.getStart)(t.property)-1,a=/^[$a-z_][0-9a-z_$]*$/i;for(const e of n)a.test(e.label)||(e.text=`[${JSON.stringify(e.label)}]`,e.start=s,e.length=1);if(i){const e="index";n.unshift({label:`[${e}]`,text:`[${e}]`,type:"property",sortText:"~~[",start:s,selectionStart:1,selectionLength:e.length,length:1})}return n}async completePropertyAccess({executionContextId:e,stackFrame:t,expression:r,prefix:n,isInGlobalScope:i=!1,throwOnSideEffect:o=!1}){const s={expression:`(${r})`,objectGroup:"console",silent:!0,throwOnSideEffect:o},a=t&&t.callFrameId(),c=await this.evaluator.evaluate(a?{...s,callFrameId:a}:{...s,contextId:e},{stackFrame:t});if(!c||c.exceptionDetails)return{result:[],isArray:!1};if(!c.result.objectId){const t={...s,returnByValue:!0,throwOnSideEffect:!1,expression:(0,d.enumeratePropertiesTemplate)(`(${r})`,JSON.stringify(n),JSON.stringify(i))},o=await this.evaluator.evaluate(a?{...t,callFrameId:a}:{...t,contextId:e});return!o||o.exceptionDetails?{result:[],isArray:!1}:o.result.value}try{return(await(0,d.enumerateProperties)({cdp:this.cdp,args:[void 0,n,i],objectId:c.result.objectId,returnByValue:!0})).value}catch(e){return{result:[],isArray:!1}}finally{this.cdp.Runtime.releaseObject({objectId:c.result.objectId})}}async defaultCompletions(e,t=""){for(const r of["self","global","this"]){const{result:n}=await this.completePropertyAccess({executionContextId:e.executionContextId,stackFrame:e.stackFrame,expression:r,prefix:t,isInGlobalScope:!0});if(n.length){if(e.stackFrame){const t=new Set(n.map((e=>e.label)));for(const r of await e.stackFrame.completions())t.has(r.label)||(t.add(r.label),n.push(r))}return n.push(...this.syntheticCompletions(e,t)),n}}return this.syntheticCompletions(e,t)}syntheticCompletions(e,t){return this.evaluator.hasReturnValue&&p.returnValueStr.startsWith(t)?[{sortText:`~${p.returnValueStr}`,label:p.returnValueStr,type:"variable"}]:[]}};f=n([(0,a.injectable)(),i(0,(0,a.inject)(p.IEvaluator)),i(1,(0,a.inject)(c.ICdpApi))],f),t.Completions=f},74497:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Console=void 0;const o=r(55053),s=r(7678),a=r(58116),c=r(21964),u=r(70132),l=r(79380),p=new Set(["group","assert","count"]);let d=class{constructor(e){this.dap=e,this.isDirty=!1,this.queue=new u.ReservationQueue((e=>{for(const t of e)this.dap.output(t)})),this.onDrained=this.queue.onDrained}get length(){return this.queue.length}dispose(){this.queue.dispose()}dispatch(e,t){const r=this.parse(t);r&&this.enqueue(e,r)}enqueue(e,t){if(t instanceof c.ClearMessage){if(!this.isDirty)return;this.isDirty=!1}else this.isDirty=!0;this.queue.enqueue(t.toDap(e))}parse(e){var t;if("log"===e.type){const r=null===(t=e.stackTrace)||void 0===t?void 0:t.callFrames[0];if(r&&"internal/console/constructor.js"===r.url&&p.has(r.functionName))return}switch(e.type){case"clear":return new c.ClearMessage;case"endGroup":return new c.EndGroupMessage;case"assert":return new l.AssertMessage(e);case"table":return new l.TableMessage(e);case"startGroup":case"startGroupCollapsed":return new l.StartGroupMessage(e);case"debug":case"log":case"info":case"dir":case"dirxml":case"count":case"profile":case"profileEnd":case"timeEnd":return new l.LogMessage(e);case"trace":return new l.TraceMessage(e);case"error":return new l.ErrorMessage(e);case"warning":return new l.WarningMessage(e);default:try{(0,s.assertNever)(e.type,"unknown console message type")}catch(e){}}}};d=n([(0,o.injectable)(),i(0,(0,o.inject)(a.IDapApi))],d),t.Console=d},21964:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EndGroupMessage=t.ClearMessage=void 0,t.ClearMessage=class{toDap(){return{category:"console",output:"[2J"}}},t.EndGroupMessage=class{toDap(){return{category:"stdout",output:"",group:"end"}}}},81118:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExceptionMessage=void 0;const n=r(7678),i=r(16865),o=r(28951),s=r(35219),a=r(79380);class c extends a.TextualMessage{constructor(){super(...arguments),this.stackTrace=(0,n.once)((e=>this.event.stackTrace?s.StackTrace.fromRuntime(e,this.event.stackTrace):this.event.scriptId?s.StackTrace.fromRuntime(e,{callFrames:[{functionName:"(program)",lineNumber:this.event.lineNumber,columnNumber:this.event.columnNumber,scriptId:this.event.scriptId,url:this.event.url||""}]}):void 0))}async toDap(e){var t,r;const n=this.event.exception?(0,o.previewException)(this.event.exception):{title:""};let s=n.title;s.startsWith("Uncaught")||(s=`Uncaught ${null!==(r=null===(t=this.event.exception)||void 0===t?void 0:t.className)&&void 0!==r?r:"Error"} `+s);const a=this.stackTrace(e),c=this.event.exception&&!n.stackTrace?[this.event.exception]:[];return i.StackTraceParser.isStackLike(s)?s=await e.replacePathsInStackTrace(s):a&&(s+="\n"+await a.formatAsNative()),{category:"stderr",output:s,variablesReference:a||c.length?e.replVariables.createVariableForOutput(s,c,a).id:void 0,...await this.getUiLocation(e)}}}t.ExceptionMessage=c},54216:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.IConsole=void 0,i(r(85193),t),i(r(81118),t),t.IConsole=Symbol("IConsole")},85193:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.QueryObjectsMessage=void 0;const s=o(r(33463)),a=r(28951),c=r(60290),u=s.loadMessageBundle(r(71017).join(__dirname,"adapter\\console\\queryObjectsMessage.js"));t.QueryObjectsMessage=class{constructor(e,t){this.protoObj=e,this.cdp=t}async toDap(e){if(!this.protoObj.objectId)return{category:"stderr",output:u(0,null)};const t=await this.cdp.Runtime.queryObjects({prototypeObjectId:this.protoObj.objectId,objectGroup:"console"});if(await this.cdp.Runtime.releaseObject({objectId:this.protoObj.objectId}),!t)return{category:"stderr",output:u(1,null)};let r;try{r=await(0,c.previewThis)({cdp:this.cdp,args:[],objectId:t.objects.objectId,objectGroup:"console",generatePreview:!0})}catch(e){return{category:"stderr",output:u(2,null,e.message)}}const n="[32mobjects: "+(0,a.previewRemoteObject)(r,"repl")+"[0m";return{category:"stdout",output:"",variablesReference:e.replVariables.createVariableForOutput(n,[r]).id}}}},70132:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReservationQueue=void 0;const n=r(44936);t.ReservationQueue=class{constructor(e){this.sink=e,this.q=[],this.disposed=!1,this.onDrainedEmitter=new n.EventEmitter,this.onDrained=this.onDrainedEmitter.event}get length(){return this.q.length}enqueue(e){this.disposed||(this.q.push(new a(e)),1===this.q.length&&this.process())}dispose(){this.disposed=!0,this.q=[]}async process(){const e=this.q.findIndex((e=>e.value===o));0===e?await this.q[0].wait:-1===e?(this.sink(i(this.q)),this.q=[]):(this.sink(i(this.q.slice(0,e))),this.q=this.q.slice(e)),this.q.length?this.process():this.onDrainedEmitter.fire()}};const i=e=>e.map((e=>e.value)).filter((e=>e!==s)),o=Symbol("unsettled"),s=Symbol("unsettled");class a{constructor(e){this.value=o,e instanceof Promise?this.wait=e.then((e=>{this.value=e}),(()=>{this.value=s})):(this.value=e,this.wait=Promise.resolve())}}},79380:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TableMessage=t.StartGroupMessage=t.ErrorMessage=t.WarningMessage=t.TraceMessage=t.LogMessage=t.AssertMessage=t.TextualMessage=void 0;const s=o(r(33463)),a=r(7678),c=r(16865),u=r(25901),l=r(28951),p=r(35219),d=s.loadMessageBundle(r(71017).join(__dirname,"adapter\\console\\textualMessage.js"));class h{constructor(e){this.event=e,this.stackTrace=(0,a.once)((e=>this.event.stackTrace?p.StackTrace.fromRuntime(e,this.event.stackTrace):void 0)),this.getUiLocation=(0,a.once)((async e=>{const t=this.stackTrace(e);if(!t)return;let r;for(const e of t.frames){if(!(e instanceof p.StackFrame))continue;const t=await e.uiLocation();if(t&&(r||(r=t),!t.source.blackboxed()))return{source:await t.source.toDap(),line:t.lineNumber,column:t.columnNumber}}return r?{source:await r.source.toDap(),line:r.lineNumber,column:r.columnNumber}:void 0}))}formatDefaultString(e,t,r=!1){const n=t.length>1&&"string"===t[0].type?(0,u.formatMessage)(t[0].value,t.slice(1),l.messageFormatters):(0,u.formatMessage)("",t,l.messageFormatters),i=n.result+"\n";return n.usedAllSubs&&!t.some(l.previewAsObject)?{output:i}:this.formatComplexStringOutput(e,i,t,r)}async formatComplexStringOutput(e,t,r,n){return(r.some((e=>"error"===e.subtype))||c.StackTraceParser.isStackLike(t))&&(await this.getUiLocation(e),t=await e.replacePathsInStackTrace(t)),{output:"",variablesReference:e.replVariables.createVariableForOutput(t,r,n?this.stackTrace(e):void 0).id}}}t.TextualMessage=h,t.AssertMessage=class extends h{async toDap(e){var t;return"console.assert"===(null===(t=this.event.args[0])||void 0===t?void 0:t.value)&&(this.event.args[0].value=d(0,null)),{category:"stderr",...await this.formatDefaultString(e,this.event.args,!0),...await this.getUiLocation(e)}}};class f extends h{constructor(e,t,r){super(e),this.includeStack=t,this.category=r}async toDap(e){return{category:this.category,...await this.formatDefaultString(e,this.event.args,this.includeStack),...await this.getUiLocation(e)}}}t.LogMessage=class extends f{constructor(e){super(e,!1,"stdout")}},t.TraceMessage=class extends f{constructor(e){super(e,!0,"stdout")}},t.WarningMessage=class extends f{constructor(e){super(e,!0,"stderr")}},t.ErrorMessage=class extends f{constructor(e){super(e,!0,"stderr")}},t.StartGroupMessage=class extends h{async toDap(e){return{category:"stdout",group:"startGroupCollapsed"===this.event.type?"startCollapsed":"start",...await this.formatDefaultString(e,this.event.args),...await this.getUiLocation(e)}}},t.TableMessage=class extends f{constructor(e){super(e,!1,"stdout")}async toDap(e){var t;return(null===(t=this.event.args[0])||void 0===t?void 0:t.preview)?{category:"stdout",output:"",variablesReference:e.replVariables.createVariableForOutput("",this.event.args,void 0,this.event.type).id,...await this.getUiLocation(e)}:super.toDap(e)}}},4348:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.customBreakpoints=void 0;const s=o(r(33463)),a=new Map;function c(){if(a.size)return a;const e=s.loadMessageBundle(r(71017).join(__dirname,"adapter\\customBreakpoints.js"));function t(e,t){for(const r of t)r.group=e,a.set(r.id,r)}function n(t,r){const n=r||t;return{id:"instrumentation:"+t,title:n,group:"",details:r=>{if("webglErrorFired"===t){let t=r.webglErrorName;return t=t.replace(/^.*(0x[0-9a-f]+).*$/i,"$1"),{short:e(0,null,t),long:e(1,null,t)}}return"scriptBlockedByCSP"===t&&r.directiveText?{short:e(2,null,r.directiveText),long:e(3,null,r.directiveText)}:{short:n,long:e(4,null,n)}},apply:async(e,r)=>r?!!await e.DOMDebugger.setInstrumentationBreakpoint({eventName:t}):!!await e.DOMDebugger.removeInstrumentationBreakpoint({eventName:t})}}function i(t,r,n){const i=void 0===r?"*":"string"==typeof r?[r]:r;return{id:"listener:"+t,title:n||t,group:"",details:r=>{const n=(r.targetName||"*").toLowerCase();return{short:n+"."+t,long:e(5,null,t,n)}},apply:async(e,r)=>{let n=!0;for(const o of i)n=r?n&&!!await e.DOMDebugger.setEventListenerBreakpoint({eventName:t,targetName:o}):n&&!!await e.DOMDebugger.removeEventListenerBreakpoint({eventName:t,targetName:o});return n}}}t("Animation",[n("requestAnimationFrame",e(6,null)),n("cancelAnimationFrame",e(7,null)),n("requestAnimationFrame.callback",e(8,null))]),t("Canvas",[n("canvasContextCreated",e(9,null)),n("webglErrorFired",e(10,null)),n("webglWarningFired",e(11,null))]),t("Script",[n("scriptFirstStatement",e(12,null)),n("scriptBlockedByCSP",e(13,null))]),t("Geolocation",[n("Geolocation.getCurrentPosition","getCurrentPosition"),n("Geolocation.watchPosition","watchPosition")]),t("Notification",[n("Notification.requestPermission","requestPermission")]),t("Parse",[n("Element.setInnerHTML",e(14,null)),n("Document.write","document.write")]),t("Timer",[n("setTimeout"),n("clearTimeout"),n("setInterval"),n("clearInterval"),n("setTimeout.callback",e(15,null)),n("setInterval.callback",e(16,null))]),t("Window",[n("DOMWindow.close","window.close")]),t("WebAudio",[n("audioContextCreated",e(17,null)),n("audioContextClosed",e(18,null)),n("audioContextResumed",e(19,null)),n("audioContextSuspended",e(20,null))]);const o=["audio","video"];t("Media",[i("play",o),i("pause",o),i("playing",o),i("canplay",o),i("canplaythrough",o),i("seeking",o),i("seeked",o),i("timeupdate",o),i("ended",o),i("ratechange",o),i("durationchange",o),i("volumechange",o),i("loadstart",o),i("progress",o),i("suspend",o),i("abort",o),i("error",o),i("emptied",o),i("stalled",o),i("loadedmetadata",o),i("loadeddata",o),i("waiting",o)]),t("Picture-in-Picture",[i("enterpictureinpicture","video"),i("leavepictureinpicture","video"),i("resize","PictureInPictureWindow")]),t("Clipboard",[i("copy"),i("cut"),i("paste"),i("beforecopy"),i("beforecut"),i("beforepaste")]),t("Control",[i("resize"),i("scroll"),i("zoom"),i("focus"),i("blur"),i("select"),i("change"),i("submit"),i("reset")]),t("Device",[i("deviceorientation"),i("devicemotion")]),t("DOM Mutation",[i("DOMActivate"),i("DOMFocusIn"),i("DOMFocusOut"),i("DOMAttrModified"),i("DOMCharacterDataModified"),i("DOMNodeInserted"),i("DOMNodeInsertedIntoDocument"),i("DOMNodeRemoved"),i("DOMNodeRemovedFromDocument"),i("DOMSubtreeModified"),i("DOMContentLoaded")]),t("Drag / drop",[i("drag"),i("dragstart"),i("dragend"),i("dragenter"),i("dragover"),i("dragleave"),i("drop")]),t("Keyboard",[i("keydown"),i("keyup"),i("keypress"),i("input")]),t("Load",[i("load"),i("beforeunload"),i("unload"),i("abort"),i("error"),i("hashchange"),i("popstate")]),t("Mouse",[i("auxclick"),i("click"),i("dblclick"),i("mousedown"),i("mouseup"),i("mouseover"),i("mousemove"),i("mouseout"),i("mouseenter"),i("mouseleave"),i("mousewheel"),i("wheel"),i("contextmenu")]),t("Pointer",[i("pointerover"),i("pointerout"),i("pointerenter"),i("pointerleave"),i("pointerdown"),i("pointerup"),i("pointermove"),i("pointercancel"),i("gotpointercapture"),i("lostpointercapture")]),t("Touch",[i("touchstart"),i("touchmove"),i("touchend"),i("touchcancel")]),t("Worker",[i("message"),i("messageerror")]);const c=["xmlhttprequest","xmlhttprequestupload"];return t("XHR",[i("readystatechange",c),i("load",c),i("loadstart",c),i("loadend",c),i("abort",c),i("error",c),i("progress",c),i("timeout",c)]),a}t.customBreakpoints=c,t.default=c},4846:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DebugAdapter=void 0;const s=o(r(33463)),a=r(5376),c=r(15501),u=r(78986),l=r(34285),p=o(r(33763)),d=o(r(97208)),h=o(r(44413)),f=r(1032),m=r(99010),g=r(43224),y=r(31939),b=r(75951),v=r(51695),w=r(54216),_=r(64966),S=r(68164),k=r(45997),P=r(92249),x=r(80935),C=r(23200),E=r(58269),D=r(46989),O=r(67523),A=r(44873),M=r(39226),T=s.loadMessageBundle(r(71017).join(__dirname,"adapter\\debugAdapter.js"));class j{constructor(e,t,r,n){this.asyncStackPolicy=t,this.launchConfig=r,this._services=n,this._disposables=new a.DisposableList,this._customBreakpoints=new Set,this._threadDeferred=(0,u.getDeferred)(),this.lastBreakpointId=0,this._cdpProxyProvider=this._services.get(b.ICdpProxyProvider),this._configurationDoneDeferred=(0,u.getDeferred)(),this.sourceContainer=n.get(A.SourceContainer),this.breakpointManager=n.get(y.BreakpointManager);const i=n.get(x.IPerformanceProvider),o=n.get(g.ITelemetryReporter);o.onFlush((()=>{o.report("breakpointStats",this.breakpointManager.statisticsForTelemetry()),o.report("statistics",this.sourceContainer.statistics())})),this.dap=e,this.dap.on("initialize",(e=>this._onInitialize(e))),this.dap.on("setBreakpoints",(e=>this._onSetBreakpoints(e))),this.dap.on("setExceptionBreakpoints",(e=>this.setExceptionBreakpoints(e))),this.dap.on("configurationDone",(()=>this.configurationDone())),this.dap.on("loadedSources",(()=>this._onLoadedSources())),this.dap.on("disableSourcemap",(e=>this._onDisableSourcemap(e))),this.dap.on("source",(e=>this._onSource(e))),this.dap.on("threads",(()=>this._onThreads())),this.dap.on("stackTrace",(e=>this._withThread((t=>t.stackTrace(e))))),this.dap.on("variables",(e=>this._onVariables(e))),this.dap.on("readMemory",(e=>this._onReadMemory(e))),this.dap.on("writeMemory",(e=>this._onWriteMemory(e))),this.dap.on("setVariable",(e=>this._onSetVariable(e))),this.dap.on("setExpression",(e=>this._onSetExpression(e))),this.dap.on("continue",(()=>this._withThread((e=>e.resume())))),this.dap.on("pause",(()=>this._withThread((e=>e.pause())))),this.dap.on("next",(()=>this._withThread((e=>e.stepOver())))),this.dap.on("stepIn",(()=>this._withThread((e=>e.stepInto())))),this.dap.on("stepOut",(()=>this._withThread((e=>e.stepOut())))),this.dap.on("restartFrame",(e=>this._withThread((t=>t.restartFrame(e))))),this.dap.on("scopes",(e=>this._withThread((t=>t.scopes(e))))),this.dap.on("evaluate",(e=>this.onEvaluate(e))),this.dap.on("completions",(e=>this._withThread((t=>t.completions(e))))),this.dap.on("exceptionInfo",(()=>this._withThread((e=>e.exceptionInfo())))),this.dap.on("enableCustomBreakpoints",(e=>this.enableCustomBreakpoints(e))),this.dap.on("toggleSkipFileStatus",(e=>this._toggleSkipFileStatus(e))),this.dap.on("disableCustomBreakpoints",(e=>this._disableCustomBreakpoints(e))),this.dap.on("prettyPrintSource",(e=>this._prettyPrintSource(e))),this.dap.on("revealPage",(()=>this._withThread((e=>e.revealPage())))),this.dap.on("getPerformance",(()=>this._withThread((e=>i.retrieve(e.cdp()))))),this.dap.on("breakpointLocations",(e=>this._withThread((async t=>({breakpoints:await this.breakpointManager.getBreakpointLocations(t,e)}))))),this.dap.on("createDiagnostics",(e=>this._dumpDiagnostics(e))),this.dap.on("requestCDPProxy",(()=>this._requestCDPProxy())),this.dap.on("setExcludedCallers",(e=>this._onSetExcludedCallers(e))),this.dap.on("saveDiagnosticLogs",(({toFile:e})=>this._saveDiagnosticLogs(e)))}async _saveDiagnosticLogs(e){const t=this._services.get(c.ILogger).getRecentLogs();return await this._services.get(m.FS).writeFile(e,t.map((e=>JSON.stringify(e))).join("\n")),{}}async launchBlocker(){await this._configurationDoneDeferred.promise,await this._services.get(P.IExceptionPauseService).launchBlocker,await this.breakpointManager.launchBlocker()}async _onSetExcludedCallers({callers:e}){return(await this._threadDeferred.promise).setExcludedCallers(e),{}}async _onInitialize(e){console.assert(e.linesStartAt1),console.assert(e.columnsStartAt1);const t=j.capabilities();return setTimeout((()=>this.dap.initialized({})),0),setTimeout((()=>{var e;return null===(e=this._thread)||void 0===e?void 0:e.dapInitialized()}),0),t}static capabilities(){return{supportsConfigurationDoneRequest:!0,supportsFunctionBreakpoints:!1,supportsConditionalBreakpoints:!0,supportsHitConditionalBreakpoints:!0,supportsEvaluateForHovers:!0,supportsReadMemoryRequest:!0,supportsWriteMemoryRequest:!0,exceptionBreakpointFilters:[{filter:"all",label:T(0,null),default:!1,supportsCondition:!0,description:T(1,null),conditionDescription:'error.name == "MyError"'},{filter:"uncaught",label:T(2,null),default:!1,supportsCondition:!0,description:T(3,null),conditionDescription:'error.name == "MyError"'}],supportsStepBack:!1,supportsSetVariable:!0,supportsRestartFrame:!0,supportsGotoTargetsRequest:!1,supportsStepInTargetsRequest:!1,supportsCompletionsRequest:!0,supportsModulesRequest:!1,additionalModuleColumns:[],supportedChecksumAlgorithms:[],supportsRestartRequest:!0,supportsExceptionOptions:!1,supportsValueFormattingOptions:!0,supportsExceptionInfoRequest:!0,supportTerminateDebuggee:!1,supportsDelayedStackTraceLoading:!0,supportsLoadedSourcesRequest:!0,supportsLogPoints:!0,supportsTerminateThreadsRequest:!1,supportsSetExpression:!0,supportsTerminateRequest:!1,completionTriggerCharacters:[".","[",'"',"'"],supportsBreakpointLocationsRequest:!0,supportsClipboardContext:!0,supportsExceptionFilterOptions:!0}}async _onSetBreakpoints(e){var t,r;return this.breakpointManager.setBreakpoints(e,null!==(r=null===(t=e.breakpoints)||void 0===t?void 0:t.map((()=>++this.lastBreakpointId)))&&void 0!==r?r:[])}async setExceptionBreakpoints(e){return await this._services.get(P.IExceptionPauseService).setBreakpoints(e),{}}async configurationDone(){return this._configurationDoneDeferred.resolve(),{}}async _onLoadedSources(){return{sources:await this.sourceContainer.loadedSources()}}async _onDisableSourcemap(e){var t;const r=this.sourceContainer.source(e.source);if(!r)return h.createSilentError(T(4,null));if(!(r instanceof A.SourceFromMap))return h.createSilentError(T(5,null));for(const e of r.compiledToSourceUrl.keys())this.sourceContainer.disableSourceMapForSource(e,!0);return await(null===(t=this._thread)||void 0===t?void 0:t.refreshStackTrace()),{}}async _onSource(e){e.source||(e.source={sourceReference:e.sourceReference}),e.source.path=d.platformPathToPreferredCase(e.source.path);const t=this.sourceContainer.source(e.source);if(!t)return h.createSilentError(T(6,null));const r=await t.content();return void 0===r?(t instanceof A.SourceFromMap&&this.dap.suggestDisableSourcemap({source:e.source}),h.createSilentError(T(7,null))):{content:r,mimeType:t.mimeType()}}async _onThreads(){const e=[];return this._thread&&e.push({id:this._thread.id,name:this._thread.name()}),{threads:e}}findVariableStore(e){if(!this._thread)return;const t=this._thread.pausedVariables();return t&&e(t)?t:e(this._thread.replVariables)?this._thread.replVariables:void 0}async _onVariables(e){var t;const r=this.findVariableStore((t=>t.hasVariable(e.variablesReference)));return{variables:null!==(t=await(null==r?void 0:r.getVariables(e)))&&void 0!==t?t:[]}}async _onReadMemory(e){var t,r;const n=e.memoryReference,i=await(null===(t=this.findVariableStore((e=>e.hasMemory(n))))||void 0===t?void 0:t.readMemory(n,null!==(r=e.offset)&&void 0!==r?r:0,e.count));return i?{address:"0",data:i.toString("base64"),unreadableBytes:e.count-i.length}:{address:"0",unreadableBytes:e.count}}async _onWriteMemory(e){var t,r;const n=e.memoryReference;return{bytesWritten:await(null===(t=this.findVariableStore((e=>e.hasMemory(n))))||void 0===t?void 0:t.writeMemory(n,null!==(r=e.offset)&&void 0!==r?r:0,Buffer.from(e.data,"base64")))}}async _onSetExpression(e){if(!this._thread)throw new f.ProtocolError(h.threadNotAvailable());const{result:t,...r}=await this._thread.evaluate({expression:`${e.expression} = ${p.wrapObjectLiteral(e.value)}`,context:"repl",frameId:e.frameId});return{value:t,...r}}async _onSetVariable(e){const t=this.findVariableStore((t=>t.hasVariable(e.variablesReference)));return t?(e.value=p.wrapObjectLiteral(e.value.trim()),t.setVariable(e)):h.createSilentError(T(8,null))}_withThread(e){if(!this._thread)throw new f.ProtocolError(h.threadNotAvailable());return e(this._thread)}async _refreshStackTrace(){this._thread&&this._thread.pausedDetails()&&await this._thread.refreshStackTrace()}createThread(e,t){this._thread=new M.Thread(this.sourceContainer,e,this.dap,t,this._services.get(l.IRenameProvider),this._services.get(c.ILogger),this._services.get(k.IEvaluator),this._services.get(v.ICompletions),this.launchConfig,this.breakpointManager,this._services.get(w.IConsole),this._services.get(P.IExceptionPauseService),this._services.get(O.SmartStepper));const r=this._services.get(C.IProfileController);r.connect(this.dap,this._thread),"profileStartup"in this.launchConfig&&this.launchConfig.profileStartup&&r.start(this.dap,this._thread,{type:E.BasicCpuProfiler.type});for(const e of this._customBreakpoints)this._thread.updateCustomBreakpoint(e,!0);return this.asyncStackPolicy.connect(e).then((e=>this._disposables.push(e))).catch((e=>this._services.get(c.ILogger).error("internal","Error enabling async stacks",e))),this.breakpointManager.setThread(this._thread),this._services.get(S.DiagnosticToolSuggester).attach(e),this._threadDeferred.resolve(this._thread),this._thread}async enableCustomBreakpoints(e){const t=[];for(const r of e.ids)this._customBreakpoints.add(r),this._thread&&t.push(this._thread.updateCustomBreakpoint(r,!0));return await Promise.all(t),{}}async _disableCustomBreakpoints(e){const t=[];for(const r of e.ids)this._customBreakpoints.delete(r),this._thread&&t.push(this._thread.updateCustomBreakpoint(r,!1));return await Promise.all(t),{}}async _toggleSkipFileStatus(e){return await this._services.get(D.IScriptSkipper).toggleSkippingFile(e),await this._refreshStackTrace(),{}}async _prettyPrintSource(e){if(!e.source)return{canPrettyPrint:!1};e.source.path=d.platformPathToPreferredCase(e.source.path);const t=this.sourceContainer.source(e.source);if(!t)return h.createSilentError(T(9,null));const r=await t.prettyPrint();if(!r)return h.createSilentError(T(10,null));const{map:n,source:i}=r;return this.breakpointManager.moveBreakpoints(t,n,i),this.sourceContainer.clearDisabledSourceMaps(t),await this._refreshStackTrace(),{}}onEvaluate(e){return".scripts"===e.expression?this._dumpDiagnostics({fromSuggestion:!1}).then(this.dap.openDiagnosticTool).then((()=>({result:"Opening diagnostic tool...",variablesReference:0}))):this._withThread((t=>t.evaluate(e)))}async _dumpDiagnostics(e){const t={file:await this._services.get(_.Diagnostics).generateHtml()};return e.fromSuggestion&&this._services.get(g.ITelemetryReporter).report("diagnosticPrompt",{event:"opened"}),t}async _requestCDPProxy(){return await this._cdpProxyProvider.proxy()}dispose(){this._disposables.dispose(),(0,m.disposeContainer)(this._services)}}t.DebugAdapter=j},64966:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Diagnostics=void 0;const o=r(55053),s=r(22037),a=r(71017),c=r(7678),u=r(17014),l=r(99010),p=r(50036),d=r(31939),h=r(44873);let f=class{constructor(e,t,r,n){this.fs=e,this.sources=t,this.breakpoints=r,this.target=n}async generateObject(){const[e]=await Promise.all([this.dumpSources()]);return{breakpoints:this.dumpBreakpoints(),sources:e,config:this.target.launchConfig}}async generateHtml(e=(0,a.join)((0,s.tmpdir)(),"js-debug-diagnostics.html")){return await this.fs.writeFile(e,`<!DOCTYPE html>\n      <html lang="en">\n      <head>\n        <meta charset="UTF-8">\n        <meta name="viewport" content="width=device-width, initial-scale=1.0">\n        <title>Document</title>\n      </head>\n      <body>\n        <script>window.DUMP=${JSON.stringify(await this.generateObject())}<\/script>\n        <script>${await this.fs.readFile(u.toolPath,"utf-8")}<\/script>\n      </body>\n      </html>`),e}dumpBreakpoints(){const e=[];for(const t of[this.breakpoints.appliedByPath,this.breakpoints.appliedByRef])for(const r of t.values())for(const t of r){const r=t.diagnosticDump();e.push({source:r.source,params:r.params,cdp:r.cdp.map((e=>1===e.state?{...e,uiLocations:e.uiLocations.map((e=>this.dumpUiLocation(e)))}:{...e,done:void 0}))})}return e}dumpSources(){const e=[];let t=0;for(const r of this.sources.sources)e.push((async()=>({uniqueId:t++,url:r.url,sourceReference:r.sourceReference,absolutePath:r.absolutePath,actualAbsolutePath:await r.existingAbsolutePath(),scriptIds:r.scriptIds(),prettyName:await r.prettyName(),compiledSourceRefToUrl:r instanceof h.SourceFromMap?[...r.compiledToSourceUrl.entries()].map((([e,t])=>[e.sourceReference,t])):void 0,sourceMap:r.sourceMap&&{url:r.sourceMap.url,metadata:r.sourceMap.metadata,sources:(0,c.mapValues)(Object.fromEntries(r.sourceMap.sourceByUrl),(e=>e.sourceReference))}}))());return Promise.all(e)}dumpUiLocation(e){return{lineNumber:e.lineNumber,columnNumber:e.columnNumber,sourceReference:e.source.sourceReference}}};f=n([(0,o.injectable)(),i(0,(0,o.inject)(l.FS)),i(1,(0,o.inject)(h.SourceContainer)),i(2,(0,o.inject)(d.BreakpointManager)),i(3,(0,o.inject)(p.ITarget))],f),t.Diagnostics=f},68164:function(e,t,r){"use strict";var n,i=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticToolSuggester=void 0;const s=r(55053),a=r(5376),c=r(44936),u=r(78986),l=r(58116),p=r(78563),d=r(43224),h=/\/node_modules\/|^node\:/;let f=n=class{constructor(e,t,r){this.telemetry=t,this.experimentation=r,this.disposable=new a.DisposableList,this.hadBreakpoint=!1,this.didVerifyBreakpoint=!1,this.hadNonModuleSourcemap=!1,this.startedAt=Date.now(),this.disposable.push(n.didVerifyEmitter.event((()=>{this.didVerifyBreakpoint=!0}))),n.consecutiveQualifyingSessions>=2&&this.disposable.push((0,u.disposableTimeout)((async()=>{this.currentlyQualifying&&await this.experimentation.getTreatment("diagnosticPrompt",!0)&&(t.report("diagnosticPrompt",{event:"suggested"}),n.didSuggest=!0,e.suggestDiagnosticTool({}))}),5e3))}get currentlyQualifying(){return this.hadBreakpoint&&!this.didVerifyBreakpoint&&this.hadNonModuleSourcemap}notifyHadBreakpoint(){this.hadBreakpoint=!0}notifyVerifiedBreakpoint(){this.didVerifyBreakpoint||(n.didVerifyEmitter.fire(),n.didSuggest&&(n.didSuggest=!1,this.telemetry.report("diagnosticPrompt",{event:"resolved"})))}attach(e){if(!this.hadNonModuleSourcemap){const t=this.disposable.push(e.Debugger.on("scriptParsed",(e=>{e.sourceMapURL&&!h.test(e.url)&&(this.hadNonModuleSourcemap=!0,this.disposable.disposeObject(t))})))}}dispose(){this.currentlyQualifying&&Date.now()-2500>this.startedAt?n.consecutiveQualifyingSessions++:n.consecutiveQualifyingSessions=0,this.disposable.dispose()}};f.consecutiveQualifyingSessions=0,f.didVerifyEmitter=new c.EventEmitter,f.didSuggest=!1,f=n=i([(0,s.injectable)(),o(0,(0,s.inject)(l.IRootDapApi)),o(1,(0,s.inject)(d.ITelemetryReporter)),o(2,(0,s.inject)(p.IExperimentationService))],f),t.DiagnosticToolSuggester=f},45997:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Evaluator=t.IEvaluator=t.returnValueStr=void 0;const o=r(26487),s=r(6113),a=r(38347),c=r(55053),u=r(63216),l=r(72223),p=r(34285),d=r(33763),h=r(56102);t.returnValueStr="$returnValue";const f=()=>"__js_debug_hoisted_"+(0,s.randomBytes)(8).toString("hex");t.IEvaluator=Symbol("IEvaluator");let m=class{constructor(e,t){this.cdp=e,this.renameProvider=t}get hasReturnValue(){return!!this.returnValue}setReturnedValue(e){this.returnValue=e}prepare(e,{isInternalScript:r,hoist:n,renames:i}={}){!1!==r&&(e+=(0,h.getSourceSuffix)());const o=new Map;o.set(t.returnValueStr,f());for(const e of null!=n?n:[])o.set(e,f());const{transformed:s,hoisted:a}=this.replaceVariableInExpression(e,o,i);return a.size?{canEvaluateDirectly:!1,invoke:(e,r={})=>Promise.all([...o].map((([e,n])=>this.hoistValue(e===t.returnValueStr?this.returnValue:r[e],n)))).then((()=>this.cdp.Debugger.evaluateOnCallFrame({...e,expression:s})))}:{canEvaluateDirectly:!0,invoke:e=>this.cdp.Debugger.evaluateOnCallFrame({...e,expression:s})}}async evaluate(e,t){if(!("callFrameId"in e))return this.cdp.Runtime.evaluate(e);let r=t;if(null==t?void 0:t.stackFrame){const e=await this.renameProvider.provideOnStackframe(t.stackFrame);r={...r,renames:{mapping:e,position:t.stackFrame.rawPosition}}}return this.prepare(e.expression,r).invoke(e)}async hoistValue(e,t){const r=null==e?void 0:e.objectId,n=`setTimeout(() => { delete globalThis.${t} }, 0)`;r?await this.cdp.Runtime.callFunctionOn({objectId:r,functionDeclaration:`function() { globalThis.${t} = this; ${n}; ${(0,h.getSourceSuffix)()} }`}):await this.cdp.Runtime.evaluate({expression:`globalThis.${t} = ${JSON.stringify(null==e?void 0:e.value)};${n};`+(0,h.getSourceSuffix)()})}replaceVariableInExpression(e,t,r){const n=new Set;let i=!1;const s=(e,t)=>({type:"ConditionalExpression",test:{type:"BinaryExpression",left:{type:"UnaryExpression",operator:"typeof",prefix:!0,argument:{type:"Identifier",name:e}},operator:"!==",right:{type:"Literal",value:"undefined"}},consequent:{type:"Identifier",name:e},alternate:t}),c=[],u=(0,a.replace)((0,l.parseProgram)(e),{enter(o,a){const c=o;if("Identifier"!==o.type||"."===e[c.start-1])return;const u=t.get(o.name);if(u)return n.add(o.name),i=!0,this.skip(),(0,d.isInPatternSlot)(o,a)?{type:"Identifier",name:u}:s(u,g);const l=null==r?void 0:r.mapping.getCompiledName(o.name,r.position);return l?(i=!0,this.skip(),(0,d.isInPatternSlot)(o,a)?{type:"Identifier",name:l}:s(l,o)):void 0},leave:()=>{c.pop()}});return{hoisted:n,transformed:i?(0,o.generate)(u):e}}};m=n([(0,c.injectable)(),i(0,(0,c.inject)(u.ICdpApi)),i(1,(0,c.inject)(p.IRenameProvider))],m),t.Evaluator=m;const g={type:"Identifier",name:"undefined"}},92249:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExceptionPauseService=t.IExceptionPauseService=void 0;const o=r(55053),s=r(7678),a=r(78986),c=r(33763),u=r(73454),l=r(58116),p=r(44413),d=r(1032),h=r(41222),f=r(45997),m=r(46989),g=r(44873);t.IExceptionPauseService=Symbol("IExceptionPauseService");let y=class{constructor(e,t,r,n,i){this.evaluator=e,this.scriptSkipper=t,this.dap=r,this.sourceContainer=i,this.state={cdp:"none"},this.blocker=(0,a.getDeferred)(),this.noDebug=!!n.noDebug,this.breakOnError=n.__breakOnConditionalError,this.blocker.resolve()}get launchBlocker(){return this.blocker.promise}async setBreakpoints(e){if(!this.noDebug){try{this.state=this.parseBreakpointRequest(e)}catch(e){if(!(e instanceof d.ProtocolError))throw e;return void this.dap.output({category:"stderr",output:e.message})}this.cdp?await this.sendToCdp(this.cdp):"none"!==this.state.cdp&&this.blocker.hasSettled()&&(this.blocker=(0,a.getDeferred)())}}async shouldPauseAt(e){var t;if("exception"!==e.reason&&"promiseRejection"!==e.reason||"none"===this.state.cdp)return!1;if(this.shouldScriptSkip(e))return!1;const r=this.state.condition;if(null===(t=e.data)||void 0===t?void 0:t.uncaught){if(r.uncaught&&!await this.evalCondition(e,r.uncaught))return!1}else if(r.caught&&!await this.evalCondition(e,r.caught))return!1;return!0}async apply(e){this.cdp=e,"none"!==this.state.cdp&&await this.sendToCdp(e)}async sendToCdp(e){await e.Debugger.setPauseOnExceptions({state:this.state.cdp}),this.blocker.resolve()}async evalCondition(e,t){const r=await t({callFrameId:e.callFrames[0].callFrameId},{error:e.data});return!!(null==r?void 0:r.result.value)}shouldScriptSkip(e){var t;if((null===(t=e.data)||void 0===t?void 0:t.uncaught)||!e.callFrames.length)return!1;const r=this.sourceContainer.getScriptById(e.callFrames[0].location.scriptId);return!!r&&this.scriptSkipper.isScriptSkipped(r.url)}parseBreakpointRequest(e){var t;const r=(null!==(t=e.filterOptions)&&void 0!==t?t:[]).concat(e.filters.map((e=>({filterId:e}))));let n="none";const i=[],o=[];for(const{filterId:e,condition:t}of r)"all"===e?(n="all",t&&i.push(e)):"uncaught"===e&&("none"===n&&(n="uncaught"),t&&o.push(e));const a=e=>{if(0===e.length)return;const t="!!("+r.map((e=>e.condition)).filter(s.truthy).join(") || !!(")+")",n=(0,c.getSyntaxErrorIn)(t);if(n)throw new d.ProtocolError((0,p.invalidBreakPointCondition)({line:0,condition:t},n.message));const i=this.breakOnError?(0,h.wrapBreakCondition)(t):t;return this.evaluator.prepare(i,{hoist:["error"]}).invoke};return"none"===n?{cdp:n}:{cdp:n,condition:{caught:a(i),uncaught:a(o)}}}};y=n([(0,o.injectable)(),i(0,(0,o.inject)(f.IEvaluator)),i(1,(0,o.inject)(m.IScriptSkipper)),i(2,(0,o.inject)(l.IDapApi)),i(3,(0,o.inject)(u.AnyLaunchConfiguration)),i(4,(0,o.inject)(g.SourceContainer))],y),t.ExceptionPauseService=y},25901:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.formatCssAsAnsi=t.formatMessage=void 0;const i=n(r(32438)),o=r(22969);function s(e){try{return new i.default(e).ansi256().object().ansi256}catch(e){}}t.formatMessage=function(e,t,r){const n=function(e,t){if(!e.includes("%"))return[{type:"string",value:e}];const r=[];function n(e){if(!e)return;const t=r[r.length-1];"string"===(null==t?void 0:t.type)?t.value+=e:r.push({type:"string",value:e})}function i(e,t,n){r.push({type:"specifier",specifier:e,precision:t,substitutionIndex:n})}let o=0,s=0;const a=new RegExp(`%%|%(?:(\\d+)\\$)?(?:\\.(\\d*))?([${t.join("")}])`,"g");for(let t=a.exec(e);t;t=a.exec(e)){const r=t.index;if(r>o&&n(e.substring(o,r)),"%%"===t[0])n("%");else{const[,e,r,n]=t;e&&Number(e)>0&&(s=Number(e)-1),i(n,r?Number(r):void 0,s),++s}o=r+t[0].length}return n(e.substring(o)),r}(e,Array.from(r.keys())),i=new Set,s=r.get("");if(!s)throw new Error("Expected to hav a default formatter");const a=new o.BudgetStringBuilder(1e4);let c=!1;for(let e=0;a.checkBudget()&&e<n.length;++e){const o=n[e];if("string"===o.type){a.append(o.value);continue}const u=o.substitutionIndex;if(u>=t.length){a.append("%"+(o.precision||"")+o.specifier);continue}i.add(u),"c"===o.specifier&&(c=!0);const l=r.get(o.specifier)||s;a.append(l(t[u],{budget:a.budget(),quoted:!1}))}c&&a.append("[0m");for(let r=0;a.checkBudget()&&r<t.length;++r)i.has(r)||(i.add(r),(e||r)&&a.append(" "),a.append(s(t[r],{budget:a.budget(),quoted:!1})));return{result:a.build(),usedAllSubs:i.size===t.length}},t.formatCssAsAnsi=function(e){const t=/\s*(.*?)\s*:\s*(.*?)\s*(?:;|$)/g;let r="[0m",n=t.exec(e);for(;null!==n;){if(3===n.length)switch(n[1]){case"color":const e=s(n[2]);e&&(r+=`[38;5;${e}m`);break;case"background":case"background-color":const t=s(n[2]);t&&(r+=`[48;5;${t}m`);break;case"font-weight":"bold"===n[2]&&(r+="[1m");break;case"font-style":"italic"===n[2]&&(r+="[3m");break;case"text-decoration":"underline"===n[2]&&(r+="[4m")}n=t.exec(e)}return r}},68382:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getContextForType=void 0;const r=e=>e.replace(/\\/gm,"\\\\").replace(/\n/gm,"\\n").replace(/\r/gm,"\\r").replace(/\t/gm,"\\t"),n={budget:1e5,quoted:!0},i={budget:1e3,quoted:!0,postProcess:r},o={budget:1/0,quoted:!1},s={budget:1e3,quoted:!0,postProcess:r},a={budget:100,quoted:!0};t.getContextForType=e=>{switch(e){case"repl":return n;case"hover":case"propertyValue":return i;case"watch":return s;case"copy":case"clipboard":return o;default:return a}}},28951:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.messageFormatters=t.formatAsTable=t.previewException=t.internalPropertyWeight=t.privatePropertyWeight=t.propertyWeight=t.previewRemoteObject=t.isArray=t.previewAsObject=t.subtypesWithoutPreview=void 0;const s=r(22969),a=o(r(36268)),c=o(r(25901)),u=r(68382);function l(e){return"function"===e.type||"object"===e.type&&!t.subtypesWithoutPreview.has(e.subtype)}function p(e){return"array"===e.subtype||"typedarray"===e.subtype}function d(e,t,r){return"function"===e.type?b(e.description,t.budget):"object"===e.type&&"node"===e.subtype?e.description:"preview"in e&&e.preview?h(e.preview,t.budget,r):y(e,t.budget,t.quoted,r)}function h(e,t,r){return p(e)?function(e,t){const r=new s.BudgetStringBuilder(t);let n=e.description;const i=n.match(/[^(]*\(([\d]+)\)/);if(!i)return n;const o=parseInt(i[1],10);n.startsWith("Array(")&&(n=n.substring("Array".length)),r.append(a.trimEnd(n,r.budget())),r.append(" ");const c=new s.BudgetStringBuilder(r.budget()-2,", ");let u=-1;for(const t of e.properties){if(!c.checkBudget())break;if(isNaN(t.name))continue;const e=parseInt(t.name,10);e>u+1&&c.appendEllipsis(),u=e,c.append(g(t,c.budget()))}o>u+1&&c.appendEllipsis();for(const t of e.properties){if(!c.checkBudget())break;isNaN(t.name)&&c.append(g(t,c.budget(),t.name))}return e.overflow&&c.appendEllipsis(),r.append("["+c.build()+"]"),r.build()}(e,t):"internal#entry"===e.subtype?a.trimEnd(e.description||"",t):"function"===e.type?b(e.description,t):l(e)?function(e,t,r){const n=new s.BudgetStringBuilder(t," ");"Object"!==e.description&&n.append(a.trimEnd(e.description,n.budget()));const i=new Map,o=e.properties||[];for(const e of o)i.set(e.name,e);const c=i.get("[[PrimitiveValue]]");if(c)return n.append(`(${g(c,n.budget()-2)})`),n.build();const u=i.get("[[PromiseStatus]]"),l=i.get("[[PromiseValue]]");if(u&&l)return"pending"===u.value?n.append(`{<${u.value}>}`):n.append(`{${g(l,n.budget()-2,`<${u.value}>`)}}`),n.build();const p=i.get("[[GeneratorStatus]]");if(p)return n.append(`{<${p.value}>}`),n.build();const d=new s.BudgetStringBuilder(n.budget()-2,", ");for(const e of o){if(!d.checkBudget())break;d.append(g(e,d.budget(),e.name))}for(const t of e.entries||[]){if(!d.checkBudget())break;if(t.key){const e=h(t.key,Math.min(20,d.budget()),r),n=h(t.value,Math.min(20,d.budget()-e.length-4),r);d.append(m(e," => ",n,d.budget()))}else d.append(h(t.value,Math.min(20,d.budget()),r))}e.overflow&&d.appendEllipsis();const f=d.build();return f?n.append("{"+f+"}"):n.isEmpty()&&n.append("{}"),n.build()}(e,t,r):function(e,t,r){var n;if("object"===e.type&&"null"===e.subtype)return f("null",t);if("undefined"===e.type)return f("undefined",t);if("string"===e.type){let i=null!==(n=e.description)&&void 0!==n?n:e.value;return(null==r?void 0:r.hex)&&(i=Buffer.from(i,"utf8").toString("hex")),a.trimMiddle(i,t)}return"number"===e.type||"bigint"===e.type?v(e,!1,t,r):function(e,t){return e.length>=t?e.slice(0,t-1)+"":e}(e.description||"",t)}(e,t,r)}function f(e,t){return e.length<=t?e:""}function m(e,t,r,n){return void 0===e?a.trimMiddle(r,n):e.length+t.length>n?a.trimEnd(e,n):`${e}${t}${a.trimMiddle(r,n-e.length-t.length)}`}function g(e,t,r){var n;return t=Math.min(t,100),"function"===e.type?m(r,": ","",t):"object"===e.type&&"Object"===e.value?m(r,": ","{}",t):void 0===e.value?m(r,": ",`<${e.type}>`,t):"string"===e.type?m(r,": ",`'${e.value}'`,t):m(r,": ",null!==(n=e.value)&&void 0!==n?n:"unknown",t)}function y(e,t,r,n){if("string"===e.type){let i=e.value||(e.description?e.description:"");(null==n?void 0:n.hex)&&(i=Buffer.from(i,"utf8").toString("hex"),r=!1);const o=a.trimMiddle(i,r?t-2:t);return r?`'${o}'`:o}return"undefined"===e.type?"undefined":"null"===e.subtype?"null":"bigint"===e.type||"number"===e.type?v(e,!1,t,n):e.description?a.trimEnd(e.description,Math.max(t,1e5)):a.trimEnd(String("value"in e?e.value:e.description),t)}function b(e,t){const r=new s.BudgetStringBuilder(t),n=e.replace(/^function [gs]et /,"function ").replace(/^function [gs]et\(/,"function(").replace(/^[gs]et /,""),i=n.match(/^(async\s+function)/),o=n.startsWith("function*"),a=n.startsWith("*"),c=!o&&n.startsWith("function"),u=n.startsWith("class ")||n.startsWith("class{"),l=n.indexOf("=>"),p=!i&&!o&&!c&&!u&&l>0;let d;if(u){d=n.substring("class".length);const e=/^[^{\s]+/.exec(d.trim());let t="";e&&(t=e[0].trim()||""),f("class",d,t)}else if(i)d=n.substring(i[1].length),f("async ",d,h(d));else if(o)d=n.substring("function*".length),f("*",d,h(d));else if(a)d=n.substring("*".length),f("*",d,h(d));else if(c)d=n.substring("function".length),f("",d,h(d));else if(p){let e=n;n.length>30&&(e=n.substring(0,l+2)+" {}"),f("",n,e)}else f("",n,h(n));return r.build();function h(e){const t=e.indexOf("("),r=e.match(/\)\s*{/),n=r&&r.index||0;return-1!==t&&r&&n>t?(e.substring(0,t).trim()||"")+e.substring(t,n+1):"()"}function f(e,t,n){r.checkBudget()&&(e.length&&r.append(e+" "),(t=t.trim()).endsWith(" { [native code] }")&&(t=t.substring(0,t.length-" { [native code] }".length)),r.budget()>=t.length?r.append(t):r.append(n.replace(/\n/g," ")))}}function v(e,t,r,n){if("number"===e.type){if("unserializableValue"in e)return e.unserializableValue;const t=e.value||+e.description;return(null==n?void 0:n.hex)?t.toString(16):String(t)}if("bigint"===e.type){const t=e.unserializableValue||e.description;return(null==n?void 0:n.hex)?BigInt(t.slice(0,-1)).toString(16):t}const i=e,o="number"==typeof i.value?i.value:+String(i.description);return a.trimEnd(String(t?Math.floor(o):o),r)}function w(e,t){return e.length===t?e:e.length<t?e+" ".repeat(t-e.length):a.trimEnd(e,t)}t.subtypesWithoutPreview=new Set(["null","regexp","date"]),t.previewAsObject=l,t.isArray=p,t.previewRemoteObject=function(e,t,r){var n,i;const o=(0,u.getContextForType)(t),s=d(e,o,r);return null!==(i=null===(n=o.postProcess)||void 0===n?void 0:n.call(o,s))&&void 0!==i?i:s},t.propertyWeight=function(e){return"__proto__"===e.name?0:e.name.startsWith("__")?1:100},t.privatePropertyWeight=function(e){return 20},t.internalPropertyWeight=function(e){return 10},t.previewException=function(e){var t,r;const n=e;if("object"!==n.type||"null"===n.subtype)return{title:y(n,1e4,!1,void 0)};const i=null!==(r=null!==(t=n.description)&&void 0!==t?t:n.className)&&void 0!==r?r:"Error",o=/^\s+at\s/m.exec(i);if(!o){const e=i.lastIndexOf("\n");return-1===e?{title:i}:{title:i.substring(0,e)}}return{title:i.substring(0,o.index-1),stackTrace:i.substring(o.index+2)}},t.formatAsTable=function(e){var t;const r=[],n=new Set([void 0]),i=new Map;for(const o of e.properties.filter((e=>e.valuePreview))){const e=new Map;e.set(void 0,o.name),i.set(void 0,Math.max(i.get(void 0)||0,o.name.length)),r.push(e),null===(t=o.valuePreview)||void 0===t||t.properties.map((t=>{t.value&&(n.add(t.name),e.set(t.name,t.value),i.set(t.name,Math.max(i.get(t.name)||0,t.value.length)))}))}for(const e of n.values())e&&i.set(e,Math.max(i.get(e)||0,e.length));const o=Array.from(i.values()).reduce(((e,t)=>e+t),0),s=116-3*(n.size-1);if(o>s){const e=s/o;for(const t of i.keys()){const r=Math.max(3,i.get(t)*e|0);i.set(t,r)}}const c=[];for(const e of n.values())c.push("-".repeat(i.get(e)));const u="[-"+c.join("-|-")+"-]",l=[];l.push(u.replace("[","").replace(/\|/g,"").replace("]","").replace(/-/g,""));const p=[];for(const e of n.values())p.push(w(e||"",i.get(e)));l.push(" "+p.join("  ")+" "),l.push(u.replace("[","").replace(/\|/g,"").replace("]","").replace(/-/g,""));for(const e of r){const t=[];for(const r of n.values())t.push(w(e.get(r)||"",i.get(r)));l.push(" "+t.join("  ")+" ")}return l.push(u.replace("[","").replace(/\|/g,"").replace("]","").replace(/-/g,"")),l.map((e=>a.trimEnd(e,120))).join("\n")},t.messageFormatters=new Map([["",(e,t)=>d(e,t)],["s",(e,t)=>function(e,t){return a.trimMiddle(String(void 0!==e.value?e.value:e.description),t)}(e,t.budget)],["i",(e,t)=>v(e,!0,t.budget,void 0)],["d",(e,t)=>v(e,!0,t.budget,void 0)],["f",(e,t)=>v(e,!1,t.budget,void 0)],["c",e=>c.formatCssAsAnsi(e.value)],["o",(e,t)=>d(e,t)],["O",(e,t)=>d(e,t)]])},93134:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserPerformanceProvider=void 0,t.BrowserPerformanceProvider=class{constructor(){this.didEnable=new WeakSet}async retrieve(e){this.didEnable.has(e)||(this.didEnable.add(e),await e.Performance.enable({}));const t=await e.Performance.getMetrics({});if(!t)return{error:"Error in CDP"};const r={};for(const e of t.metrics)r[e.name]=e.value;return{metrics:r}}}},80935:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PerformanceProviderFactory=t.IPerformanceProvider=void 0;const o=r(55053),s=r(50036),a=r(93134),c=r(72273);t.IPerformanceProvider=Symbol("IPerformanceProvider");let u=class{constructor(e){this.target=e}create(){return"node"===this.target.type()?new c.NodePerformanceProvider:new a.BrowserPerformanceProvider}};u=n([(0,o.injectable)(),i(0,(0,o.inject)(s.ITarget))],u),t.PerformanceProviderFactory=u},72273:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodePerformanceProvider=void 0;const n=r(56102);t.NodePerformanceProvider=class{async retrieve(e){const t=await e.Runtime.evaluate({expression:`({\n        memory: process.memoryUsage(),\n        cpu: process.cpuUsage(),\n        timestamp: Date.now(),\n        resourceUsage: process.resourceUsage && process.resourceUsage(),\n      })${(0,n.getSourceSuffix)()}`,returnByValue:!0});return t?t.exceptionDetails?{error:t.exceptionDetails.text}:{metrics:t.result.value}:{error:"No response from CDP"}}}},91183:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PortLeaseTracker=t.IPortLeaseTracker=t.acquireTrackedWebSocketServer=t.acquireTrackedServer=void 0;const c=r(55053),u=s(r(41808)),l=r(25370),p=r(44936),d=r(77551),h=r(78986),f=r(99010);t.acquireTrackedServer=async(e,t,r,n=l.NeverCancelled)=>{const i=r?await(0,d.waitForServerToListen)(u.createServer(t).listen(r,"127.0.0.1"),n):await(0,d.findOpenPort)({tester:(0,d.makeAcquireTcpServer)(t)},n),o=e.register(i.address().port);return i.on("close",(()=>o.dispose())),i.on("error",(()=>o.dispose())),i},t.acquireTrackedWebSocketServer=async(e,t,r)=>{const n=await(0,d.findOpenPort)({tester:(0,d.makeAcquireWebSocketServer)(t)},r),i=e.register(n.address().port);return n.on("close",(()=>i.dispose())),n.on("error",(()=>i.dispose())),n},t.IPortLeaseTracker=Symbol("IPortLeaseTracker");let m=class{constructor(e){this.usedPorts=new Set,this.onRegistered=new p.EventEmitter,this.isMandated="remote"===e}register(e){return this.usedPorts.add(e),this.onRegistered.fire(e),{dispose:()=>this.usedPorts.delete(e)}}isRegistered(e,t=2e3){return this.usedPorts.has(e)?Promise.resolve(!0):e<53e3||e>=54e3?Promise.resolve(!1):(0,l.cancellableRace)([()=>(0,h.delay)(t).then((()=>!1)),t=>new Promise((r=>{const n=this.onRegistered.event((t=>{t===e&&r(!0)}));t.onCancellationRequested((()=>n.dispose()))}))])}};m=o([(0,c.injectable)(),a(0,(0,c.inject)(f.ExtensionLocation))],m),t.PortLeaseTracker=m},23200:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProfileController=t.IProfileController=void 0;const o=r(55053),s=r(63216),a=r(23601),c=r(44413),u=r(1032),l=r(31939),p=r(82122),d=r(71017),h=r(22037),f=r(6113);t.IProfileController=Symbol("IProfileController");let m=class{constructor(e,t,r){this.cdp=e,this.factory=t,this.breakpoints=r}connect(e,t){e.on("startProfile",(async r=>(await this.start(e,t,r),{}))),e.on("stopProfile",(()=>this.stopProfiling(e))),t.onPaused((()=>this.stopProfiling(e)))}async start(e,t,r){if(this.profile)throw new u.ProtocolError((0,c.invalidConcurrentProfile)());this.profile=this.startProfileInner(e,t,r).catch((e=>{throw this.profile=void 0,e})),await this.profile}async startProfileInner(e,t,r){var n;let i,o=!1;if(null===(n=r.stopAtBreakpoint)||void 0===n?void 0:n.length){const e=new Set(r.stopAtBreakpoint);o=!0,i=t=>!(t instanceof p.UserDefinedBreakpoint)||e.has(t.dapId)}else i=()=>!1;await this.breakpoints.applyEnabledFilter(i);const s=(0,d.join)((0,h.tmpdir)(),`vscode-js-profile-${(0,f.randomBytes)(4).toString("hex")}`),a=await this.factory.get(r.type).start(r,s),c={file:s,profile:a,enableFilter:i,keptDebuggerOn:o};a.onUpdate((t=>e.profilerStateUpdate({label:t,running:!0}))),a.onStop((()=>this.disposeProfile(c)));const u=!!t.pausedDetails();return o?await t.resume():u&&(await this.cdp.Debugger.disable({}),u&&t.onResumed()),e.profileStarted({file:c.file,type:r.type}),c}async stopProfiling(e){var t;const r=await(null===(t=this.profile)||void 0===t?void 0:t.catch((()=>{})));return r&&this.profile?(this.profile=void 0,await(null==r?void 0:r.profile.stop()),e.profilerStateUpdate({label:"",running:!1}),{}):{}}async disposeProfile({profile:e,enableFilter:t,keptDebuggerOn:r}){r||await this.cdp.Debugger.enable({}),await this.breakpoints.applyEnabledFilter(void 0,t),e.dispose()}};m=n([(0,o.injectable)(),i(0,(0,o.inject)(s.ICdpApi)),i(1,(0,o.inject)(a.IProfilerFactory)),i(2,(0,o.inject)(l.BreakpointManager))],m),t.ProfileController=m},58269:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.BasicCpuProfiler=void 0;const c=r(55053),u=s(r(33463)),l=r(63216),p=r(44936),d=r(73454),h=r(44413),f=r(1032),m=r(99010),g=r(44873),y=r(30544),b=u.loadMessageBundle(r(71017).join(__dirname,"adapter\\profiling\\basicCpuProfiler.js"));let v=class{constructor(e,t,r,n){this.cdp=e,this.fs=t,this.sources=r,this.launchConfig=n}static canApplyTo(){return!0}async start(e,t){if(await this.cdp.Profiler.enable({}),!await this.cdp.Profiler.start({}))throw new f.ProtocolError((0,h.profileCaptureError)());return new w(this.cdp,this.fs,this.sources,this.launchConfig.__workspaceFolder,t)}};v.type="cpu",v.extension=".cpuprofile",v.label=b(0,null),v.description=b(1,null),v.editable=!0,v=o([(0,c.injectable)(),a(0,(0,c.inject)(l.ICdpApi)),a(1,(0,c.inject)(m.FS)),a(2,(0,c.inject)(g.SourceContainer)),a(3,(0,c.inject)(d.AnyLaunchConfiguration))],v),t.BasicCpuProfiler=v;class w{constructor(e,t,r,n,i){this.cdp=e,this.fs=t,this.sources=r,this.workspaceFolder=n,this.file=i,this.stopEmitter=new p.EventEmitter,this.disposed=!1,this.onUpdate=(new p.EventEmitter).event,this.onStop=this.stopEmitter.event}async dispose(){this.disposed||(this.disposed=!0,await this.cdp.Profiler.disable({}),this.stopEmitter.fire())}async stop(){const e=await this.cdp.Profiler.stop({});if(!e)throw new f.ProtocolError((0,h.profileCaptureError)());await this.dispose();const t=await this.annotateSources(e.profile);await this.fs.writeFile(this.file,JSON.stringify(t))}async annotateSources(e){const t=new y.SourceAnnotationHelper(this.sources),r=e.nodes.map((e=>{var r;return{...e,locationId:t.getLocationIdFor(e.callFrame),positionTicks:null===(r=e.positionTicks)||void 0===r?void 0:r.map((r=>({...r,startLocationId:t.getLocationIdFor({...e.callFrame,lineNumber:r.line-1,columnNumber:0}),endLocationId:t.getLocationIdFor({...e.callFrame,lineNumber:r.line,columnNumber:0})})))}}));return{...e,nodes:r,$vscode:{rootPath:this.workspaceFolder,locations:await t.getLocations()}}}}},38124:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.BasicHeapProfiler=void 0;const c=r(55053),u=s(r(33463)),l=r(63216),p=r(44936),d=r(73454),h=r(44413),f=r(1032),m=r(99010),g=r(44873),y=r(30544),b=u.loadMessageBundle(r(71017).join(__dirname,"adapter\\profiling\\basicHeapProfiler.js"));let v=class{constructor(e,t,r,n){this.cdp=e,this.fs=t,this.sources=r,this.launchConfig=n}static canApplyTo(){return!0}async start(e,t){if(await this.cdp.HeapProfiler.enable({}),!await this.cdp.HeapProfiler.startSampling({}))throw new f.ProtocolError((0,h.profileCaptureError)());return new w(this.cdp,this.fs,this.sources,this.launchConfig.__workspaceFolder,t)}};v.type="heap",v.extension=".heapprofile",v.label=b(0,null),v.description=b(1,null),v.editable=!0,v=o([(0,c.injectable)(),a(0,(0,c.inject)(l.ICdpApi)),a(1,(0,c.inject)(m.FS)),a(2,(0,c.inject)(g.SourceContainer)),a(3,(0,c.inject)(d.AnyLaunchConfiguration))],v),t.BasicHeapProfiler=v;class w{constructor(e,t,r,n,i){this.cdp=e,this.fs=t,this.sources=r,this.workspaceFolder=n,this.file=i,this.stopEmitter=new p.EventEmitter,this.disposed=!1,this.onUpdate=(new p.EventEmitter).event,this.onStop=this.stopEmitter.event}async dispose(){this.disposed||(this.disposed=!0,await this.cdp.HeapProfiler.disable({}),this.stopEmitter.fire())}async stop(){const e=await this.cdp.HeapProfiler.stopSampling({});if(!e)throw new f.ProtocolError((0,h.profileCaptureError)());await this.dispose();const t=await this.annotateSources(e.profile);await this.fs.writeFile(this.file,JSON.stringify(t))}async annotateSources(e){const t=new y.SourceAnnotationHelper(this.sources),r=(e,n)=>{n.locationId=t.getLocationIdFor(e.callFrame);for(const t of e.children){const e={...t,children:[]};n.children.push(e),r(t,e)}},n={...e.head,children:[]};return r(e.head,n),{...e,head:n,$vscode:{rootPath:this.workspaceFolder,locations:await t.getLocations()}}}}},30308:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.HeapDumpProfiler=void 0;const c=r(57147),u=r(55053),l=s(r(33463)),p=r(63216),d=r(44936),h=l.loadMessageBundle(r(71017).join(__dirname,"adapter\\profiling\\heapDumpProfiler.js"));let f=class{constructor(e){this.cdp=e,this.cdp.HeapProfiler.on("addHeapSnapshotChunk",(({chunk:e})=>{var t;return null===(t=this.currentWriter)||void 0===t?void 0:t.stream.write(e)}))}static canApplyTo(){return!0}async start(e,t){return{onStop:(new d.EventEmitter).event,onUpdate:(new d.EventEmitter).event,dispose:()=>{},stop:async()=>{await this.cdp.HeapProfiler.enable({}),await this.dumpToFile(t),await this.cdp.HeapProfiler.disable({})}}}async dumpToFile(e){const{stream:t,promise:r}=this.currentWriter={stream:(0,c.createWriteStream)(e),promise:this.cdp.HeapProfiler.takeHeapSnapshot({})};await r,t.end(),this.currentWriter=void 0}};f.type="memory",f.extension=".heapsnapshot",f.label=h(0,null),f.description=h(1,null),f.instant=!0,f=o([(0,u.injectable)(),a(0,(0,u.inject)(p.ICdpApi))],f),t.HeapDumpProfiler=f},23601:function(e,t,r){"use strict";var n,i=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProfilerFactory=t.IProfilerFactory=void 0;const s=r(55053),a=r(99010),c=r(58269),u=r(38124),l=r(30308);t.IProfilerFactory=Symbol("IProfilerFactory");let p=n=class{constructor(e){this.container=e}get(e){const t=n.ctors.find((t=>t.type===e));if(!t)throw new Error(`Invalid profilter type ${e}`);return this.container.get(t)}};p.ctors=[c.BasicCpuProfiler,u.BasicHeapProfiler,l.HeapDumpProfiler],p=n=i([(0,s.injectable)(),o(0,(0,s.inject)(a.IContainer))],p),t.ProfilerFactory=p},30544:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SourceAnnotationHelper=void 0,t.SourceAnnotationHelper=class{constructor(e){this.sources=e,this.locationIdCounter=0,this.locationsByRef=new Map}getLocationIdFor(e){const t=[e.functionName,e.url,e.scriptId,e.lineNumber,e.columnNumber].join(":"),r=this.locationsByRef.get(t);if(r)return r.id;const n=this.locationIdCounter++;return this.locationsByRef.set(t,{id:n,callFrame:e,locations:(async()=>{var t;const r=await(null===(t=this.sources.getScriptById(e.scriptId))||void 0===t?void 0:t.source);return r?Promise.all(this.sources.currentSiblingUiLocations({lineNumber:e.lineNumber+1,columnNumber:e.columnNumber+1,source:r}).map((async e=>({...e,source:await e.source.toDapShallow()})))):[]})()}),n}getLocations(){return Promise.all([...this.locationsByRef.values()].sort(((e,t)=>e.id-t.id)).map((async e=>({callFrame:e.callFrame,locations:await e.locations}))))}}},31868:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BasicResourceProvider=void 0;const u=c(r(57052)),l=s(r(97409)),p=r(55053),d=r(42954),h=r(25370),f=r(5376),m=r(97208),g=r(99010),y=r(83739);let b=class{constructor(e,t){this.fs=e,this.options=t}async fetch(e,t=h.NeverCancelled,r){try{return{ok:!0,url:e,body:(0,u.default)(e).toString("utf-8"),statusCode:200}}catch(e){}const n=(0,m.isAbsolute)(e)?e:(0,m.fileUrlToAbsolutePath)(e);if(n)try{return{ok:!0,url:e,body:await this.fs.readFile(n,"utf-8"),statusCode:200}}catch(t){return{ok:!1,url:e,error:t,statusCode:200}}return this.fetchHttp(e,t,r)}async fetchJson(e,t,r){const n=await this.fetch(e,t,{Accept:"application/json",...r});if(!n.ok)return n;try{return{...n,body:JSON.parse(n.body)}}catch(t){return{...n,ok:!1,url:e,error:t}}}async fetchHttp(e,t,r){var n;const i=new URL(e),o={headers:r,followRedirect:!0};"http:"!==i.protocol&&await(0,m.isLoopback)(e)&&(o.rejectUnauthorized=!1),null===(n=this.options)||void 0===n||n.provideOptions(o,e);const s=await this.requestHttp(e,o,t);return 503===s.statusCode&&"localhost"===i.hostname?(i.hostname="127.0.0.1",this.requestHttp(i.toString(),o,t)):s}async requestHttp(e,t,r){var n,i,o,s;null===(n=this.options)||void 0===n||n.provideOptions(t,e);const a=new f.DisposableList;try{const n=(0,l.default)(e,t);a.push(r.onCancellationRequested((()=>n.cancel())));const i=await n;return{ok:!0,url:e,body:i.body,statusCode:i.statusCode}}catch(t){if(!(t instanceof l.RequestError))throw t;const r=t.response?String(null===(i=t.response)||void 0===i?void 0:i.body):t.message,n=null!==(s=null===(o=t.response)||void 0===o?void 0:o.statusCode)&&void 0!==s?s:503;return{ok:!1,body:r,statusCode:n,url:e,error:new d.HttpStatusError(n,e,r)}}finally{a.dispose()}}};b=o([(0,p.injectable)(),a(0,(0,p.inject)(g.FS)),a(1,(0,p.optional)()),a(1,(0,p.inject)(y.IRequestOptionsProvider))],b),t.BasicResourceProvider=b},41395:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeOptions=t.addHeader=void 0,t.addHeader=(e,t,r)=>{t=t.toLowerCase();const n=null==e?void 0:e[t];return{...e,[t]:n?n instanceof Array?n.concat(r):[n,r]:r}},t.mergeOptions=(e,t)=>{const r=e;for(const[e,n]of Object.entries(t))r[e]="object"==typeof n&&n?Object.assign(r[e]||{},n):n}},42954:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IResourceProvider=t.HttpStatusError=void 0;class r extends Error{constructor(e,t,r){super(`Unexpected ${e} response from ${t}: ${null!=r?r:"<empty body>"}`),this.statusCode=e,this.url=t,this.body=r}}t.HttpStatusError=r,t.IResourceProvider=Symbol("IResourceProvider")},83739:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IRequestOptionsProvider=void 0,t.IRequestOptionsProvider=Symbol("IRequestOptionsProvider")},42842:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceProviderState=void 0;const i=r(55053),o=r(41395);let s=class{constructor(){this.cdp=[]}attach(e){return this.cdp.push({cdp:e,enabledNetwork:!1}),{dispose:()=>{this.cdp=this.cdp.filter((t=>t.cdp!==e))}}}async apply(e,t){const r=this.cdp[0];return r&&(t=await this.applyCookies(r,e,t)),t}async applyCookies(e,t,r){var n;e.enabledNetwork||(e.enabledNetwork=!0,await e.cdp.Network.enable({}));const i=await e.cdp.Network.getCookies({urls:[t]});return(null===(n=null==i?void 0:i.cookies)||void 0===n?void 0:n.length)?(0,o.addHeader)(r,"Cookie",i.cookies.sort(((e,t)=>e.path.length-t.path.length)).map((e=>`${e.name}=${e.value}`)).join("; ")):r}};s=n([(0,i.injectable)()],s),t.ResourceProviderState=s},58871:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.StatefulResourceProvider=void 0;const o=r(55053),s=r(63216),a=r(5376),c=r(99010),u=r(31868),l=r(83739),p=r(42842);let d=class extends u.BasicResourceProvider{constructor(e,t,r,n){super(e,n),this.state=t,this.disposables=new a.DisposableList,r&&this.disposables.push(this.state.attach(r))}dispose(){this.disposables.dispose()}async fetchHttp(e,t,r={}){const n=await super.fetchHttp(e,t,r);if(!n.ok){const n=await this.state.apply(e,r);if(n!==r)return await super.fetchHttp(e,t,n)}return n}};d=n([(0,o.injectable)(),i(0,(0,o.inject)(c.FS)),i(1,(0,o.inject)(p.ResourceProviderState)),i(2,(0,o.optional)()),i(2,(0,o.inject)(s.ICdpApi)),i(3,(0,o.optional)()),i(3,(0,o.inject)(l.IRequestOptionsProvider))],d),t.StatefulResourceProvider=d},93241:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return o(t,e),t},c=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ScriptSkipper=void 0;const l=r(55053),p=u(r(48586)),d=r(63216),h=r(18229),f=r(44936),m=r(15501),g=r(94723),y=r(7678),b=a(r(79783)),v=r(78986),w=r(36268),_=a(r(97208)),S=r(73454),k=r(50036),P=r(44873),x=r(56102);let C=n=class{constructor({skipFiles:e},t,r,i){this.logger=t,this.cdp=r,this._nonNodeInternalGlobs=null,this._nodeInternalsGlobs=null,this._scriptsWithSkipping=new Set,this._targetId=i.id(),this._rootTargetId=E(i).id(),this._isUrlSkipped=new h.MapUsingProjection((e=>this._normalizeUrl(e))),this._isAuthoredUrlSkipped=new h.MapUsingProjection((e=>this._normalizeUrl(e))),this._preprocessNodeInternals(e),this._setRegexForNonNodeInternals(e),this._initNodeInternals(i),this._updateSkippedDebounce=(0,y.trailingEdgeThrottle)(500,(()=>this._updateGeneratedSkippedSources())),n.sharedSkipsEmitter.event((e=>{e.rootTargetId===this._rootTargetId&&e.targetId!==this._targetId&&this._toggleSkippingFile(e.params)}))}setSourceContainer(e){this._sourceContainer=e}_preprocessNodeInternals(e){const t=/^<node_internals>[\/\\](.*)$/,r=e.map((e=>{e=e.trim();const r=t.exec(e);return r?r[1]:null})).filter((e=>e));r.length>0&&(this._nodeInternalsGlobs=r)}_setRegexForNonNodeInternals(e){const t=e.filter((e=>!e.includes("<node_internals>"))).map((e=>b.forceForwardSlashes(e))).map(_.lowerCaseInsensitivePath);t.length>0&&(this._nonNodeInternalGlobs=t)}_testSkipNodeInternal(e){return!!this._nodeInternalsGlobs&&(e.startsWith(g.node15InternalsPrefix)&&(e=e.slice(g.node15InternalsPrefix.length)),(0,p.default)([e],this._nodeInternalsGlobs).length>0)}_testSkipNonNodeInternal(e){return!!this._nonNodeInternalGlobs&&(0,p.default)([_.lowerCaseInsensitivePath(b.forceForwardSlashes(e))],this._nonNodeInternalGlobs,{dot:!0}).length>0}_isNodeInternal(e,t){return!!e.startsWith(g.node15InternalsPrefix)||(null==t?void 0:t.has(e))||/^internal\/.+\.js$/.test(e)}async _updateBlackboxedUrls(e){const t=e.map((e=>(0,w.escapeRegexSpecialChars)(e))).map((e=>`^${e}$`));await this.cdp.Debugger.setBlackboxPatterns({patterns:t})}_updateGeneratedSkippedSources(){const e=[];for(const[t,r]of this._isUrlSkipped.entries())r&&e.push(t);return this._updateBlackboxedUrls(e)}_normalizeUrl(e){return b.forceForwardSlashes(e.toLowerCase())}isScriptSkipped(e){const t=this._normalizeUrl(e);return!0===this._isUrlSkipped.get(t)||!0===this._isAuthoredUrlSkipped.get(t)}async _updateSourceWithSkippedSourceMappedSources(e,t){const r=this.isScriptSkipped(e.url),n=[];let i=r;Array.from(e.sourceMap.sourceByUrl.values()).forEach((t=>{let o=this.isScriptSkipped(t.url);if(void 0===o&&(o=r),o!==i){const r=this._sourceContainer.currentSiblingUiLocations({source:t,lineNumber:1,columnNumber:1},e);r[0]?(n.push({lineNumber:r[0].lineNumber-1,columnNumber:r[0].columnNumber-1}),i=!i):this.logger.error("internal","Could not map script beginning for "+t.sourceReference)}}));let o=t;n.length||(o=o.filter((e=>this._scriptsWithSkipping.has(e))),o.forEach((e=>this._scriptsWithSkipping.delete(e)))),await Promise.all(o.map((e=>this.cdp.Debugger.setBlackboxedRanges({scriptId:e,positions:n}))))}initializeSkippingValueForSource(e){var t;const r=null===(t=this._allNodeInternals)||void 0===t?void 0:t.settledValue;this._allNodeInternals&&!r?this._allNodeInternals.promise.then((t=>this._initializeSkippingValueForSource(e,t))):this._initializeSkippingValueForSource(e,r)}_initializeSkippingValueForSource(e,t,r=e.scriptIds()){const n=e instanceof P.SourceFromMap?this._isAuthoredUrlSkipped:this._isUrlSkipped,i=e.url;n.has(this._normalizeUrl(i))||(this._isNodeInternal(i,t)?n.set(i,this._testSkipNodeInternal(i)):e.absolutePath?n.set(i,this._testSkipNonNodeInternal(e.absolutePath)):n.set(i,this._testSkipNonNodeInternal(i)));let o=this.isScriptSkipped(i);if(o&&(0,P.isSourceWithMap)(e)&&Array.from(e.sourceMap.sourceByUrl.values()).forEach((e=>{this._isAuthoredUrlSkipped.set(e.url,!0)})),(0,P.isSourceWithMap)(e)){for(const n of e.sourceMap.sourceByUrl.values())o=this._initializeSkippingValueForSource(n,t,r)||o;this._updateSourceWithSkippedSourceMappedSources(e,r)}return o&&this._updateSkippedDebounce(),o}async _initNodeInternals(e){if("node"!==e.type()||!this._nodeInternalsGlobs||this._allNodeInternals)return;const t=this._allNodeInternals=(0,v.getDeferred)(),r=await this.cdp.Runtime.evaluate({expression:"require('module').builtinModules"+(0,x.getSourceSuffix)(),returnByValue:!0,includeCommandLineAPI:!0});r&&!r.exceptionDetails?t.resolve(new Set(r.result.value.map((e=>e+".js")))):t.resolve(new Set)}async _toggleSkippingFile(e){let t;e.resource&&_.isAbsolute(e.resource)&&(t=e.resource);const r={path:t,sourceReference:e.sourceReference},n=this._sourceContainer.source(r);if(n){const e=!this.isScriptSkipped(n.url);if(n instanceof P.SourceFromMap){this._isAuthoredUrlSkipped.set(n.url,e);const t=Array.from(n.compiledToSourceUrl.keys());await Promise.all(t.map((e=>this._updateSourceWithSkippedSourceMappedSources(e,e.scriptIds()))))}else if(this._isUrlSkipped.set(n.url,e),(0,P.isSourceWithMap)(n))for(const t of n.sourceMap.sourceByUrl.values())this._isAuthoredUrlSkipped.set(t.url,e);await this._updateGeneratedSkippedSources()}return{}}async toggleSkippingFile(e){const t=await this._toggleSkippingFile(e);return n.sharedSkipsEmitter.fire({params:e,rootTargetId:this._rootTargetId,targetId:this._targetId}),t}};function E(e){const t=e.parent();return t?E(t):e}C.sharedSkipsEmitter=new f.EventEmitter,C=n=s([(0,l.injectable)(),c(0,(0,l.inject)(S.AnyLaunchConfiguration)),c(1,(0,l.inject)(m.ILogger)),c(2,(0,l.inject)(d.ICdpApi)),c(3,(0,l.inject)(k.ITarget))],C),t.ScriptSkipper=C},46989:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IScriptSkipper=void 0,t.IScriptSkipper=Symbol("IScriptSkipper")},33868:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelfProfile=void 0;const n=r(31405),i=r(57147);t.SelfProfile=class{constructor(e){this.file=e,this.session=new n.Session,this.session.connect()}async start(){try{await this.post("Profiler.enable")}catch(e){}await this.post("Profiler.start")}async stop(){const{profile:e}=await this.post("Profiler.stop");await i.promises.writeFile(this.file,JSON.stringify(e))}dispose(){this.session.disconnect()}post(e,t){return new Promise(((r,n)=>this.session.post(e,t,((e,t)=>{e?n(e):r(t)}))))}}},67523:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SmartStepper=t.shouldStepOverStackFrame=void 0;const o=r(55053),s=r(15501),a=r(7678),c=r(73454),u=r(44873),l=r(35219);async function p(e){const t=await e.uiLocation();return t?t.source.blackboxed()?2:(0,u.isSourceWithMap)(t.source)?t.isMapped||t.unmappedReason!==u.UnmappedReason.MapPositionMissing?0:1:0:0}t.shouldStepOverStackFrame=p;const d=new Set(["breakpoint","exception","entry"]);let h=class{constructor(e,t){this.launchConfig=e,this.logger=t,this._smartStepCount=0}resetSmartStepCount(){this._smartStepCount>0&&(this.logger.verbose("internal",`smartStep: skipped ${this._smartStepCount} steps`),this._smartStepCount=0)}async getSmartStepDirection(e,t){if(!this.launchConfig.smartStep)return;if(d.has(e.reason))return;const r=(await e.stackTrace.loadFrames(1)).find((0,a.isInstanceOf)(l.StackFrame));if(0!==(r&&await p(r)))return this._smartStepCount++>16?2:"step"===(null==t?void 0:t.reason)?t.direction:0;this.resetSmartStepCount()}};h=n([(0,o.injectable)(),i(0,(0,o.inject)(c.AnyLaunchConfiguration)),i(1,(0,o.inject)(s.ILogger))],h),t.SmartStepper=h},44873:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.base1To0=t.base0To1=t.rawToUiOffset=t.uiToRawOffset=t.SourceContainer=t.UnmappedReason=t.isSourceWithMap=t.SourceFromMap=t.Source=void 0;const c=r(55053),u=r(69272),l=r(71017),p=r(69074),d=r(57310),h=s(r(33463)),f=r(18229),m=r(44936),g=r(15501),y=r(7678),b=r(79783),v=r(78986),w=r(43430),_=r(14090),S=s(r(33763)),k=r(33763),P=s(r(97208)),x=r(73454),C=r(58116),E=r(44413),D=r(99010),O=r(63634),A=r(42954),M=r(46989),T=h.loadMessageBundle(r(71017).join(__dirname,"adapter\\sources.js"));function j(e){return"number"==typeof e.lineNumber&&"number"==typeof e.columnNumber&&!!e.source}const R=()=>({source:null,line:null,column:null,name:null,lastColumn:null,isSourceMapLoadFailure:!0}),F={load:0,resolveLocation:2e3,sourceMapMinPause:1e3,output:1e3,sourceMapCumulativePause:1e4};class I{constructor(e,t,r,n,i,o,s,a){this.url=t,this.inlineScriptOffset=o,this.runtimeScriptOffset=s,this._scriptIds=[],this.sourceReference=e.getSourceReference(t),this._contentGetter=(0,y.once)(n),this._container=e,this.absolutePath=r||"",this._fqname=this._fullyQualifiedName(),this._name=this._humanName(),this.setSourceMapUrl(i),this._existingAbsolutePath=S.checkContentHash(this.absolutePath,o||s?void 0:a,e._fileContentOverridesForTest.get(this.absolutePath))}setSourceMapUrl(e){this.sourceMap=e?{url:e,sourceByUrl:new Map,metadata:{sourceMapUrl:e,compiledPath:this.absolutePath||this.url}}:void 0}addScriptId(e){this._scriptIds.push(e)}scriptIds(){return this._scriptIds}async content(){var e;let t=await this._contentGetter();return(null===(e=this.inlineScriptOffset)||void 0===e?void 0:e.lineOffset)&&(t="\n".repeat(this.inlineScriptOffset.lineOffset)+t),t}mimeType(){return"text/javascript"}async prettyPrint(){var e,r;if(!this._container)return;if((0,t.isSourceWithMap)(this)&&this.sourceMap.url.endsWith("-pretty.map")){const t=null===(r=this._container._sourceMaps.get(null===(e=this.sourceMap)||void 0===e?void 0:e.url))||void 0===r?void 0:r.map;return t&&{map:t,source:[...this.sourceMap.sourceByUrl.values()][0]}}const n=await this.content();if(!n)return;const i=this.url||`eval://${this.sourceReference}.js`,o=i+"-pretty.map",s=i.split(/[\/\\]/).pop()+"-pretty.js",a=await(0,k.prettyPrintAsSourceMap)(s,n,i,o);if(!a)return;this.setSourceMapUrl(o);const c=this,u={compiled:new Set([c]),map:a,loaded:Promise.resolve()};return this._container._sourceMaps.set(o,u),await this._container._addSourceMapSources(c,a),{map:a,source:[...c.sourceMap.sourceByUrl.values()][0]}}async toDap(){return this.toDapShallow()}async toDapShallow(){const e=await this._existingAbsolutePath,t={name:this._name,path:this._fqname,sourceReference:this.sourceReference,presentationHint:this.blackboxed()?"deemphasize":void 0,origin:this.blackboxed()?T(0,null):void 0};return e&&(t.sourceReference=0,t.path=e),t}existingAbsolutePath(){return this._existingAbsolutePath}async prettyName(){return await this._existingAbsolutePath||this._fqname}_humanName(){if(P.isAbsolute(this._fqname))for(const e of this._container.rootPaths)if((0,b.isSubdirectoryOf)(e,this._fqname))return(0,b.forceForwardSlashes)((0,l.relative)(e,this._fqname));return this._fqname}_fullyQualifiedName(){var e;if(!this.url)return"<eval>/VM"+this.sourceReference;if(this.absolutePath.startsWith("<node_internals>"))return this.absolutePath;if(P.isAbsolute(this.url))return this.url;const t=P.fileUrlToAbsolutePath(this.url);if(t)return t;let r=this.url;try{const t=[],n=new d.URL(this.url);if("data:"===n.protocol)return"<eval>/VM"+this.sourceReference;n.hostname&&t.push(n.hostname),n.port&&t.push(""+n.port),n.pathname&&t.push(/^\/[a-z]:/.test(n.pathname)?n.pathname.slice(1):n.pathname);const i=null===(e=n.searchParams)||void 0===e?void 0:e.toString();i&&t.push("?"+i),r=t.join("")}catch(e){}return r.endsWith("/")&&(r+="(index)"),this.inlineScriptOffset&&(r+=`${this.inlineScriptOffset.lineOffset+1}:${this.inlineScriptOffset.columnOffset+1}`),r}blackboxed(){return this._container.isSourceSkipped(this.url)}}t.Source=I;class L extends I{constructor(){super(...arguments),this.compiledToSourceUrl=new Map}}t.SourceFromMap=L,t.isSourceWithMap=e=>!!e&&e instanceof I&&!!e.sourceMap;const N=(e,t)=>t instanceof L&&t.compiledToSourceUrl.has(e);var B;!function(e){e[e.MapDisabled=0]="MapDisabled",e[e.HasNoMap=1]="HasNoMap",e[e.MapLoadingFailed=2]="MapLoadingFailed",e[e.MapPositionMissing=3]="MapPositionMissing",e[e.CannotMap=4]="CannotMap"}(B=t.UnmappedReason||(t.UnmappedReason={}));const $=2**31-1;let U=class{constructor(e,t,r,n,i,o,s,a){this.sourceMapFactory=t,this.logger=r,this.launchConfig=n,this.initializeConfig=i,this.sourcePathResolver=o,this.scriptSkipper=s,this.resourceProvider=a,this.rootPaths=[],this.scriptsById=new Map,this.onScriptEmitter=new m.EventEmitter,this._sourceByOriginalUrl=new f.MapUsingProjection((e=>e.toLowerCase())),this._sourceByReference=new Map,this._sourceMapSourcesByUrl=new Map,this._sourceByAbsolutePath=P.caseNormalizedMap(),this._sourceMaps=new Map,this._sourceMapTimeouts=F,this._fileContentOverridesForTest=new Map,this._temporarilyDisabledSourceMaps=new Set,this._permanentlyDisabledSourceMaps=new Set,this.onScript=this.onScriptEmitter.event,this._statistics={fallbackSourceMapCount:0},this._dap=e;const c="webRoot"in n?n.webRoot:n.rootPath;c&&(this.rootPaths=[c,(0,b.properResolve)(c,"..","ClientApp")]),s.setSourceContainer(this),this.setSourceMapTimeouts({...this.sourceMapTimeouts(),...n.timeouts})}get sources(){return this._sourceByReference.values()}statistics(){return this._statistics}setSourceMapTimeouts(e){this._sourceMapTimeouts=e}sourceMapTimeouts(){return this._sourceMapTimeouts}setFileContentOverrideForTest(e,t){void 0===t?this._fileContentOverridesForTest.delete(e):this._fileContentOverridesForTest.set(e,t)}async loadedSources(){const e=[];for(const t of this._sourceByReference.values())e.push(t.toDap());return await Promise.all(e)}source(e){return e.sourceReference?this._sourceByReference.get(e.sourceReference):e.path?this._sourceByAbsolutePath.get(e.path):void 0}isSourceSkipped(e){return this.scriptSkipper.isScriptSkipped(e)}addScriptById(e){this.scriptsById.set(e.scriptId,e),this.onScriptEmitter.fire(e)}getScriptById(e){return this.scriptsById.get(e)}getSourceByOriginalUrl(e){return this._sourceByOriginalUrl.get(e)}getSourceReference(e){let t=(0,u.xxHash32)(e)&$;for(let e=0;e<65535;e++){if(!this._sourceByReference.has(t))return t;t===$&&(t=0),t++}return this.logger.assert(!1,"Max iterations exceeding for source reference assignment"),t}async preferredUiLocation(e){let r=!1,n=B.CannotMap;for(;(0,t.isSourceWithMap)(e.source);){const t=this._sourceMaps.get(e.source.sourceMap.url);if(!this.logger.assert(t,`Expected to have sourcemap for loaded source ${e.source.sourceMap.url}`))break;if(await Promise.race([t.loaded,(0,v.delay)(this._sourceMapTimeouts.resolveLocation)]),!t.map)return{...e,isMapped:r,unmappedReason:n};const i=this._sourceMappedUiLocation(e,t.map);if(!j(i)){n=r?void 0:i;break}e=i,r=!0,n=void 0}return{...e,isMapped:r,unmappedReason:n}}currentSiblingUiLocations(e,t){return this._uiLocations(e).filter((e=>!t||e.source===t))}clear(e){this.scriptsById.clear();for(const t of this._sourceByReference.values())this.removeSource(t,e);this._sourceByReference.clear(),this.sourceMapFactory instanceof w.CachingSourceMapFactory&&this.sourceMapFactory.invalidateCache()}_uiLocations(e){return[...this.getSourceMapUiLocations(e),e,...this.getCompiledLocations(e)]}getSourceMapUiLocations(e){var r;if(!(0,t.isSourceWithMap)(e.source))return[];const n=null===(r=this._sourceMaps.get(e.source.sourceMap.url))||void 0===r?void 0:r.map;if(!n)return[];const i=this._sourceMappedUiLocation(e,n);if(!j(i))return[];const o=this.getSourceMapUiLocations(i);return o.push(i),o}_sourceMappedUiLocation(e,r){const n=e.source;if(!(0,t.isSourceWithMap)(n))return B.HasNoMap;if(this._temporarilyDisabledSourceMaps.has(n)||this._permanentlyDisabledSourceMaps.has(n))return B.MapDisabled;const i=this.getOptiminalOriginalPosition(r,V(e,n.inlineScriptOffset));if("isSourceMapLoadFailure"in i)return B.MapLoadingFailed;if(!i.source)return B.MapPositionMissing;const o=n.sourceMap.sourceByUrl.get(i.source);return o?{lineNumber:i.line||1,columnNumber:i.column?i.column+1:1,source:o}:B.MapPositionMissing}getCompiledLocations(e){if(!(e.source instanceof L))return[];let t=[];for(const[r,n]of e.source.compiledToSourceUrl){const i=this._sourceMaps.get(r.sourceMap.url);if(!i||!i.map)continue;const o=this.sourceMapFactory.guardSourceMapFn(i.map,(()=>S.getOptimalCompiledPosition(n,e,i.map)),R);if(!o)continue;const{lineNumber:s,columnNumber:a}=q({lineNumber:o.line||1,columnNumber:(o.column||0)+1},r.inlineScriptOffset),c={lineNumber:s,columnNumber:a,source:r};t=t.concat(c,this.getCompiledLocations(c))}return t}getOptiminalOriginalPosition(e,t){return this.sourceMapFactory.guardSourceMapFn(e,(()=>{const r=e.originalPositionFor({line:t.lineNumber,column:t.columnNumber-1,bias:p.SourceMapConsumer.GREATEST_LOWER_BOUND});return null!==r.line?r:e.originalPositionFor({line:t.lineNumber,column:t.columnNumber-1,bias:p.SourceMapConsumer.LEAST_UPPER_BOUND})}),R)}async addSource(e,t,r,n,i,o){const s=await this.sourcePathResolver.urlToAbsolutePath({url:e});this.logger.verbose("runtime.sourcecreate","Creating source from url",{inputUrl:e,absolutePath:s});const a=new I(this,e,s,t,r&&this.sourcePathResolver.shouldResolveSourceMap({sourceMapUrl:r,compiledPath:s||e})?r:void 0,n,i,this.launchConfig.enableContentValidation?o:void 0);return this._addSource(a),a}async _addSource(e){const r=e.url&&this._sourceByOriginalUrl.get(e.url);r&&!N(r,e)&&this.removeSource(r,!0),this._sourceByOriginalUrl.set(e.url,e),this._sourceByReference.set(e.sourceReference,e),e instanceof L&&this._sourceMapSourcesByUrl.set(e.url,e);const n=this._sourceByAbsolutePath.get(e.absolutePath);if((void 0===n||n.url.length>=e.url.length||N(n,e))&&this._sourceByAbsolutePath.set(e.absolutePath,e),this.scriptSkipper.initializeSkippingValueForSource(e),e.toDap().then((e=>this._dap.loadedSource({reason:"new",source:e}))),!(0,t.isSourceWithMap)(e))return;const i=this._sourceMaps.get(e.sourceMap.url);if(i)return i.compiled.add(e),void(i.map&&await this._addSourceMapSources(e,i.map));const o=(0,v.getDeferred)(),s={compiled:new Set([e]),loaded:o.promise};this._sourceMaps.set(e.sourceMap.url,s);try{s.map=await this.sourceMapFactory.load(e.sourceMap.metadata)}catch(t){if("visualstudio"===this.initializeConfig.clientID){const r=e.sourceMap.metadata.sourceMapUrl;try{const n=await this.sourcePathResolver.urlToAbsolutePath({url:r});n&&(e.sourceMap.metadata.sourceMapUrl=P.absolutePathToFileUrl(n)),s.map=await this.sourceMapFactory.load(e.sourceMap.metadata),this._statistics.fallbackSourceMapCount++,this.logger.info("sourcemap.parsing","Failed to process original source-map; falling back to storage source-map",{fallbackSourceMapUrl:e.sourceMap.metadata.sourceMapUrl,originalSourceMapUrl:r,originalSourceMapError:(0,O.extractErrorDetails)(t)})}catch(e){}}if(!s.map)return this._dap.output({output:(0,E.sourceMapParseFailed)(e.url,t.message).error.format+"\n",category:"stderr"}),o.resolve()}if(this._sourceMaps.get(e.sourceMap.url)!==s)return o.resolve();this.logger.verbose("sourcemap.parsing","Creating sources from source map",{sourceMapId:s.map.id,metadata:s.map.metadata});const a=[];for(const e of s.compiled)a.push(this._addSourceMapSources(e,s.map));await Promise.all(a),this.scriptSkipper.initializeSkippingValueForSource(e),o.resolve()}removeSource(e,r=!1){const n=this._sourceByReference.get(e.sourceReference);if(void 0===n)return;if(this.logger.assert(e===n,"Expected source to be the same as the existing reference"),this._sourceByReference.delete(e.sourceReference),e instanceof L&&this._sourceMapSourcesByUrl.delete(e.url),this._sourceByAbsolutePath.delete(e.absolutePath),(0,t.isSourceWithMap)(e)&&(this._permanentlyDisabledSourceMaps.delete(e),this._temporarilyDisabledSourceMaps.delete(e)),r||e.toDap().then((e=>this._dap.loadedSource({reason:"removed",source:e}))),!(0,t.isSourceWithMap)(e))return;const i=this._sourceMaps.get(e.sourceMap.url);this.logger.assert(i,`Source map missing for ${e.sourceMap.url} in removeSource()`)&&(this.logger.assert(i.compiled.has(e),`Source map ${e.sourceMap.url} does not contain source ${e.url}`),i.compiled.delete(e),i.compiled.size||(i.map&&i.map.destroy(),this._sourceMaps.delete(e.sourceMap.url)),i.map&&this._removeSourceMapSources(e,i.map,r))}async _addSourceMapSources(e,t){const r=[];for(const n of t.sources){const i=await this.sourcePathResolver.urlToAbsolutePath({url:n,map:t}),o=i?P.absolutePathToFileUrl(i):t.computedSourceUrl(n),s=this._sourceMapSourcesByUrl.get(o);if(s){s.compiledToSourceUrl.set(e,n),e.sourceMap.sourceByUrl.set(n,s);continue}this.logger.verbose("runtime.sourcecreate","Creating source from source map",{inputUrl:n,sourceMapId:t.id,absolutePath:i,resolvedUrl:o});const a=i&&P.absolutePathToFileUrl(i),c=this.sourceMapFactory.guardSourceMapFn(t,(()=>t.sourceContentFor(n,!0)),(()=>null)),u=new L(this,o,i,null!==c?()=>Promise.resolve(c):a?()=>this.resourceProvider.fetch(a).then((e=>e.body)):()=>e.content(),void 0,void 0,e.runtimeScriptOffset);u.compiledToSourceUrl.set(e,n),e.sourceMap.sourceByUrl.set(n,u),r.push(this._addSource(u))}await Promise.all(r)}_removeSourceMapSources(e,t,r){for(const n of t.sources){const t=e.sourceMap.sourceByUrl.get(n);this.logger.assert(t,`Unknown source ${n} in removeSourceMapSources`)&&(e.sourceMap.sourceByUrl.delete(n),t.compiledToSourceUrl.delete(e),t.compiledToSourceUrl.size||this.removeSource(t,r))}}async waitForSourceMapSources(e){if(!(0,t.isSourceWithMap)(e))return[];const r=this._sourceMaps.get(e.sourceMap.url);return this.logger.assert(r,"Unrecognized source map url in waitForSourceMapSources()")?(await r.loaded,[...e.sourceMap.sourceByUrl.values()]):[]}async revealUiLocation(e){this._dap.revealLocationRequested({source:await e.source.toDap(),line:e.lineNumber,column:e.columnNumber})}disableSourceMapForSource(e,t=!1){t?this._permanentlyDisabledSourceMaps.add(e):this._temporarilyDisabledSourceMaps.add(e)}clearDisabledSourceMaps(e){e?this._temporarilyDisabledSourceMaps.delete(e):this._temporarilyDisabledSourceMaps.clear()}};function q(e,t){if(!t)return e;let{lineNumber:r,columnNumber:n}=e;return t&&(r+=t.lineOffset,r<=1&&(n+=t.columnOffset)),{...e,lineNumber:r,columnNumber:n}}function V(e,t){if(!t)return e;let{lineNumber:r,columnNumber:n}=e;return t&&(r=Math.max(1,r-t.lineOffset),r<=1&&(n=Math.max(1,n-t.columnOffset))),{...e,lineNumber:r,columnNumber:n}}U=o([(0,c.injectable)(),a(0,(0,c.inject)(C.IDapApi)),a(1,(0,c.inject)(w.ISourceMapFactory)),a(2,(0,c.inject)(g.ILogger)),a(3,(0,c.inject)(x.AnyLaunchConfiguration)),a(4,(0,c.inject)(D.IInitializeParams)),a(5,(0,c.inject)(_.ISourcePathResolver)),a(6,(0,c.inject)(M.IScriptSkipper)),a(7,(0,c.inject)(A.IResourceProvider))],U),t.SourceContainer=U,t.uiToRawOffset=q,t.rawToUiOffset=V,t.base0To1=e=>({lineNumber:e.lineNumber+1,columnNumber:e.columnNumber+1}),t.base1To0=e=>({lineNumber:e.lineNumber-1,columnNumber:e.columnNumber-1})},35219:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.StackFrame=t.AsyncSeparator=t.StackTrace=void 0;const s=o(r(33463)),a=r(7678),c=r(67790),u=r(44413),l=r(1032),p=r(67523),d=r(39226),h=s.loadMessageBundle(r(71017).join(__dirname,"adapter\\stackTrace.js"));class f{constructor(e){this.frames=[],this._frameById=new Map,this._lastFrameThread=e}static fromRuntime(e,t){const r=new f(e);for(const n of t.callFrames)n.url.endsWith(".cdp")||r.frames.push(g.fromRuntime(e,n,!1));return t.parentId?(r._asyncStackTraceId=t.parentId,console.assert(!t.parent)):r._appendStackTrace(e,t.parent),r}static async fromRuntimeWithPredicate(e,t,r,n=1/0){const i=new f(e);for(let o=0;o<t.callFrames.length&&n>0;o++)if(!t.callFrames[o].url.endsWith(".cdp")){const s=g.fromRuntime(e,t.callFrames[o],!1);await r(s)&&(i.frames.push(),n--)}return t.parentId?(i._asyncStackTraceId=t.parentId,console.assert(!t.parent)):i._appendStackTrace(e,t.parent),i}static fromDebugger(e,t,r,n){const i=new f(e);for(const r of t)i._appendFrame(g.fromDebugger(e,r));return n?(i._asyncStackTraceId=n,console.assert(!r)):i._appendStackTrace(e,r),i}async loadFrames(e){for(;this.frames.length<e&&this._asyncStackTraceId;){if(this._asyncStackTraceId.debuggerId&&(this._lastFrameThread=d.Thread.threadForDebuggerId(this._asyncStackTraceId.debuggerId)),!this._lastFrameThread){this._asyncStackTraceId=void 0;break}const e=await this._lastFrameThread.cdp().Debugger.getStackTrace({stackTraceId:this._asyncStackTraceId});this._asyncStackTraceId=void 0,e&&this._appendStackTrace(this._lastFrameThread,e.stackTrace)}return this.frames}frame(e){return this._frameById.get(e)}_appendStackTrace(e,t){for(console.assert(!t||!this._asyncStackTraceId);t;){if("async function"===t.description&&t.callFrames.length&&t.callFrames.shift(),t.callFrames.length){this._appendFrame(new m(t.description||"async"));for(const r of t.callFrames)this._appendFrame(g.fromRuntime(e,r,!0))}t.parentId&&(this._asyncStackTraceId=t.parentId,console.assert(!t.parent)),t=t.parent}}_appendFrame(e){this.frames.push(e),e instanceof g&&this._frameById.set(e._id,e)}async formatAsNative(){const e=(await this.loadFrames(50)).map((e=>e.formatAsNative()));return(await Promise.all(e)).join("\n")+"\n"}async format(){const e=(await this.loadFrames(50)).map((e=>e.format()));return(await Promise.all(e)).join("\n")+"\n"}async toDap(e){const t=e.startFrame||0;let r=(e.levels||50)+t;const n=await this.loadFrames(r);r=Math.min(n.length,e.levels?r:n.length);const i=[];for(let o=t;o<r;o++)i.push(n[o].toDap(e.format));return{stackFrames:await Promise.all(i),totalFrames:this._asyncStackTraceId?1e6:n.length}}}t.StackTrace=f;class m{constructor(e="async"){this.label=e}async toDap(){return{name:this.label,id:0,line:0,column:0,presentationHint:"label"}}async formatAsNative(){return`    --- ${this.label} ---`}async format(){return` ${this.label} `}}t.AsyncSeparator=m;class g{constructor(e,t,r,n=!1){this.callFrame=t,this.isAsync=n,this._id=++g._lastFrameId,this._name=t.functionName||"<anonymous>",this._rawLocation=r,this.uiLocation=(0,a.once)((()=>e.rawLocationToUiLocation(r))),this._thread=e}get rawPosition(){return new c.Base0Position(this._rawLocation.lineNumber,this._rawLocation.columnNumber)}static fromRuntime(e,t,r){return new g(e,t,e.rawLocation(t),r)}static fromDebugger(e,t){const r=new g(e,t,e.rawLocation(t));return r._scope={chain:t.scopeChain,thisObject:t.this,returnValue:t.returnValue,variables:new Array(t.scopeChain.length).fill(void 0),callFrameId:t.callFrameId},r}get canExplicitlyBeRestarted(){return!!this.callFrame.canBeRestarted}equivalentTo(e){return e instanceof g&&e._rawLocation.columnNumber===this._rawLocation.columnNumber&&e._rawLocation.lineNumber===this._rawLocation.lineNumber&&e._rawLocation.scriptId===this._rawLocation.scriptId}callFrameId(){return this._scope?this._scope.callFrameId:void 0}async scopes(){if(!this._scope)throw new l.ProtocolError((0,u.asyncScopesNotAvailable)());const e=[];for(let t=0;t<this._scope.chain.length;t++){const r=this._scope.chain[t];let n,i="";switch(r.type){case"global":i=h(0,null);break;case"local":i=h(1,null),n="locals";break;case"with":i=h(2,null),n="locals";break;case"closure":i=h(3,null),n="arguments";break;case"catch":i=h(4,null),n="locals";break;case"block":i=h(5,null),n="locals";break;case"script":i=h(6,null);break;case"eval":i=h(7,null);break;case"module":i=h(8,null);break;default:i=r.type.substr(0,1).toUpperCase()+r.type.substr(1)}r.name&&"closure"===r.type?i=h(9,null,r.name):r.name&&(i=`${i}: ${r.name}`);const o=await this._scopeVariable(t,this._scope),s={name:i,presentationHint:n,expensive:"global"===r.type,variablesReference:o.id};if(r.startLocation){const e=this._thread.rawLocation(r.startLocation),t=await this._thread.rawLocationToUiLocation(e);if(s.line=(t||e).lineNumber,s.column=(t||e).columnNumber,t&&(s.source=await t.source.toDap()),r.endLocation){const e=this._thread.rawLocation(r.endLocation),t=await this._thread.rawLocationToUiLocation(e);s.endLine=(t||e).lineNumber,s.endColumn=(t||e).columnNumber}}e.push(s)}return{scopes:e}}async toDap(e){var t;const r=await this.uiLocation(),n=r?await r.source.toDap():void 0,i=await(0,p.shouldStepOverStackFrame)(this),o=i?"deemphasize":"normal";i&&n&&(n.origin=h(1===i?10:11,null));const s=(r||this._rawLocation).lineNumber,a=(r||this._rawLocation).columnNumber;let c=this._name;return n&&e&&(e.module&&(c+=` [${n.name}]`),e.line&&(c+=` Line ${s}`)),{id:this._id,name:c,line:s,column:a,source:n,presentationHint:o,canRestart:null!==(t=this.callFrame.canBeRestarted)&&void 0!==t?t:!this.isAsync}}async formatAsNative(){const e=await this.uiLocation(),t=await(null==e?void 0:e.source.existingAbsolutePath())||(null==e?void 0:e.source.url)||await(null==e?void 0:e.source.prettyName()),{lineNumber:r,columnNumber:n}=e||this._rawLocation;return`    at ${this._name} (${t}:${r}:${n})`}async format(){const e=await this.uiLocation(),t=await(null==e?void 0:e.source.prettyName())||"<unknown>",r=e||this._rawLocation;let n=`${this._name} @ ${t}:${r.lineNumber}`;return r.columnNumber>1&&(n+=`:${r.columnNumber}`),n}async _scopeVariable(e,t){const r=t.variables[e];if(r)return r;const n={stackFrame:this,callFrameId:t.callFrameId,scopeNumber:e},i=[];0===e&&(i.push({name:"this",value:t.thisObject}),t.returnValue&&i.push({name:h(12,null),value:t.returnValue}));const o=this._thread.pausedVariables().createScope(t.chain[e].object,n,i);return t.variables[e]=o}async completions(){if(!this._scope)return[];const e=this._thread.pausedVariables();if(!e)return[];const t=[];for(let r=0;r<this._scope.chain.length;r++)t.push(this._scopeVariable(r,this._scope).then((async t=>(await e.getVariables({variablesReference:t.id})).map((e=>({label:e.name,type:"property"}))))));const r=await Promise.all(t);return[].concat(...r)}}t.StackFrame=g,g._lastFrameId=0},38103:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enumeratePropertiesTemplate=t.enumerateProperties=void 0;const n=r(56102);t.enumerateProperties=(0,n.remoteFunction)((function(e,t,r){const n=r?"variable":"property",i=(e,t,i)=>{if("function"!==t)return n;if("constructor"===e)return"class";const o=String(i);return o.startsWith("class ")||o.includes("[native code]")&&/^[A-Z]/.test(e)?"class":r?"function":"method"},o=e=>{switch(typeof e){case"number":case"boolean":return`${e}`;case"object":return null===e?"null":e.constructor.name||"object";case"function":return`fn(${new Array(e.length).fill("?").join(", ")})`;default:return typeof e}},s=[],a=new Set;let c="~",u=void 0===e?this:e;for(;null!=u;u=u.__proto__){c+="~";const e=Object.getOwnPropertyNames(u).filter((e=>e.startsWith(t)&&!e.match(/^\d+$/)));for(const t of e){if(a.has(t))continue;a.add(t);const e=Object.getOwnPropertyDescriptor(u,t);let r,l=n;try{const n=u[t];l=i(t,typeof(null==e?void 0:e.value),n),r=o(n)}catch(e){}s.push({label:t,sortText:c+t.replace(/^_+/,(e=>"{".repeat(e.length))),type:l,detail:r})}r=!1}return{result:s,isArray:this instanceof Array}})),t.enumeratePropertiesTemplate=(0,n.templateFunction)(t.enumerateProperties.source)},61392:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getArrayProperties=void 0;const n=r(56102);t.getArrayProperties=(0,n.remoteFunction)((function(){const e={__proto__:this.__proto__},t=Object.getOwnPropertyNames(this);for(let r=0;r<t.length;++r){const n=t[r],i=n>>>0;if(String(i>>>0)===n&&i>>>0!=4294967295)continue;const o=Object.getOwnPropertyDescriptor(this,n);o&&Object.defineProperty(e,n,o)}return e}))},38453:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getArraySlots=void 0;const n=r(56102);t.getArraySlots=(0,n.remoteFunction)((function(e,t){const r={},n=-1===e?0:e,i=-1===t?this.length:e+t;for(let e=n;e<i&&e<this.length;++e){const t=Object.getOwnPropertyDescriptor(this,e);t&&Object.defineProperty(r,e,t)}return r}))},43534:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getToStringIfCustom=t.getStringyProps=void 0;const n=r(56102);t.getStringyProps=(0,n.remoteFunction)((function(e){const t={};if("object"!=typeof this||!this)return t;for(const[r,n]of Object.entries(this))"object"==typeof n&&n&&!String(n.toString).includes("[native code]")&&(t[r]=String(n).slice(0,e));return t})),t.getToStringIfCustom=(0,n.remoteFunction)((function(e){if("object"==typeof this&&this&&!String(this.toString).includes("[native code]"))return String(this).slice(0,e)}))},56102:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.remoteFunction=t.RemoteException=t.templateFunctionStr=t.templateFunction=t.getSourceSuffix=void 0;const n=r(81132),i=r(6113);function o(e){const r=(0,n.parseExpressionAt)(e,0,{ecmaVersion:"latest",locations:!0});if("FunctionExpression"!==r.type)throw new Error(`Could not find function declaration for:\n\n${e}`);const i=r.params.map((e=>{if("Identifier"!==e.type)throw new Error("Parameter must be identifier");return e.name})),{start:o,end:s}=r.body;return(...r)=>`(() => {\n    ${r.map(((e,t)=>`let ${i[t]} = ${e}`)).join("; ")};\n    ${e.slice(o+1,s-1)}\n  })();${(0,t.getSourceSuffix)()}`}t.getSourceSuffix=()=>`\n//# sourceURL=eval-${(0,i.randomBytes)(4).toString("hex")}.cdp\n`,t.templateFunction=function(e){return o(""+e)},t.templateFunctionStr=o;class s extends Error{constructor(e){super(e.text),this.details=e}}t.RemoteException=s,t.remoteFunction=function(e){const r=(""+e).replace("}",(0,t.getSourceSuffix)()+"}"),n=async({cdp:e,args:t,...n})=>{const i=await e.Runtime.callFunctionOn({functionDeclaration:r,arguments:t.map((e=>({value:e}))),...n});if(!i)throw new s({exceptionId:0,text:"No response from CDP",lineNumber:0,columnNumber:0});if(i.exceptionDetails)throw new s(i.exceptionDetails);return i.result};return n.source=r,n}},19199:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.invokeGetter=void 0;const n=r(56102);t.invokeGetter=(0,n.remoteFunction)((function(e){return this[e]}))},60290:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.previewThis=void 0;const n=r(56102);t.previewThis=(0,n.remoteFunction)((function(){return this}))},89627:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readMemory=void 0;const n=r(56102);t.readMemory=(0,n.remoteFunction)((function(e,t){const{buffer:r,byteLength:n,byteOffset:i}=this instanceof ArrayBuffer?new DataView(this):this instanceof WebAssembly.Memory?new DataView(this.buffer):this,o=i+Math.min(e,n),s=Math.max(0,Math.min(t,n-e));return function(e){const t="0123456789abcedf";let r="";for(let n=0;n<e.length;n++){const i=e[n];r+=t[i>>>4]+t[15&i]}return r}(new Uint8Array(r,o,s))}))},68752:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeForClipboard=t.serializeForClipboardTmpl=void 0;const n=r(56102);t.serializeForClipboardTmpl=(0,n.templateFunction)((function(e,t){const r=" ".repeat(t);try{return function t(n,i=0,o=[]){switch(typeof n){case"bigint":return`${n}n`;case"boolean":case"symbol":return n.toString();case"function":{const e=n.toString().replace(/^[^\s]+\(/,"function(").split(/\r?\n/g);let t=/^$/;for(const r of e){const e=/^[ \t]+/.exec(r);if(e){t=new RegExp(`^[ \\t]{0,${e[0].length}}`);break}}return e.map(((n,o)=>0===o?n:(n=n.replace(t,""),o===e.length-1?r.repeat(i)+n:r.repeat(i+1)+n))).join("\n")}case"number":return`${n}`;case"object":if(null===n)return"null";if(o.includes(n))return"[Circular]";if("undefined"!=typeof Node&&e instanceof Node)return e.outerHTML;const s=function(e){return e instanceof Uint8Array?Uint8Array:e instanceof Uint8ClampedArray?Uint8ClampedArray:e instanceof Uint16Array?Uint16Array:e instanceof Uint32Array?Uint32Array:e instanceof BigUint64Array?BigUint64Array:e instanceof Int8Array?Int8Array:e instanceof Int32Array?Int32Array:e instanceof BigInt64Array?BigInt64Array:e instanceof Float32Array?Float32Array:e instanceof Float64Array?Float64Array:void 0}(n);if(s)return`new ${s.name}([${n.join(", ")}])`;if(n instanceof ArrayBuffer)return`new Uint8Array([${new Uint8Array(n).join(", ")}]).buffer`;if(n instanceof Array)return["[",...n.map((e=>r.repeat(i+1)+t(e,i+1,[...o,n])+",")),r.repeat(i)+"]"].join("\n");const a=n;return["{",...Object.keys(a).map((e=>r.repeat(i+1)+(/^[$a-z_][0-9a-z_$]*$/i.test(e)?e:JSON.stringify(e))+": "+t(a[e],i+1,[...o,n])+",")),r.repeat(i)+"}"].join("\n");case"string":return JSON.stringify(n);case"undefined":return"undefined";default:return String(n)}}(e)}catch(t){return""+e}})),t.serializeForClipboard=(0,n.remoteFunction)(`\n  function(spaces2) {\n    const result = ${(0,t.serializeForClipboardTmpl)("this","spaces2")};\n    return result;\n  }\n`)},14043:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.writeMemory=void 0;const n=r(56102);t.writeMemory=(0,n.remoteFunction)((function(e,t){const r=function(e){const t=new Uint8Array(e.length>>>1);for(let r=0;r<e.length;r+=2)t[r>>>1]=parseInt(e.slice(r,r+2),16);return t}(t),{buffer:n,byteLength:i,byteOffset:o}=this instanceof ArrayBuffer?new DataView(this):this instanceof WebAssembly.Memory?new DataView(this.buffer):this,s=o+Math.min(e,i),a=Math.max(0,Math.min(r.length,i-e));return new Uint8Array(n,s,a).set(r.subarray(0,a)),a}))},39226:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Thread=t.ExecutionContext=void 0;const s=o(r(33463)),a=r(44936),c=r(51457),u=r(7678),l=r(67790),p=r(78986),d=o(r(33763)),h=r(16865),f=o(r(97208)),m=r(97208),g=o(r(44413)),y=r(1032),b=r(98995),v=r(82122),w=r(54216),_=r(4348),S=o(r(28951)),k=r(44873),P=r(35219),x=r(68752),C=r(40224),E=s.loadMessageBundle(r(71017).join(__dirname,"adapter\\threads.js"));class D{constructor(e,t){this.thread=e,this.description=t}isDefault(){return this.description.auxData&&this.description.auxData.isDefault}}t.ExecutionContext=D;class O{constructor(e){this._obj=e,this._dapDeferred=(0,p.getDeferred)()}resolve(){this._dapDeferred.resolve(this._obj)}with(e){return this._dapDeferred.hasSettled()?e(this._obj):this._dapDeferred.promise.then((t=>e(t)))}}const A=(e,t)=>e.sourceReference===t.sourceReference&&f.comparePathsWithoutCasing(e.path||"",t.path||"");class M{constructor(e,t,r,n,i,o,s,c,u,l,d,h,f){this.target=n,this.logger=o,this.evaluator=s,this.completer=c,this.launchConfig=u,this._breakpointManager=l,this.console=d,this.exceptionPause=h,this._smartStepper=f,this._executionContexts=new Map,this._scriptSources=new Map,this._sourceMapLoads=new Map,this._excludedCallers=[],this._sourceScripts=new WeakMap,this._pausedDetailsEvent=new WeakMap,this._onPausedEmitter=new a.EventEmitter,this.disposed=!1,this.debuggerReady=(0,p.getDeferred)(),this.onPaused=this._onPausedEmitter.event,this._dap=new O(r),this._sourceContainer=e,this._cdp=t,this.id=M._lastThreadId++,this.replVariables=new C.VariableStore(i,this._cdp,r,u,this),this._initialize()}setExcludedCallers(e){this._excludedCallers=e}cdp(){return this._cdp}name(){return this.target.name()}pausedDetails(){return this._pausedDetails}pausedVariables(){return this._pausedVariables}executionContexts(){return Array.from(this._executionContexts.values())}defaultExecutionContext(){for(const e of this._executionContexts.values())if(e.isDefault())return e}async resume(){return this._sourceContainer.clearDisabledSourceMaps(),await this._cdp.Debugger.resume({})||void 0===this._pausedDetails?{allThreadsContinued:!1}:g.createSilentError(E(0,null))}async pause(){return this._expectedPauseReason={reason:"pause"},await this._cdp.Debugger.pause({})?{}:g.createSilentError(E(1,null))}async stepOver(){return this._expectedPauseReason={reason:"step",direction:1},await this._cdp.Debugger.stepOver({})?{}:g.createSilentError(E(2,null))}async stepInto(){return this._waitingForStepIn=this._pausedDetails,this._expectedPauseReason={reason:"step",direction:0},await this._cdp.Debugger.stepInto({breakOnAsyncCall:!0})?{}:g.createSilentError(E(3,null))}async stepOut(){return this._expectedPauseReason={reason:"step",direction:2},await this._cdp.Debugger.stepOut({})?{}:g.createSilentError(E(4,null))}_stackFrameNotFoundError(){return g.createSilentError(E(5,null))}_evaluateOnAsyncFrameError(){return g.createSilentError(E(6,null))}async restartFrame(e){var t;const r=null===(t=this._pausedDetails)||void 0===t?void 0:t.stackTrace.frame(e.frameId);if(!r)return this._stackFrameNotFoundError();const n=r.callFrameId();return n?await this._cdp.Debugger.restartFrame({callFrameId:n,mode:"StepInto"})?(this._expectedPauseReason={reason:"frame_entry",description:E(9,null)},r.canExplicitlyBeRestarted||await this._cdp.Debugger.stepInto({}),{}):g.createUserError(E(8,null)):g.createUserError(E(7,null))}async stackTrace(e){return this._pausedDetails?this._pausedDetails.stackTrace.toDap(e):g.createSilentError(E(10,null))}async scopes(e){const t=this._pausedDetails?this._pausedDetails.stackTrace.frame(e.frameId):void 0;return t?t.scopes():this._stackFrameNotFoundError()}async exceptionInfo(){const e=this._pausedDetails&&this._pausedDetails.exception;if(!e)return g.createSilentError(E(11,null));const t=S.previewException(e);return{exceptionId:t.title,breakMode:"all",details:{stackTrace:t.stackTrace,evaluateName:void 0}}}async revealPage(){return this._cdp.Page.bringToFront({}),{}}async completions(e){let t;if(void 0!==e.frameId){if(t=this._pausedDetails?this._pausedDetails.stackTrace.frame(e.frameId):void 0,!t)return this._stackFrameNotFoundError();if(!t.callFrameId())return this._evaluateOnAsyncFrameError()}if(1===e.line&&e.text.startsWith("cd "))return{targets:this.getExecutionContextCompletions(e)};const r=await this.completer.completions({executionContextId:this._selectedContext?this._selectedContext.description.id:void 0,stackFrame:t,expression:e.text,position:new l.Base1Position(e.line||1,e.column)});return{targets:[...this.getExecutionContextCompletions(e),...r]}}getExecutionContextCompletions(e){if(e.line&&e.line>1)return[];const t=e.text.slice(0,e.column).trim();return[...this._executionContexts.values()].map((e=>`cd ${this.target.executionContextName(e.description)}`)).filter((e=>e.startsWith(t))).map((t=>({label:t,start:0,length:e.text.length})))}async evaluate(e){let t,r;if(void 0!==e.frameId){if(r=this._pausedDetails?this._pausedDetails.stackTrace.frame(e.frameId):void 0,!r)throw new y.ProtocolError(this._stackFrameNotFoundError());if(t=r.callFrameId(),!t)throw new y.ProtocolError(this._evaluateOnAsyncFrameError())}if("repl"===e.context&&e.expression.startsWith("cd ")){const t=e.expression.substring("cd ".length).trim();for(const e of this._executionContexts.values())if(this.target.executionContextName(e.description)===t)return this._selectedContext=e,{result:`[${t}]`,variablesReference:0}}const n="clipboard"===e.context?{expression:(0,x.serializeForClipboardTmpl)(e.expression,"2"),includeCommandLineAPI:!0,returnByValue:!0,objectGroup:"console"}:{expression:e.expression,includeCommandLineAPI:!0,objectGroup:"console",generatePreview:!0,timeout:"hover"===e.context?this.getHoverEvalTimeout():void 0};if("repl"===e.context&&(n.expression=d.wrapObjectLiteral(n.expression),-1!==n.expression.indexOf("await"))){const e=d.rewriteTopLevelAwait(n.expression);e&&(n.expression=e,n.awaitPromise=!0)}const i=this.evaluator.evaluate(t?{...n,callFrameId:t}:{...n,contextId:this._selectedContext?this._selectedContext.description.id:void 0},{isInternalScript:!1,stackFrame:r});if("repl"===e.context)return await this._evaluateRepl(i,e.format);const o=await i;if(!o)throw new y.ProtocolError(g.createSilentError(E(12,null)));if(o.exceptionDetails){let e=o.exceptionDetails.exception?S.previewException(o.exceptionDetails.exception).title:o.exceptionDetails.text;throw e.startsWith("Uncaught")||(e="Uncaught "+e),new y.ProtocolError(g.createSilentError(e))}const s=t?this._pausedVariables:this.replVariables;if(!s)throw new y.ProtocolError(g.createSilentError(E(13,null)));const a=await s.createFloatingVariable(o.result).toDap(e.context,e.format);return{type:o.result.type,result:a.value,variablesReference:a.variablesReference,namedVariables:a.namedVariables,indexedVariables:a.indexedVariables}}getHoverEvalTimeout(){var e;const t=null===(e=this.launchConfig.timeouts)||void 0===e?void 0:e.hoverEvaluation;return void 0===t?500:t<=0?void 0:t}async _evaluateRepl(e,t){const r=await e;if(!r)return{result:"",variablesReference:0};if(r.exceptionDetails){const e=await new w.ExceptionMessage(r.exceptionDetails).toDap(this);throw new y.ProtocolError(g.replError(e.output))}{const e=this._selectedContext&&this.defaultExecutionContext()!==this._selectedContext?`[33m[${this.target.executionContextName(this._selectedContext.description)}] `:"",n=await this.replVariables.createFloatingVariable(r.result).toDap("repl",t);return{variablesReference:n.variablesReference,result:`${e}${n.value}`}}}_initialize(){this._cdp.Runtime.on("executionContextCreated",(e=>{this._executionContextCreated(e.context)})),this._cdp.Runtime.on("executionContextDestroyed",(e=>{this._executionContextDestroyed(e.executionContextId)})),this._cdp.Runtime.on("executionContextsCleared",(()=>{this.launchConfig.noDebug||this._ensureDebuggerEnabledAndRefreshDebuggerId(),this.replVariables.clear(),this._executionContextsCleared()})),this._cdp.Inspector.on("targetReloadedAfterCrash",(()=>{this._breakpointManager.reapply()})),"console"===this.launchConfig.outputCapture&&(this._cdp.Runtime.on("consoleAPICalled",(e=>{this.console.dispatch(this,e)})),this._cdp.Runtime.on("exceptionThrown",(e=>{this.console.enqueue(this,new w.ExceptionMessage(e.exceptionDetails))}))),this._cdp.Runtime.on("inspectRequested",(e=>{e.hints.copyToClipboard?this._copyObjectToClipboard(e.object):e.hints.queryObjects?this.console.enqueue(this,new w.QueryObjectsMessage(e.object,this.cdp())):this._revealObject(e.object)})),this._cdp.Debugger.on("paused",(async e=>this._onPaused(e))),this._cdp.Debugger.on("resumed",(()=>this.onResumed())),this._cdp.Debugger.on("scriptParsed",(e=>this._onScriptParsed(e))),this._cdp.Debugger.on("scriptFailedToParse",(e=>this._onScriptParsed(e))),this._cdp.Runtime.enable({}),this.launchConfig.noDebug?this.logger.info("runtime.launch","Running with noDebug, so debug domains are disabled"):this._ensureDebuggerEnabledAndRefreshDebuggerId(),this.target.initialize(),this._dap.with((e=>e.thread({reason:"started",threadId:this.id})))}dapInitialized(){this._dap.resolve()}async refreshStackTrace(){if(!this._pausedDetails)return;const e=this._pausedDetailsEvent.get(this._pausedDetails);e&&(this._pausedDetails=this._createPausedDetails(e)),this._onThreadResumed(),await this._onThreadPaused(this._pausedDetails)}_executionContextCreated(e){const t=new D(this,e);this._executionContexts.set(e.id,t)}_executionContextDestroyed(e){this._executionContexts.get(e)&&this._executionContexts.delete(e)}_executionContextsCleared(){this._removeAllScripts(),this._breakpointManager.executionContextWasCleared(),this._pausedDetails&&this.onResumed(),this._executionContexts.clear()}_ensureDebuggerEnabledAndRefreshDebuggerId(){this._cdp.Debugger.enable({}).then((e=>{this.debuggerReady.resolve(),e&&M._allThreadsByDebuggerId.set(e.debuggerId,this)})),this.exceptionPause.apply(this._cdp)}async _onPaused(e){var t,r,n,i;const o=(null!==(t=e.hitBreakpoints)&&void 0!==t?t:[]).filter((e=>e!==this._pauseOnSourceMapBreakpointId)),s="Break on start"===e.reason,a=e.callFrames[0].location,c=(null===(r=e.data)||void 0===r?void 0:r.scriptId)||a.scriptId,u="instrumentation"===e.reason&&(null===(n=e.data)||void 0===n?void 0:n.scriptId)||this._breakpointManager.isEntrypointBreak(o,c);if(this.evaluator.setReturnedValue(null===(i=e.callFrames[0])||void 0===i?void 0:i.returnValue),u){if("auto"===this.launchConfig.perScriptSourcemaps&&this._shouldEnablePerScriptSms(e)&&await this._enablePerScriptSourcemaps(),e.data&&!s&&(e.data.__rewriteAs="breakpoint"),await this._handleSourceMapPause(c,a));else if(s);else if(await this.isCrossThreadStep(e))e.data={...e.data,__rewriteAs:"step"};else if(!await this._breakpointManager.shouldPauseAt(e,o,this.target.entryBreakpoint,!0))return this.resume()}else if(!("exception"===e.reason||"promiseRejection"===e.reason?await this.exceptionPause.shouldPauseAt(e):await this._breakpointManager.shouldPauseAt(e,o,this.target.entryBreakpoint,!1)))return this.resume();if(s&&("continueOnAttach"in this.launchConfig&&this.launchConfig.continueOnAttach||"pwa-extensionHost"===this.launchConfig.type||this.target instanceof b.NodeWorkerTarget))return void this.resume();const l=this._pausedDetails=this._createPausedDetails(e);if(this._excludedCallers.length&&await this._matchesExcludedCaller(this._pausedDetails.stackTrace))return this.logger.info("runtime","Skipping pause due to excluded caller"),void this.resume();const p=await this._smartStepper.getSmartStepDirection(l,this._expectedPauseReason);if(this._pausedDetails===l){switch(p){case 0:return this.stepInto();case 2:return this.stepOut();case 1:return this.stepOver()}this._waitingForStepIn=void 0,this._pausedDetailsEvent.set(l,e),this._pausedVariables=this.replVariables.createDetached(),await this._onThreadPaused(l)}}async _matchesExcludedCaller(e){var t;if(!this._excludedCallers.length)return!1;const r=e.frames[0],n=r instanceof P.StackFrame&&await r.uiLocation();if(!n)return!1;let i,o;const s=[];for(const{caller:r,target:a}of this._excludedCallers)if(a.line===n.lineNumber&&a.column===n.columnNumber&&(null!=i||(i=await n.source.toDapShallow()),A(i,a.source))){o||(o=await e.loadFrames(50).then((e=>Promise.all(e.slice(1).filter((0,u.isInstanceOf)(P.StackFrame)).map((e=>e.uiLocation()))))));for(let e=0;e<o.length;e++){const n=o[e];if(!n||n.lineNumber!==r.line||n.columnNumber!==r.column)continue;const i=null!==(t=s[e])&&void 0!==t?t:s[e]=await n.source.toDapShallow();if(A(i,r.source))return!0}}return!1}onResumed(){this._pausedDetails=void 0,this._pausedVariables=void 0,this.evaluator.setReturnedValue(void 0),this._onThreadResumed()}async dispose(){this.disposed=!0,this._removeAllScripts(!0);for(const[e,t]of M._allThreadsByDebuggerId)t===this&&M._allThreadsByDebuggerId.delete(e);this._executionContextsCleared(),this.console.length&&await new Promise((e=>this.console.onDrained(e))),this.console.dispose(),await this._dap.with((e=>e.thread({reason:"exited",threadId:this.id})))}rawLocation(e){if("location"in e){const t=e;return{lineNumber:Math.max(0,t.location.lineNumber)+1,columnNumber:Math.max(0,t.location.columnNumber||0)+1,scriptId:t.location.scriptId}}return{lineNumber:Math.max(0,e.lineNumber)+1,columnNumber:Math.max(0,e.columnNumber||0)+1,scriptId:e.scriptId}}rawLocationToUiLocation(e){if(!e.scriptId||this.disposed)return;if(this.launchConfig.noDebug)return;const t=this._sourceContainer.getScriptById(e.scriptId);return t?t.resolvedSource?this._sourceContainer.preferredUiLocation({...(0,k.rawToUiOffset)(e,t.resolvedSource.runtimeScriptOffset),source:t.resolvedSource}):t.source.then((t=>this._sourceContainer.preferredUiLocation({...(0,k.rawToUiOffset)(e,t.runtimeScriptOffset),source:t}))):this.rawLocationToUiLocationWithWaiting(e)}async rawLocationToUiLocationWithWaiting(e){const t=e.scriptId?await this.getScriptByIdOrWait(e.scriptId):void 0;if(!t)return;const r=await t.source;return this._sourceContainer.preferredUiLocation({...(0,k.rawToUiOffset)(e,r.runtimeScriptOffset),source:r})}getScriptByIdOrWait(e,t=500){return this._sourceContainer.getScriptById(e)||this.waitForScriptId(e,t)}waitForScriptId(e,t){return new Promise((r=>{const n=this._sourceContainer.onScript((t=>{t.scriptId===e&&(r(t),n.dispose(),clearTimeout(i))})),i=setTimeout((()=>{r(void 0),n.dispose()}),t)}))}async renderDebuggerLocation(e){const t=this.rawLocation(e),r=await this.rawLocationToUiLocation(t);return r?`@ ${await r.source.prettyName()}:${r.lineNumber}`:`@ VM${t.scriptId||"XX"}:${t.lineNumber}`}async updateCustomBreakpoint(e,t){if(!this.target.supportsCustomBreakpoints())return;const r=(0,_.customBreakpoints)().get(e);r&&await r.apply(this._cdp,t)}_createPausedDetails(e){var t,r;const n="assert"===e.reason||"exception"===e.reason||"promiseRejection"===e.reason||"other"===e.reason||"ambiguous"===e.reason;if(!(e.hitBreakpoints&&e.hitBreakpoints.length)&&n||this._sourceContainer.clearDisabledSourceMaps(),e.hitBreakpoints&&this._sourceMapDisabler)for(const t of this._sourceMapDisabler(e.hitBreakpoints))this._sourceContainer.disableSourceMapForSource(t);const i=P.StackTrace.fromDebugger(this,e.callFrames,e.asyncStackTrace,e.asyncStackTraceId);if("breakpoint"===(null===(t=e.data)||void 0===t?void 0:t.__rewriteAs))return{thread:this,stackTrace:i,reason:"breakpoint",description:E(14,null)};if("step"===(null===(r=e.data)||void 0===r?void 0:r.__rewriteAs))return{thread:this,stackTrace:i,reason:"step",description:E(15,null)};switch(e.reason){case"assert":return{thread:this,stackTrace:i,reason:"exception",description:E(16,null)};case"debugCommand":return{thread:this,stackTrace:i,reason:"pause",description:E(17,null)};case"DOM":return{thread:this,stackTrace:i,reason:"data breakpoint",description:E(18,null)};case"EventListener":return this._resolveEventListenerBreakpointDetails(i,e);case"exception":return{thread:this,stackTrace:i,reason:"exception",description:E(19,null),exception:e.data};case"promiseRejection":return{thread:this,stackTrace:i,reason:"exception",description:E(20,null),exception:e.data};case"instrumentation":return e.data&&e.data.scriptId?{thread:this,stackTrace:i,reason:"step",description:E(21,null)}:{thread:this,stackTrace:i,reason:"function breakpoint",description:E(22,null)};case"XHR":return{thread:this,stackTrace:i,reason:"data breakpoint",description:E(23,null)};case"OOM":return{thread:this,stackTrace:i,reason:"exception",description:E(24,null)};default:if(e.hitBreakpoints&&e.hitBreakpoints.length){let t=!1;const r=this.target.entryBreakpoint;if(r&&e.hitBreakpoints.includes(r.cdpId)){t=!0;const n=this._sourceContainer.source({path:(0,m.fileUrlToAbsolutePath)(r.path)});void 0!==n&&(t=!this._sourceContainer.currentSiblingUiLocations({lineNumber:e.callFrames[0].location.lineNumber+1,columnNumber:(e.callFrames[0].location.columnNumber||0)+1,source:n}).some((e=>this._breakpointManager.hasAtLocation(e))))}return t||this._breakpointManager.registerBreakpointsHit(e.hitBreakpoints),{thread:this,stackTrace:i,hitBreakpoints:e.hitBreakpoints,reason:t?"entry":"breakpoint",description:E(25,null)}}return this._expectedPauseReason?{thread:this,stackTrace:i,description:E(26,null),...this._expectedPauseReason}:{thread:this,stackTrace:i,reason:"pause",description:E(27,null)}}}_resolveEventListenerBreakpointDetails(e,t){const r=t.data,n=r&&r.eventName||"",i=(0,_.customBreakpoints)().get(n);if(i){const t=i.details(r);return{thread:this,stackTrace:e,reason:"function breakpoint",description:t.short,text:t.long}}return{thread:this,stackTrace:e,reason:"function breakpoint",description:E(28,null)}}_clearDebuggerConsole(){return{category:"console",output:"[2J"}}scriptsFromSource(e){return this._sourceScripts.get(e)||new Set}_removeAllScripts(e=!1){this._sourceContainer.clear(e),this._scriptSources.clear(),this._sourceMapLoads.clear()}_onScriptParsed(e){if(e.url.endsWith(".cdp"))return;if(f.isAbsolute(e.url)&&(e.url=f.absolutePathToFileUrl(e.url)),this._sourceContainer.getScriptById(e.scriptId))return;e.url&&(e.url=this.target.scriptUrlToUrl(e.url));let t=this._scriptSources.get(e.url);t||(t=new Map,this._scriptSources.set(e.url,t));const r={url:e.url,scriptId:e.scriptId,source:(async()=>{const n=e.url&&e.hash&&t&&t.get(e.hash);if(n)return n.addScriptId(e.scriptId),n;const i=e.startLine||e.startColumn?{lineOffset:e.startLine,columnOffset:e.startColumn}:void 0,o=e.url.endsWith("#vscode-extension")?{lineOffset:2,columnOffset:0}:void 0;let s;e.sourceMapURL&&this.launchConfig.sourceMaps&&(s=f.isDataUri(e.sourceMapURL)?e.sourceMapURL:e.url&&f.completeUrl(e.url,e.sourceMapURL)||e.url,s||this._dap.with((t=>g.reportToConsole(t,`Could not load source map from ${e.sourceMapURL}`))));const a=await this._sourceContainer.addSource(e.url,(async()=>{const t=await this._cdp.Debugger.getScriptSource({scriptId:e.scriptId});return t?t.scriptSource:void 0}),s,i,o,e.hash);t.set(e.hash,a),a.addScriptId(e.scriptId);let c=this._sourceScripts.get(a);return c||(c=new Set,this._sourceScripts.set(a,c)),c.add(r),a})(),hash:e.hash};r.source.then((e=>r.resolvedSource=e)),this._sourceContainer.addScriptById(r),e.sourceMapURL&&this._getOrStartLoadingSourceMaps(r)}async _handleSourceMapPause(e,t){this._pausedForSourceMapScriptId=e;const r=this._sourceContainer.sourceMapTimeouts().sourceMapMinPause,n=r+this._sourceContainer.sourceMapTimeouts().sourceMapCumulativePause,i=this._sourceContainer.getScriptById(e);if(!i)return this._pausedForSourceMapScriptId=void 0,!1;const o=new c.HrTime,s=await Promise.race([this._getOrStartLoadingSourceMaps(i,t),(0,p.delay)(n)]),a=o.elapsed().ms,u=this._sourceContainer.sourceMapTimeouts().sourceMapCumulativePause-Math.max(a-r,0);return this._sourceContainer.setSourceMapTimeouts({...this._sourceContainer.sourceMapTimeouts(),sourceMapCumulativePause:u}),this.logger.verbose("internal","Blocked execution waiting for source-map",{timeSpentWallClockInMs:a,sourceMapCumulativePause:u}),s||this._dap.with((e=>e.output({category:"stderr",output:E(29,null,i.url||i.scriptId,n)}))),console.assert(this._pausedForSourceMapScriptId===e),this._pausedForSourceMapScriptId=void 0,!!s&&s.map(k.base1To0).some((e=>e.lineNumber===t.lineNumber&&(void 0===t.columnNumber||t.columnNumber===e.columnNumber)))}_getOrStartLoadingSourceMaps(e,t){const r=this._sourceMapLoads.get(e.scriptId);if(r)return r;const n=e.source.then((e=>this._sourceContainer.waitForSourceMapSources(e))).then((r=>r.length&&this._scriptWithSourceMapHandler?this._scriptWithSourceMapHandler(e,r,t):[]));return this._sourceMapLoads.set(e.scriptId,n),n}async _revealObject(e){if("function"!==e.type||void 0===e.objectId)return;const t=await this._cdp.Runtime.getProperties({objectId:e.objectId,ownProperties:!0});if(t)for(const e of t.internalProperties||[]){if("[[FunctionLocation]]"!==e.name||!e.value||"internal#location"!==e.value.subtype)continue;const t=await this.rawLocationToUiLocation(this.rawLocation(e.value.value));t&&this._sourceContainer.revealUiLocation(t);break}}async _copyObjectToClipboard(e){if(e.objectId)try{const t=await(0,x.serializeForClipboard)({cdp:this.cdp(),objectId:e.objectId,args:[2],silent:!0,returnByValue:!0});this._dap.with((e=>e.copyRequested({text:t.value})))}catch(e){}finally{this.cdp().Runtime.releaseObject({objectId:e.objectId}).catch((()=>{}))}else this._dap.with((t=>t.copyRequested({text:S.previewRemoteObject(e,"copy")})))}async _onThreadPaused(e){let t;this._expectedPauseReason=void 0,this._onPausedEmitter.fire(e),e.hitBreakpoints&&(t=await Promise.race([(0,p.delay)(1e3).then((()=>{})),Promise.all(e.hitBreakpoints.map((e=>this._breakpointManager._resolvedBreakpoints.get(e))).filter((0,u.isInstanceOf)(v.UserDefinedBreakpoint)).map((e=>e.untilSetCompleted().then((()=>e.dapId)))))])),this._dap.with((r=>r.stopped({reason:e.reason,description:e.description,threadId:this.id,text:e.text,hitBreakpointIds:t,allThreadsStopped:!1})))}_onThreadResumed(){this._dap.with((e=>e.continued({threadId:this.id,allThreadsContinued:!1})))}isCrossThreadStep(e){if(!e.asyncStackTraceId||!e.asyncStackTraceId.debuggerId)return!1;const t=M.threadForDebuggerId(e.asyncStackTraceId.debuggerId);if(!t||!t._waitingForStepIn)return!1;const r=t._waitingForStepIn.stackTrace;return t._cdp.Debugger.getStackTrace({stackTraceId:e.asyncStackTraceId}).then((e=>!(!e||!e.stackTrace.callFrames.length)&&(!!P.StackFrame.fromRuntime(t,e.stackTrace.callFrames[0],!1).equivalentTo(r.frames[0])&&(t._waitingForStepIn=void 0,!0))))}async setScriptSourceMapHandler(e,t){this._scriptWithSourceMapHandler=t;const r=e&&this._sourceContainer.sourceMapTimeouts().sourceMapMinPause&&t;if(r&&!this._pauseOnSourceMapBreakpointId){const e=await this._cdp.Debugger.setInstrumentationBreakpoint({instrumentation:"beforeScriptWithSourceMapExecution"});this._pauseOnSourceMapBreakpointId=e?e.breakpointId:void 0}else if(!r&&this._pauseOnSourceMapBreakpointId){const e=this._pauseOnSourceMapBreakpointId;this._pauseOnSourceMapBreakpointId=void 0,await this._cdp.Debugger.removeBreakpoint({breakpointId:e})}}async _enablePerScriptSourcemaps(){await this._breakpointManager.updateEntryBreakpointMode(this,1),await this.setScriptSourceMapHandler(!1,this._scriptWithSourceMapHandler)}_shouldEnablePerScriptSms(e){var t,r,n;return!("instrumentation"!==e.reason||!e.data||!(null===(t=e.data.sourceMapURL)||void 0===t?void 0:t.startsWith("data:")))&&((null===(r=e.data.url)||void 0===r?void 0:r.startsWith("webpack"))||(null===(n=e.data.url)||void 0===n?void 0:n.startsWith("ng:")))}setSourceMapDisabler(e){this._sourceMapDisabler=e}static threadForDebuggerId(e){return M._allThreadsByDebuggerId.get(e)}async replacePathsInStackTrace(e){const t=[];for(const r of new h.StackTraceParser(e)){if("string"==typeof r){t.push(r);continue}const e=this._sourceContainer.getSourceByOriginalUrl(f.absolutePathToFileUrl(r.path))||this._sourceContainer.getSourceByOriginalUrl(r.path);e?t.push(this._sourceContainer.preferredUiLocation({columnNumber:r.position.base1.columnNumber,lineNumber:r.position.base1.lineNumber,source:e}).then((({source:e,lineNumber:t,columnNumber:r})=>`${e.absolutePath}:${t}:${r}`))):t.push(r.toString())}return(await Promise.all(t)).join("")}}t.Thread=M,M._lastThreadId=0,M._allThreadsByDebuggerId=new Map},40224:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return o(t,e),t},c=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.VariableStore=void 0;const u=r(26487),l=r(55053),p=a(r(33463)),d=r(63216),h=r(7678),f=r(72223),m=r(34285),g=r(73454),y=r(58116),b=a(r(44413)),v=r(1032),w=a(r(28951)),_=r(56102),S=r(61392),k=r(38453),P=r(43534),x=r(19199),C=r(89627),E=r(14043),D=p.loadMessageBundle(r(71017).join(__dirname,"adapter\\variableStore.js")),O=(()=>{let e=0;return()=>e++%2147483646+1})(),A=e=>{if("string"==typeof e)return{value:e};const t=e;return t.objectId?{objectId:t.objectId}:t.unserializableValue?{unserializableValue:t.unserializableValue}:{value:t.value}},M=new Set(["typedarray","dataview","arraybuffer","webassemblymemory"]),T=/^[$a-z_][0-9a-z_$]*$/i,j=/^#[0-9a-z_$]+$/i,R=(e,t,r)=>{const n=(0,f.statementsToFunction)(e,(0,f.parseSource)(t),r);return(0,u.generate)(n)},F=e=>!!e&&"object"==typeof e&&"readMemory"in e&&"writeMemory"in e;class I{constructor(e,t,r,n,i,o,s){this.cdp=e,this.parent=t,this.vars=n,this.locationProvider=i,this.currentRef=o,this.settings=s,this.name=r.name,this.presentationHint=r.presentationHint,this.sortOrder=r.sortOrder||0}createVariable(e,t,...r){var n;const i=new e(new I(this.cdp,null===(n=this.currentRef)||void 0===n?void 0:n.call(this),t,this.vars,this.locationProvider,(()=>i),this.settings),...r);return i.id>0&&this.vars.add(i),i}createVariableByType(e,t,r){return w.isArray(t)?this.createVariable(W,e,t):t.objectId&&!w.subtypesWithoutPreview.has(t.subtype)?this.createVariable(H,e,t,r):this.createVariable(L,e,t)}async createObjectPropertyVars(e){var t,r;const n=[];if(this.settings.customPropertiesGenerator){const{result:t,errorDescription:r}=await this.evaluateCodeForObject(e,[],this.settings.customPropertiesGenerator,[],!1);t&&"undefined"!==t.type?e=t:n.push([this.createVariable(q,{name:"",sortOrder:-1},t,(null==t?void 0:t.description)||r||D(0,null))])}if(!e.objectId)return[];const[i,o,s]=await Promise.all([this.cdp.Runtime.getProperties({objectId:e.objectId,accessorPropertiesOnly:!0,ownProperties:!1,generatePreview:!0}),this.cdp.Runtime.getProperties({objectId:e.objectId,ownProperties:!0,generatePreview:!0}),(0,P.getStringyProps)({cdp:this.cdp,args:[64],objectId:e.objectId,throwOnSideEffect:!0,returnByValue:!0}).catch((()=>({value:{}})))]);if(!i||!o)return[];const a=new Map,c=[];for(const e of i.result)e.symbol?c.push(e):"__proto__"===e.name&&(null===(t=o.internalProperties)||void 0===t?void 0:t.some((e=>"[[Prototype]]"===e.name)))||a.set(e.name,e);for(const e of o.result)e.get||e.set||(e.symbol?c.push(e):a.set(e.name,e));for(const e of null!==(r=o.privateProperties)&&void 0!==r?r:[])a.set(e.name,e);for(const t of[a.values(),c.values()])for(const r of t)n.push(this.createPropertyVar(r,e,s.value.hasOwnProperty(r.name)?s.value[r.name]:void 0));for(const e of o.internalProperties||[]){if("[[StableObjectId]]"===e.name)continue;let t;"[[FunctionLocation]]"===e.name&&e.value&&"internal#location"===e.value.subtype?t=this.createVariable(U,{name:e.name,presentationHint:{visibility:"internal",attributes:["readOnly"]},sortOrder:2},e.value):void 0!==e.value&&(t=this.createVariableByType({name:e.name,presentationHint:{visibility:"internal"},sortOrder:2},e.value)),t&&n.push([t])}return(0,h.flatten)(await Promise.all(n))}async getCustomObjectDescription(e,t,r){const n="__proto__"===e&&t.description||w.previewRemoteObject(t,r);if(!this.settings.customDescriptionGenerator)return n;const{result:i,errorDescription:o}=await this.evaluateCodeForObject(t,["defaultValue"],this.settings.customDescriptionGenerator,[n],!0);return void 0!==(null==i?void 0:i.value)?String(i.value):D(1,null,n,o)}async createPropertyVar(e,t,r){const n=[],i={name:e.name,presentationHint:{},sortOrder:0},o=e.get&&"undefined"!==e.get.type,s=e.set&&"undefined"!==e.set.type;return(e=>e.hasOwnProperty("configurable"))(e)?(!1!==e.enumerable||o||(i.presentationHint.visibility="internal",i.sortOrder=1),(!1===e.writable||o&&!s)&&(i.presentationHint.attributes=["readOnly"])):(i.presentationHint.visibility="private",i.sortOrder=1),"value"in e&&e.value&&n.push(this.createVariableByType(i,e.value,r)),o?n.push(this.createVariable(J,i,e.get,t)):s&&n.push(this.createVariable(K,i,e.set)),n}async evaluateCodeForObject(e,t,r,n,i){try{const o=await this.cdp.Runtime.callFunctionOn({objectId:e.objectId,functionDeclaration:R(t,r,i),arguments:n.map(A)});if(o){if(void 0===o.exceptionDetails)return{result:o.result};if(o&&o.result.description)return{errorDescription:o.result.description}}return{errorDescription:D(2,null)}}catch(e){return{errorDescription:e.stack||e.message||String(e)}}}}class L{constructor(e,t){this.context=e,this.remoteObject=t,this.id=O()}get name(){return this.context.name}get sortOrder(){return this.context.sortOrder}get accessor(){const{parent:e,name:t}=this.context;return!e||e instanceof Q?this.context.name:e instanceof z?e.accessor:"number"==typeof t||/^[0-9]+$/.test(t)?`${e.accessor}[${t}]`:T.test(t)||"this"===e.accessor&&j.test(t)?`${e.accessor}.${t}`:`${e.accessor}[${JSON.stringify(t)}]`}async toDap(e,t){let r=this.context.name;return this.context.parent instanceof Q&&(r=await this.context.parent.getRename(r)),Promise.resolve({name:r,value:w.previewRemoteObject(this.remoteObject,e,t),evaluateName:this.accessor,type:this.remoteObject.type,variablesReference:0,presentationHint:this.context.presentationHint})}async setProperty(e,t){const r=await this.context.cdp.Runtime.callFunctionOn({objectId:this.remoteObject.objectId,functionDeclaration:`function(a) { return this[a] = ${t}; ${(0,_.getSourceSuffix)()} }`,arguments:[A(e)],silent:!0});if(!r)throw new v.ProtocolError(b.createSilentError(D(3,null)));if(r.exceptionDetails)throw new v.ProtocolError(Z(r.exceptionDetails));return this.context.createVariableByType({name:e},r.result)}async getChildren(e){return Promise.resolve([])}}class N{constructor(e){this.child=e,this.id=O()}getChildren(){return Promise.resolve([this.child])}}class B extends L{constructor(e,t,r,n){var i,o;super(e,{type:null!==(o=null===(i=r[0])||void 0===i?void 0:i.type)&&void 0!==o?o:"string"}),this.value=t,this.args=r,this.stackTrace=n}toDap(){return Promise.resolve({name:this.context.name,value:this.value,variablesReference:this.stackTrace||this.args.some(w.previewAsObject)?this.id:0})}getChildren(e){const t=[],{args:r,stackTrace:n}=this;for(let e=0;e<r.length;++e)w.previewAsObject(r[e])&&t.push(this.context.createVariableByType({name:`arg${e}`,sortOrder:e},r[e]));return n&&t.push(this.context.createVariable($,{name:"",sortOrder:Number.MAX_SAFE_INTEGER},this.remoteObject,n)),Promise.resolve(t)}}class $ extends L{constructor(e,t,r){super(e,t),this.stacktrace=r}async toDap(){return{name:"",value:await this.stacktrace.format(),variablesReference:0}}}class U extends L{constructor(e,t){super(e,t),this.location=t.value}async toDap(){return{name:this.context.name,value:await this.context.locationProvider.renderDebuggerLocation(this.location),variablesReference:0,presentationHint:{visibility:"internal"}}}}class q extends L{constructor(e,t,r){super(e,t),this.message=r}get accessor(){if(!(this.context.parent instanceof L))throw new Error("ErrorVariable must have a parent Variable");return this.context.parent.accessor}toDap(){return Promise.resolve({name:this.context.name,value:this.message,variablesReference:0})}}const V=Symbol("NoStringRepr");class H extends L{constructor(e,t,r){super(e,t),this.customStringRepr=r}async toDap(e,t){const[r,n]=await Promise.all([await super.toDap(e,t),await this.getValueRepresentation(e)]);return{...r,type:this.remoteObject.className||this.remoteObject.subtype||this.remoteObject.type,variablesReference:this.id,memoryReference:M.has(this.remoteObject.subtype)?String(this.id):void 0,value:n}}async getValueRepresentation(e){if("string"==typeof this.customStringRepr)return this.customStringRepr;if(!this.context.parent&&this.customStringRepr!==V)try{const e=await(0,P.getToStringIfCustom)({cdp:this.context.cdp,args:[64],objectId:this.remoteObject.objectId,returnByValue:!0});if(e.value)return this.customStringRepr=e.value}catch(e){this.customStringRepr=V}return await this.context.getCustomObjectDescription(this.context.name,this.remoteObject,e)}async readMemory(e,t){const r=await(0,C.readMemory)({cdp:this.context.cdp,args:[e,t],objectId:this.remoteObject.objectId,returnByValue:!0});return Buffer.from(r.value,"hex")}async writeMemory(e,t){return(await(0,E.writeMemory)({cdp:this.context.cdp,args:[e,t.toString("hex")],objectId:this.remoteObject.objectId,returnByValue:!0})).value}getChildren(e){return this.context.createObjectPropertyVars(this.remoteObject)}}class W extends H{constructor(e,t){super(e,t,V),this.length=0;const r=String(t.description).match(/\(([0-9]+)\)/);this.length=r?+r[1]:0}async toDap(e){return{...await super.toDap(e),indexedVariables:this.length>100?this.length:void 0,namedVariables:this.length>100?1:void 0}}async getChildren(e){switch(null==e?void 0:e.filter){case"indexed":return this.getArraySlots(e);case"named":return this.getArrayProperties();default:return Promise.all([this.getArrayProperties(),this.getArraySlots()]).then(h.flatten)}}async getArrayProperties(){try{const e=await(0,S.getArrayProperties)({cdp:this.context.cdp,args:[],objectId:this.remoteObject.objectId,generatePreview:!0});return this.context.createObjectPropertyVars(e)}catch(e){return[]}}async getArraySlots(e){const t=e&&void 0!==e.start?e.start:-1,r=e&&void 0!==e.count?e.count:-1;let n;try{n=await(0,k.getArraySlots)({cdp:this.context.cdp,generatePreview:!1,args:[t,r],objectId:this.remoteObject.objectId})}catch(e){return[]}const i=await this.context.createObjectPropertyVars(n);return n.objectId&&await this.context.cdp.Runtime.releaseObject({objectId:n.objectId}),i}}class G extends W{async toDap(e){return this.remoteObject.preview?{...await super.toDap(e),name:w.formatAsTable(this.remoteObject.preview)}:super.toDap(e)}}class z extends L{constructor(e,t){super(e,t)}getChildren(e){return this.context.createObjectPropertyVars(this.remoteObject)}}class K extends z{async toDap(e,t){return{...await super.toDap(e,t),value:"write-only",variablesReference:this.id}}}class J extends z{constructor(e,t,r){super(e,t),this.parentObject=r}async toDap(e,t){const r=await super.toDap(e,t);return r.variablesReference=this.id,r.presentationHint={...r.presentationHint,lazy:!0},r}async getChildren(e){try{const e=await(0,x.invokeGetter)({cdp:this.context.cdp,objectId:this.parentObject.objectId,args:[this.context.name]});return[this.context.createVariableByType({name:this.name,presentationHint:this.context.presentationHint},e)]}catch(e){if(!(e instanceof _.RemoteException))throw e}return super.getChildren(e)}}class Q{constructor(e,t,r,n,i){this.remoteObject=e,this.context=t,this.ref=r,this.extraProperties=n,this.renameProvider=i,this.id=O()}async getChildren(e){const t=await this.context.createObjectPropertyVars(this.remoteObject),r=new Set(t.map((e=>e.name)));for(const e of this.extraProperties)r.has(e.name)||t.push(this.context.createVariableByType({name:e.name},e.value));return t}async getRename(e){return(await this.renameProvider.provideOnStackframe(this.ref.stackFrame)).getOriginalName(e,this.ref.stackFrame.rawPosition)||e}async setProperty(e,t){const r=await this.context.cdp.Debugger.evaluateOnCallFrame({expression:`${t} ${(0,_.getSourceSuffix)()}`,callFrameId:this.ref.callFrameId});if(!r)throw new v.ProtocolError(b.createUserError(D(4,null)));if(r.exceptionDetails)throw new v.ProtocolError(Z(r.exceptionDetails));return await this.context.cdp.Debugger.setVariableValue({callFrameId:this.ref.callFrameId,scopeNumber:this.ref.scopeNumber,variableName:e,newValue:A(r.result)}),this.context.createVariableByType({name:e},r.result)}}class X{constructor(){this.value=new Map}get(e){return this.value.get(e)}add(e){this.value.set(e.id,e)}clear(){this.value.clear()}}let Y=n=class{constructor(e,t,r,n,i){this.renameProvider=e,this.cdp=t,this.dap=r,this.launchConfig=n,this.locationProvider=i,this.vars=new X}createDetached(){return new n(this.renameProvider,this.cdp,this.dap,this.launchConfig,this.locationProvider)}clear(){this.vars.clear()}createFloatingVariable(e){return this.createFloatingContext().createVariableByType({name:""},e)}createVariableForOutput(e,t,r,n){const i=this.createFloatingContext(),o=1===t.length&&"table"===n?i.createVariable(G,{name:""},t[0]):1===t.length&&w.previewAsObject(t[0])&&!r?i.createVariableByType({name:""},t[0]):i.createVariable(B,{name:""},e,t,r),s=new N(o);return this.vars.add(s),s}createScope(e,t,r){const n=new Q(e,new I(this.cdp,void 0,{name:""},this.vars,this.locationProvider,(()=>n),{customDescriptionGenerator:this.launchConfig.customDescriptionGenerator,customPropertiesGenerator:this.launchConfig.customPropertiesGenerator}),t,r,this.renameProvider);return this.vars.add(n),n}hasVariable(e){return!!this.vars.get(e)}hasMemory(e){return F(this.vars.get(Number(e)))}async readMemory(e,t,r){const n=this.vars.get(Number(e));return F(n)?n.readMemory(t,r):void 0}async writeMemory(e,t,r){const n=this.vars.get(Number(e)),i=F(n)?await n.writeMemory(t,r):0;return i>0&&this.dap.invalidated({areas:["variables"]}),i}async getVariables(e){const t=this.vars.get(e.variablesReference);if(!t)return[];const r=await t.getChildren(e);return(await Promise.all(r.map((r=>r.toDap(t instanceof Q||t instanceof N?"repl":"propertyValue",e.format).then((e=>({v:r,dap:e}))))))).sort(((e,t)=>e.v.sortOrder-t.v.sortOrder||+e.dap.name-+t.dap.name||e.dap.name.localeCompare(t.dap.name))).map((e=>e.dap))}async setVariable(e){const t=this.vars.get(e.variablesReference);if(!e.value)throw new v.ProtocolError(b.createUserError(D(5,null)));if(t instanceof Q||t instanceof L){const r=await t.setProperty(e.name,e.value);return await r.toDap("propertyValue",e.format)}throw new v.ProtocolError(b.createSilentError(D(6,null)))}createFloatingContext(){return new I(this.cdp,void 0,{name:"<unnamed>"},this.vars,this.locationProvider,void 0,{customDescriptionGenerator:this.launchConfig.customDescriptionGenerator,customPropertiesGenerator:this.launchConfig.customPropertiesGenerator})}};function Z(e){const t=e.exception&&w.previewException(e.exception).title||e.text;return b.createUserError(t)}Y=n=s([(0,l.injectable)(),c(0,(0,l.inject)(m.IRenameProvider)),c(1,(0,l.inject)(d.ICdpApi)),c(2,(0,l.inject)(y.IDapApi)),c(3,(0,l.inject)(g.AnyLaunchConfiguration))],Y),t.VariableStore=Y},24862:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.VueFileMapper=t.IVueFileMapper=void 0;const o=r(55053),s=r(27819),a=r(95882),c=r(7678),u=r(71017),l=/^webpack:\/{3}([^/]+?\.vue)(\?[0-9a-z]*)?$/i,p=/^webpack:\/{3}\.\/.+\.vue\?[0-9a-z]+$/i;t.IVueFileMapper=Symbol("IVueFileMapper");let d=class{constructor(e,t){this.files=e,this.search=t,this.getMapping=(0,c.once)((async()=>{const e=new Map;return await this.search.streamAllChildren(this.files,(t=>e.set((0,u.basename)(t),t))),e}))}async lookup(e){const t=l.exec(e);if(t)return(await this.getMapping()).get(t[1])}getVueHandling(e){return this.files.empty?0:l.test(e)?1:p.test(e)?2:0}};d=n([(0,o.injectable)(),i(0,(0,o.inject)(a.VueComponentPaths)),i(1,(0,o.inject)(s.ISearchStrategy))],d),t.VueFileMapper=d},5504:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Binder=void 0;const s=o(r(22037)),a=o(r(33463)),c=r(17180),u=r(4846),l=r(68164),p=r(33868),d=r(25370),h=r(44936),f=r(15501),m=r(221),g=r(7678),y=r(78986),b=o(r(97208)),v=r(73454),w=r(2263),_=r(99010),S=r(50036),k=r(43224),P=r(27812),x=a.loadMessageBundle(r(71017).join(__dirname,"binder.js"));t.Binder=class{constructor(e,t,r,n){this._rootServices=r,this._threads=new Map,this._terminationCount=0,this._onTargetListChangedEmitter=new h.EventEmitter,this.onTargetListChanged=this._onTargetListChangedEmitter.event,this._serviceTree=new WeakMap,this._delegate=e,this._dap=t.dap(),this._targetOrigin=n,this._disposables=[this._onTargetListChangedEmitter,(0,P.installUnhandledErrorReporter)(r.get(f.ILogger),r.get(k.ITelemetryReporter),r.get(_.IsVSCode))],t.attachTelemetry(r.get(k.ITelemetryReporter)),this._dap.then((e=>{let t,n=0;e.on("initialize",(async t=>{this._rootServices.bind(_.IInitializeParams).toConstantValue(t);const r=u.DebugAdapter.capabilities();return"vscode"===t.clientID&&(0,P.filterErrorsReportedToTelemetry)(),setTimeout((()=>{e.initialized({})}),0),r})),e.on("setExceptionBreakpoints",(async()=>({}))),e.on("setBreakpoints",(async e=>{var t,i,o;return(null===(t=e.breakpoints)||void 0===t?void 0:t.length)&&r.get(l.DiagnosticToolSuggester).notifyHadBreakpoint(),{breakpoints:null!==(o=null===(i=e.breakpoints)||void 0===i?void 0:i.map((()=>({id:++n,verified:!1,message:x(0,null)}))))&&void 0!==o?o:[]}})),e.on("configurationDone",(async()=>({}))),e.on("threads",(async()=>({threads:[]}))),e.on("loadedSources",(async()=>({sources:[]}))),e.on("breakpointLocations",(()=>Promise.resolve({breakpoints:[]}))),e.on("attach",(t=>this._boot((0,v.applyDefaults)(t,this._rootServices.get(_.ExtensionLocation)),e))),e.on("launch",(t=>this._boot((0,v.applyDefaults)(t,this._rootServices.get(_.ExtensionLocation)),e))),e.on("pause",(async()=>({}))),e.on("terminate",(async()=>(await this._disconnect(),{}))),e.on("disconnect",(async()=>(await this._disconnect(),{}))),e.on("restart",(async({arguments:e})=>(await this._restart(e),{}))),e.on("startSelfProfile",(async({file:e})=>(null==t||t.dispose(),t=new p.SelfProfile(e),await t.start(),{}))),e.on("stopSelfProfile",(async()=>(t&&(await t.stop(),t.dispose(),t=void 0),{})))}))}getLaunchers(){if(!this._launchers){this._launchers=new Set(this._rootServices.getAll(S.ILauncher));for(const e of this._launchers)e.onTargetListChanged((()=>{const t=this.targetList();this._attachToNewTargets(t,e),this._detachOrphanThreads(t),this._onTargetListChangedEmitter.fire()}),void 0,this._disposables)}return this._launchers}async _disconnect(){if(!this._launchers)return;this._rootServices.get(k.ITelemetryReporter).flush(),await Promise.all([...this._launchers].map((e=>e.disconnect())));const e=()=>!this.targetList.length&&0===this._terminationCount;e()||(await new Promise((t=>this.onTargetListChanged((()=>{e()&&t()})))),await(0,y.delay)(0))}async _boot(e,t){!function(e){v.isNightly&&e.output({category:"console",output:'Note: Using the "preview" debug extension\n'})}(t),this.reportBootTelemetry(e),(0,w.provideLaunchParams)(this._rootServices,e,t),this._rootServices.get(f.ILogger).setup((0,f.resolveLoggerOptions)(t,e.trace));const r=e.timeout>0?d.CancellationTokenSource.withTimeout(e.timeout):new d.CancellationTokenSource;e.rootPath&&(e.rootPath=b.platformPathToPreferredCase(e.rootPath)),this._launchParams=e;try{await Promise.all([...this.getLaunchers()].map((t=>this._launch(t,e,r.token))))}catch(e){throw e}return{}}reportBootTelemetry(e){const t=(0,v.applyDefaults)({type:e.type,request:e.request,name:"<string>",__workspaceFolder:"<workspace>"}),r=(e,n)=>"string"==typeof e?n&&t[n]===e?e:"<string>":e instanceof Array?e.map((e=>r(e))):e&&"object"==typeof e?(0,g.mapValues)(e,(e=>r(e))):e;this._rootServices.get(k.ITelemetryReporter).report("launch",{type:e.type,request:e.request,os:`${s.platform()} ${s.arch()}`,nodeVersion:process.version,adapterVersion:v.packageVersion,parameters:(0,g.mapValues)(e,r)})}async _restart(e){let t;if(e){const r=this._rootServices.get(m.MutableLaunchConfig);t=(0,v.applyDefaults)({__workspaceFolder:r.__workspaceFolder,...e},this._rootServices.get(_.ExtensionLocation)),r.update(t)}await Promise.all([...this.getLaunchers()].map((e=>e.restart(t))))}async _launch(e,t,r){if(!(await this.captureLaunch(e,t,r)).blockSessionTermination)return;++this._terminationCount;const n=e.onTerminated((e=>{n.dispose();const t=this._detachOrphanThreads(this.targetList(),{restart:e.restart});--this._terminationCount,this._onTargetListChangedEmitter.fire(),this._terminationCount||t.then((()=>this._dap)).then((t=>t.terminated({restart:e.restart})))}));this._disposables.push(n)}async captureLaunch(e,t,r){const n=e.constructor.name;let i;try{i=await e.launch(t,{telemetryReporter:this._rootServices.get(k.ITelemetryReporter),cancellationToken:r,targetOrigin:this._targetOrigin,dap:await this._dap})}catch(e){throw this._rootServices.get(f.ILogger).warn("runtime.launch","Launch returned error",{error:e,wasCancelled:r.isCancellationRequested,name:n}),e}return i.blockSessionTermination&&this._rootServices.get(f.ILogger).info("runtime.launch","Launched successfully",{name:n}),i}dispose(){for(const e of this._disposables)e.dispose();this._disposables=[],(0,_.disposeContainer)(this._rootServices),this._detachOrphanThreads([])}targetList(){const e=[];for(const t of this.getLaunchers())e.push(...t.targetList());return e}async attach(e,t,r){if(!this._launchParams)throw new Error("Cannot launch before params have been set");if(!e.canAttach())return;const n=await e.attach();if(!n)return;const i=await this._delegate.acquireDap(e),o=await i.dap(),s=this._launchParams;this._asyncStackPolicy||(this._asyncStackPolicy=(0,c.getAsyncStackPolicy)(s.showAsyncStacks));const a=e.parent(),l=a&&this._serviceTree.get(a)||this._rootServices,p=(0,w.createTargetContainer)(l,e,o,n);i.attachTelemetry(p.get(k.ITelemetryReporter)),this._serviceTree.set(e,l);const d=new u.DebugAdapter(o,this._asyncStackPolicy,s,p),h=d.createThread(n,e),f=async()=>(await d.launchBlocker(),e.runIfWaitingForDebugger(),t.resolve({thread:h,debugAdapter:d}),{});await this._delegate.initAdapter(d,e,r)?f():(o.on("attach",f),o.on("launch",f),o.on("disconnect",(()=>this.detachTarget(e,p))),o.on("terminate",(()=>this.stopTarget(e,p))),o.on("restart",(async()=>(e.canRestart()?e.restart():await this._restart(),{})))),await e.afterBind()}async detachTarget(e,t){return t.get(k.ITelemetryReporter).flush(),this.targetList().includes(e)?(e.canDetach()?(await e.detach(),this._releaseTarget(e)):this._disconnect(),{}):{}}stopTarget(e,t){return t.get(k.ITelemetryReporter).flush(),this.targetList().includes(e)?(e.canStop()?e.stop():this._disconnect(),Promise.resolve({})):Promise.resolve({})}_attachToNewTargets(e,t){for(const r of e.values())if(r.waitingForDebugger()&&!this._threads.has(r)){const e=(0,y.getDeferred)();this._threads.set(r,e),this.attach(r,e,t)}}async _detachOrphanThreads(e,t){await Promise.all([...this._threads.keys()].filter((t=>!e.includes(t))).map((e=>this._releaseTarget(e,t))))}async _releaseTarget(e,t={}){const r=this._threads.get(e);if(!r)return;this._threads.delete(e);const n=await r.promise;await n.thread.dispose(),n.debugAdapter.dap.terminated(t),n.debugAdapter.dispose(),this._delegate.releaseDap(e)}}},63216:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CDPSession=t.ProtocolError=t.ICdpApi=void 0;const n=r(44936);let i=0;t.ICdpApi=Symbol("ICdpApi");class o extends Error{constructor(e){super("<<message>>"),this.method=e}setCause(e,t){var r;return this.cause={code:e,message:t},this.message=`CDP error ${e} calling method ${this.method}: ${t}`,this.stack=null===(r=this.stack)||void 0===r?void 0:r.replace("<<message>>",this.message),this}}t.ProtocolError=o,t.default=class{constructor(e,t,r){this.logger=t,this.telemetryReporter=r,this._connectionId=i++,this._lastId=1e3,this._disposedSessions=new Map,this._onDisconnectedEmitter=new n.EventEmitter,this.waitWrapper=function(){if(parseInt(process.versions.node,10)>=11)return setImmediate;let e=!1;const t=[],r=()=>{const n=t.shift();n?(setImmediate(r),n()):e=!1};return n=>{t.push(n),e||(e=!0,setImmediate(r))}}(),this.onDisconnected=this._onDisconnectedEmitter.event,this._transport=e,this._transport.onMessage((([e,t])=>this._onMessage(e,t))),this._transport.onEnd((()=>this._onTransportClose())),this._sessions=new Map,this._closed=!1,this._rootSession=new a(this,"",this.logger),this._sessions.set("",this._rootSession)}rootSession(){return this._rootSession.cdp()}_send(e,t={},r){const n=++this._lastId,i={id:n,method:e,params:t};r&&(i.sessionId=r);const o=JSON.stringify(i);return this.logger.verbose("cdp.send",void 0,{connectionId:this._connectionId,message:i}),this._transport.send(o),n}_onMessage(e,t){const r=JSON.parse(e);let n=r;r.result&&r.result.scriptSource?n={...r,result:{...r.result,scriptSource:"<script source>"}}:"Debugger.scriptParsed"===r.method&&r.params&&r.params.sourceMapURL&&r.params.sourceMapURL.startsWith("data:")&&(n={...r,params:{...r.params,sourceMapURL:"<data source map url>"}}),this.logger.verbose("cdp.receive",void 0,{connectionId:this._connectionId,message:n});const i=this._sessions.get(r.sessionId||"");if(!i){const e=this._disposedSessions.get(r.sessionId);if(e){const t=(Date.now()-e.getTime())/1e3;return void this.logger.warn("internal",`Got message for a session disposed ${t} seconds ago`,{sessionId:r.sessionId,disposeOn:e})}throw new Error(`Unknown session id: ${r.sessionId} while processing: ${r.method}`)}const o=r.method;let s;try{i._onMessage(r)}catch(e){s=e}o&&this.telemetryReporter.reportOperation("cdpOperation",o,t.elapsed().ms,s)}_onTransportClose(){if(!this._closed){this._closed=!0,this._transport.dispose(),this.logger.info("cdp.receive","Connection closed",{connectionId:this._connectionId});for(const e of this._sessions.values())e._onClose();this._sessions.clear(),this._onDisconnectedEmitter.fire()}}close(){this._onTransportClose()}isClosed(){return this._closed}createSession(e){const t=new a(this,e,this.logger);return this._sessions.set(e,t),t.cdp()}disposeSession(e){const t=this._sessions.get(e);t&&(t._onClose(),this._disposedSessions.set(t.sessionId(),new Date),this._sessions.delete(t.sessionId()))}};const s=+process.version.substring(1).split(".")[0]<11;class a{constructor(e,t,r){this.logger=r,this._queue=[],this._prefixListeners=new n.ListenerMap,this._directListeners=new n.ListenerMap,this.paused=!1,this._callbacks=new Map,this._connection=e,this._sessionId=t,this._cdp=this._createApi()}pause(){this.paused=!0}resume(){if(!this.paused)return;this.paused=!1;const e=this._queue;this._queue=[],this.logger.verbose("cdp.receive","Dequeue messages",{message:e});for(const t of e)this._processResponse(t)}cdp(){return this._cdp}sessionId(){return this._sessionId}_createApi(){return new Proxy({},{get:(e,t)=>"pause"===t?()=>this.pause():"resume"===t?()=>this.resume():"session"===t?this:new Proxy({},{get:(e,r)=>{if("then"!==r)return"on"===r?(e,r)=>this.on(`${t}.${e}`,r):e=>this.send(`${t}.${r}`,e)}})})}on(e,t){return this._directListeners.listen(e,t)}onPrefix(e,t){return this._prefixListeners.listen(e,t)}send(e,t={}){return this.sendOrDie(e,t).catch((()=>{}))}sendOrDie(e,t={}){if(!this._connection)return Promise.reject(new o(e).setCause(0,"Connection is closed"));const r=this._connection._send(e,t,this._sessionId);return new Promise(((t,n)=>{this._callbacks.set(r,{resolve:t,reject:n,from:new o(e),method:e})}))}_onMessage(e){this.paused&&e.id?this._processResponse(e):this._queue.length>0?this._queue.push(e):s||this.paused?(this._queue.push(e),this.paused||this._processQueue()):this._processResponse(e)}_processQueue(){var e;null===(e=this._connection)||void 0===e||e.waitWrapper((()=>{if(this.paused)return;const e=this._queue.shift();e&&(this._processResponse(e),this._queue.length&&this._processQueue())}))}_processResponse(e){if(void 0===e.id){const t=e;this._directListeners.emit(t.method,t.params);for(const[e,r]of this._prefixListeners.listeners)t.method.startsWith(e)&&r.fire(t);return}const t=this._callbacks.get(e.id);t&&(this._callbacks.delete(e.id),"error"in e?t.reject(t.from.setCause(e.error.code,e.error.message)):"result"in e&&t.resolve(e.result))}async detach(){if(!this._connection)throw new Error("Session already detached. Most likely the target has been closed.");this._connection._send("Target.detachFromTarget",{},this._sessionId)}isClosed(){return!this._connection}_onClose(){for(const e of this._callbacks.values())e.reject(e.from.setCause(0,"Connection is closed"));this._callbacks.clear(),this._connection=void 0}}t.CDPSession=a},34517:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RawPipeTransport=void 0;const i=n(r(67794)),o=r(44936),s=r(51457),a=r(7678);t.RawPipeTransport=class{constructor(e,t,r){this.logger=e,this.pipeWrite=t,this.pipeRead=r,this.messageEmitter=new o.EventEmitter,this.endEmitter=new o.EventEmitter,this.onMessage=this.messageEmitter.event,this.onEnd=this.endEmitter.event,this.onceEnded=(0,a.once)((()=>{var e;this.streams&&(this.beforeClose(),this.streams.read.removeAllListeners(),null===(e=this.pipeRead)||void 0===e||e.destroy(),this.streams.write.removeListener("end",this.onceEnded),this.streams.write.removeListener("error",this.onWriteError),this.streams.write.on("error",(()=>{})),this.streams.write.end(),this.streams=void 0,this.endEmitter.fire())})),this.onWriteError=e=>{this.logger.error("internal","pipeWrite error",{error:e})};const n=r||t;this.streams={read:n.on("error",(e=>this.logger.error("internal","pipeRead error",{error:e}))).pipe((0,i.default)("\0")).on("data",(e=>this.messageEmitter.fire([e,new s.HrTime]))).on("end",this.onceEnded),write:t.on("end",this.onceEnded).on("error",this.onWriteError)}}send(e){var t;null===(t=this.streams)||void 0===t||t.write.write(e+"\0")}dispose(){this.onceEnded()}beforeClose(){}}},2940:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WebSocketTransport=void 0;const i=n(r(48681)),o=r(25370),s=r(44936),a=r(51457),c=r(97208);class u{constructor(e){this.messageEmitter=new s.EventEmitter,this.endEmitter=new s.EventEmitter,this.onMessage=this.messageEmitter.event,this.onEnd=this.endEmitter.event,this._ws=e,this._ws.addEventListener("message",(e=>{this.messageEmitter.fire([e.data.toString("utf-8"),new a.HrTime])})),this._ws.addEventListener("close",(()=>{this.endEmitter.fire(),this._ws=void 0})),this._ws.addEventListener("error",(()=>{}))}static async create(e,t){const r=!e.startsWith("ws://"),n=await(0,c.isLoopback)(e);for(;;)try{const s={headers:{host:"localhost"},perMessageDeflate:!1,maxPayload:268435456,rejectUnauthorized:!(r&&n),followRedirects:!0},a=new i.default(e,[],s);return await(0,o.timeoutPromise)(new Promise(((r,n)=>{a.addEventListener("open",(()=>r(new u(a)))),a.addEventListener("error",(i=>{const o=e===a.url?e:a.url.replace(/^http(s?):/,"ws$1:");o!==e?this.create(o,t).then(r,n):n(i.error)}))})),o.CancellationTokenSource.withTimeout(2e3,t).token,`Could not open ${e}`).catch((e=>{throw a.close(),e}))}catch(e){if(t.isCancellationRequested)throw e}}send(e){var t;null===(t=this._ws)||void 0===t||t.send(e)}dispose(){return new Promise((e=>{if(!this._ws)return e();this._ws.addEventListener("close",(()=>e())),this._ws.close()}))}}t.WebSocketTransport=u},55012:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkerTransport=void 0;const n=r(5376),i=r(44936),o=r(51457);t.WorkerTransport=class{constructor(e,t){this.sessionId=e,this.sink=t,this.onMessageEmitter=new i.EventEmitter,this.onEndEmitter=new i.EventEmitter,this.disposables=new n.DisposableList,this.onMessage=this.onMessageEmitter.event,this.onEnd=this.onEndEmitter.event,this.disposables.push(t.NodeWorker.on("detachedFromWorker",(t=>{t.sessionId===e&&(this.onEndEmitter.fire(),this.dispose())})),t.NodeWorker.on("receivedMessageFromWorker",(t=>{t.sessionId===e&&this.onMessageEmitter.fire([t.message,new o.HrTime])})))}send(e){this.sink.NodeWorker.sendMessageToWorker({message:e,sessionId:this.sessionId})}dispose(){this.disposables.isDisposed||(this.disposables.dispose(),this.onEndEmitter.fire())}}},22969:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BudgetStringBuilder=void 0,t.BudgetStringBuilder=class{constructor(e,t){this._tokens=[],this._separator=t||"",this._budget=e-1-this._separator.length}append(e){e.length>this.budget()?this.appendEllipsis():this._append(e)}_append(e){this._tokens.length&&(this._budget-=this._separator.length),this._tokens.push(e),this._budget-=e.length}appendEllipsis(){""!==this._tokens[this._tokens.length-1]&&this._append("")}checkBudget(){return this._budget<=0&&this.appendEllipsis(),this._budget>0}budget(){return this._budget-(this._tokens.length?this._separator.length:0)}build(){return this._tokens.join(this._separator)}isEmpty(){return!this._tokens.length}}},25370:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationTokenSource=t.Cancelled=t.NeverCancelled=t.cancellableRace=t.timeoutPromise=t.TaskCancelledError=void 0;const n=r(1032),i=r(44936),o=r(78986);class s extends n.ProtocolError{constructor(e){super({id:9243,format:e,showUser:!0}),this._cause={id:9243,format:e,showUser:!0}}}t.TaskCancelledError=s,t.timeoutPromise=function(e,t,r){if(t.isCancellationRequested)return Promise.reject(new s(r||"Task cancelled"));const n=(0,o.getDeferred)(),i=t.onCancellationRequested(n.resolve);return Promise.race([n.promise.then((()=>{throw new s(r||"Task cancelled")})),e.then((e=>(i.dispose(),e))).catch((e=>{throw i.dispose(),e}))])},t.cancellableRace=function(e,t){const r=new c(t),n=e.map((async e=>{try{return await e(r.token)}finally{r.cancel()}}));return Promise.race(n)};const a=Object.freeze((function(e,t){const r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}));t.NeverCancelled=Object.freeze({isCancellationRequested:!1,onCancellationRequested:()=>({dispose:()=>{}})}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:a});class c{constructor(e){this._token=void 0,this._parentListener=void 0,this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}static withTimeout(e,t){const r=new c(t),n=r._token=new u,i=setTimeout((()=>n.cancel()),e);return n.onCancellationRequested((()=>clearTimeout(i))),r}get token(){return this._token||(this._token=new u),this._token}cancel(){this._token?this._token instanceof u&&this._token.cancel():this._token=t.Cancelled}dispose(e=!1){e&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof u&&this._token.dispose():this._token=t.NeverCancelled}}t.CancellationTokenSource=c;class u{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?a:(this._emitter||(this._emitter=new i.EventEmitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}},97878:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.writeToConsole=void 0;const s=o(r(89496));t.writeToConsole=function(e){s.debug.activeDebugConsole.appendLine(e)}},8216:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setContextKey=t.writeConfig=t.readConfig=t.asCommand=t.runCommand=t.registerCommand=t.isDebugType=t.allDebugTypes=t.allCommands=t.preferredDebugTypes=void 0,t.preferredDebugTypes=new Map([["pwa-node","node"],["pwa-chrome","chrome"],["pwa-extensionHost","extensionHost"],["pwa-msedge","msedge"]]);t.allCommands=new Set(Object.keys({"extension.js-debug.addCustomBreakpoints":null,"extension.pwa-node-debug.attachNodeProcess":null,"extension.js-debug.clearAutoAttachVariables":null,"extension.js-debug.setAutoAttachVariables":null,"extension.js-debug.autoAttachToProcess":null,"extension.js-debug.createDebuggerTerminal":null,"extension.js-debug.createDiagnostics":null,"extension.js-debug.getDiagnosticLogs":null,"extension.js-debug.debugLink":null,"extension.js-debug.npmScript":null,"extension.js-debug.pickNodeProcess":null,"extension.js-debug.prettyPrint":null,"extension.js-debug.removeAllCustomBreakpoints":null,"extension.js-debug.removeCustomBreakpoint":null,"extension.js-debug.revealPage":null,"extension.js-debug.startProfile":null,"extension.js-debug.stopProfile":null,"extension.js-debug.toggleSkippingFile":null,"extension.node-debug.startWithStopOnEntry":null,"extension.js-debug.requestCDPProxy":null,"extension.js-debug.openEdgeDevTools":null,"extension.js-debug.callers.add":null,"extension.js-debug.callers.goToCaller":null,"extension.js-debug.callers.gotToTarget":null,"extension.js-debug.callers.remove":null,"extension.js-debug.callers.removeAll":null})),t.allDebugTypes=new Set(Object.keys({"pwa-extensionHost":null,"node-terminal":null,"pwa-node":null,"pwa-chrome":null,"pwa-msedge":null})),t.isDebugType=e=>t.allDebugTypes.has(e),t.registerCommand=(e,t,r)=>e.registerCommand(t,r),t.runCommand=async(e,t,...r)=>await e.executeCommand(t,...r),t.asCommand=e=>e,t.readConfig=(e,t,r)=>e.getConfiguration(void 0,r).get(t),t.writeConfig=(e,t,r,n)=>e.getConfiguration().update(t,r,n),t.setContextKey=async(e,t,r)=>await e.executeCommand("setContext",t,r)},33361:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedList=void 0;class r{constructor(e){this.element=e,this.next=r.Undefined,this.prev=r.Undefined}}r.Undefined=new r(void 0);class n{constructor(){this._first=r.Undefined,this._last=r.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===r.Undefined}clear(){let e=this._first;for(;e!==r.Undefined;){const t=e.next;e.prev=r.Undefined,e.next=r.Undefined,e=t}this._first=r.Undefined,this._last=r.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){const n=new r(e);if(this._first===r.Undefined)this._first=n,this._last=n;else if(t){const e=this._last;this._last=n,n.prev=e,e.next=n}else{const e=this._first;this._first=n,n.next=e,e.prev=n}this._size+=1;let i=!1;return()=>{i||(i=!0,this._remove(n))}}shift(){if(this._first!==r.Undefined){const e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==r.Undefined){const e=this._last.element;return this._remove(this._last),e}}applyFilter(e){let t=this._first;for(;t!==r.Undefined;){const r=t.next;e(t.element)||this._remove(t),t=r}}_remove(e){if(e.prev!==r.Undefined&&e.next!==r.Undefined){const t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===r.Undefined&&e.next===r.Undefined?(this._first=r.Undefined,this._last=r.Undefined):e.next===r.Undefined?(this._last=this._last.prev,this._last.next=r.Undefined):e.prev===r.Undefined&&(this._first=this._first.next,this._first.prev=r.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==r.Undefined;)yield e.element,e=e.next}}t.LinkedList=n},18229:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MapUsingProjection=void 0;class r{constructor(e,t){this.key=e,this.value=t}toString(){return`${this.key}: ${this.value}`}}class n{constructor(e,t){this.projection=e,this.initialContents=t;const n=Array.from(t||[]).map((e=>[this.projection(e[0]),new r(e[0],e[1])]));this.projectionToKeyAndValue=new Map(n)}clear(){this.projectionToKeyAndValue.clear()}delete(e){const t=this.projection(e);return this.projectionToKeyAndValue.delete(t)}forEach(e,t){this.projectionToKeyAndValue.forEach((r=>{e.call(t,r.value,r.key,this)}),t)}get(e){const t=this.projection(e),r=this.projectionToKeyAndValue.get(t);return r?r.value:void 0}has(e){return this.projectionToKeyAndValue.has(this.projection(e))}set(e,t){return this.projectionToKeyAndValue.set(this.projection(e),new r(e,t)),this}get size(){return this.projectionToKeyAndValue.size}*entries(){for(const e of this.projectionToKeyAndValue.values())yield[e.key,e.value]}*keys(){for(const e of this.projectionToKeyAndValue.values())yield e.key}*values(){for(const e of this.projectionToKeyAndValue.values())yield e.value}[Symbol.iterator](){return this.entries()}get[Symbol.toStringTag](){return JSON.stringify(Array.from(this.entries()))}toString(){return`MapUsingProjection<${JSON.stringify([...this.entries()])}>`}}t.MapUsingProjection=n},78472:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableMap=void 0;const n=r(44936);t.ObservableMap=class{constructor(){this.changeEmitter=new n.EventEmitter,this.addEmitter=new n.EventEmitter,this.removeEmitter=new n.EventEmitter,this.targetMap=new Map,this.onChanged=this.changeEmitter.event,this.onAdd=this.addEmitter.event,this.onRemove=this.removeEmitter.event}get size(){return this.targetMap.size}add(e,t){this.targetMap.set(e,t),this.addEmitter.fire([e,t]),this.changeEmitter.fire()}get(e){return this.targetMap.get(e)}remove(e){const t=this.targetMap.get(e);return void 0!==t&&(this.targetMap.delete(e),this.removeEmitter.fire([e,t]),this.changeEmitter.fire(),!0)}value(){return this.targetMap.values()}}},8261:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultBrowserProvider=t.IDefaultBrowserProvider=void 0;const s=o(r(97619)),a=r(55053),c=r(99010),u=r(63945),l=r(7678),p=new Map([["chrome",0],["safari",1],["firefox",2],["msedge",3],["microsoft edge",3],["appxq0fevzme2pys62n3e0fbqa7peapykr8v",4],["ie.http",5]]),d=e=>{e=e.toLowerCase();for(const[t,r]of p.entries())if(e.includes(t))return r};t.IDefaultBrowserProvider=Symbol("IDefaultBrowserProvider");let h=class{constructor(e,t=process.platform){this.execa=e,this.platform=t,this.lookup=(0,l.once)((()=>"win32"===this.platform?this.lookupWindows():this.lookupUnix()))}async lookupUnix(){const{name:e}=await(0,s.default)();return d(e)}async lookupWindows(){const e=await this.execa("reg",["QUERY"," HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\Shell\\Associations\\UrlAssociations\\http\\UserChoice","/v","ProgId"]);if(e.failed)throw u.ChildProcessError.fromExeca(e);const t=/ProgId\s*REG_SZ\s*(\S+)/.exec(e.stdout);if(t)return d(t[1])}};h=n([(0,a.injectable)(),i(0,(0,a.inject)(c.Execa))],h),t.DefaultBrowserProvider=h},5376:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DisposableList=t.noOpDisposable=t.RefCounter=void 0;const n=r(7678);t.RefCounter=class{constructor(e){this.value=e,this.disposed=!1,this.count=0}checkout(){if(this.disposed)throw new Error("Cannot checkout a disposed instance");return this.count++,{value:this.value,dispose:(0,n.once)((()=>{0==--this.count&&this.dispose()}))}}dispose(){this.disposed||(this.disposed=!0,this.value.dispose)}},t.noOpDisposable={dispose:()=>{}},t.DisposableList=class{constructor(e){this.disposed=!1,this.items=[],e&&(this.items=e.slice())}get isDisposed(){return this.disposed}callback(...e){for(const t of e)this.push({dispose:t})}push(...e){return this.disposed?(e.forEach((e=>e.dispose())),e[0]):(this.items.push(...e),e[0])}disposeObject(e){this.items=this.items.filter((t=>t!==e)),e.dispose()}dispose(){const e=Promise.all(this.items.map((e=>e.dispose())));return this.items=[],this.disposed=!0,e}}},94570:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.EnvironmentVars=t.getSanitizeProcessEnv=void 0;const s=o(r(71017)),a=r(7678);function c(e){const t=[/^APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL$/i,/^ELECTRON_.+$/i,/^GOOGLE_API_KEY$/i,/^VSCODE_.+$/i,/^SNAP(|_.*)$/i,/^GDK_PIXBUF_.+$/i];return new u(e).map(((e,r)=>t.some((t=>t.test(e)))?void 0:r))}t.getSanitizeProcessEnv=c;class u{constructor(e){this.defined=(0,a.once)((()=>(0,a.removeNulls)(this.value))),this.value=e?(0,a.removeUndefined)(e):{}}lookup(e){return"win32"===u.platform?(0,a.getCaseInsensitiveProperty)(this.value,e):this.value[e]}addToPath(e,t="append",r=!1){const n="win32"===u.platform?"Path":"PATH",i="win32"===u.platform?s.win32.delimiter:s.posix.delimiter;let o=this.lookup(n);return r&&!o&&(o=`\${env:${n}}`),o=o?"append"===t?o+i+e:e+i+o:e,this.update(n,o)}addNodeOption(e){const t=this.lookup("NODE_OPTIONS");return this.update("NODE_OPTIONS",t?`${t} ${e}`:e)}update(e,t){return u.merge(this,{[e]:t})}merge(...e){return u.merge(this,...e)}map(e){return new u((0,a.mapValues)(this.value,((t,r)=>e(r,t))))}static merge(...e){const t=e.map((e=>e instanceof u?e.value:e)),r="win32"===u.platform?(0,a.caseInsensitiveMerge)(...t):Object.assign({},...t);return new u(r)}}t.EnvironmentVars=u,u.platform=process.platform,u.empty=new u({}),u.processEnv=(0,a.once)((()=>c(process.env)))},44936:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListenerMap=t.EventEmitter=void 0;const n=r(7678);class i{constructor(){this._listeners=new Set,this.event=(e,t,r)=>{const n={listener:e,thisArg:t};this._listeners.add(n);const i={dispose:()=>{i.dispose=()=>{},this._listeners.delete(n)}};return r&&r.push(i),i}}get size(){return this._listeners.size}fire(e){const t=!this._deliveryQueue;this._deliveryQueue||(this._deliveryQueue=[]);for(const t of this._listeners)this._deliveryQueue.push({data:t,event:e});if(t){for(let e=0;e<this._deliveryQueue.length;e++){const{data:t,event:r}=this._deliveryQueue[e];t.listener.call(t.thisArg,r)}this._deliveryQueue=void 0}}dispose(){this._listeners.clear(),this._deliveryQueue&&(this._deliveryQueue=[])}}t.EventEmitter=i,t.ListenerMap=class{constructor(){this.map=new Map,this.listeners=this.map}listen(e,t){let r=this.map.get(e);r||(r=new i,this.map.set(e,r));const o=r.event(t);return{dispose:(0,n.once)((()=>{o.dispose(),0===(null==r?void 0:r.size)&&this.map.delete(e)}))}}emit(e,t){var r;null===(r=this.listeners.get(e))||void 0===r||r.fire(t)}}},95882:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.VueComponentPaths=t.OutFiles=t.FileGlobList=void 0;const c=r(55053),u=s(r(71017)),l=r(73454);let p=class{constructor({rootPath:e,patterns:t}){e&&t?(this.rootPath=e,this.patterns=t.map((t=>u.isAbsolute(t)?u.relative(e,t):t))):(this.rootPath="",this.patterns=[])}get empty(){return 0===this.patterns.length}};p=o([(0,c.injectable)()],p),t.FileGlobList=p;let d=class extends p{constructor({rootPath:e,outFiles:t,sourceMaps:r}){super({rootPath:e,patterns:!1===r?[]:t})}};d=o([(0,c.injectable)(),a(0,(0,c.inject)(l.AnyLaunchConfiguration))],d),t.OutFiles=d;let h=class extends p{constructor(e){super({rootPath:e.rootPath,patterns:"vueComponentPaths"in e?e.vueComponentPaths:[]})}};h=o([(0,c.injectable)(),a(0,(0,c.inject)(l.AnyLaunchConfiguration))],h),t.VueComponentPaths=h},77551:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.waitForServerToListen=t.makeAcquireWebSocketServer=t.makeAcquireTcpServer=t.acquirePortNumber=t.isPortOpen=t.findOpenPort=void 0;const s=o(r(41808)),a=o(r(48681)),c=r(25370),u=r(67999);function l(e,t=c.NeverCancelled){let r;return new Promise(((n,i)=>{const o=s.createServer();o.listen(e,"127.0.0.1",(()=>{const e=o.address();o.close((()=>n(e.port)))})),o.on("error",i),r=t.onCancellationRequested((()=>{o.close(),i(new c.TaskCancelledError("Port open lookup cancelled"))}))})).finally((()=>null==r?void 0:r.dispose()))}t.findOpenPort=async function({min:e=53e3,max:t=54e3,attempts:r=1e3,tester:n=l}={},i=c.NeverCancelled){let o=(0,u.randomInRange)(e,t);for(let s=Math.min(r,t-e);;s--)try{return await n(o,i)}catch(r){if(0===s||r instanceof c.TaskCancelledError)throw r;o=o===t-1?e:o+1}},t.isPortOpen=async function(e,t){try{return await l(e,t),!0}catch(e){return!1}},t.acquirePortNumber=l,t.makeAcquireTcpServer=e=>(r,n)=>{const i=s.createServer(e);return i.listen(r,"127.0.0.1"),(0,t.waitForServerToListen)(i,n)},t.makeAcquireWebSocketServer=e=>(r,n)=>(0,t.waitForServerToListen)(new a.Server({host:"127.0.0.1",...e,port:r}),n),t.waitForServerToListen=(e,t)=>{let r;return new Promise(((n,i)=>{e.on("error",i),e.on("listening",(()=>n(e))),r=t.onCancellationRequested((()=>{e.close(),i(new c.TaskCancelledError("Port open lookup cancelled"))}))})).finally((()=>null==r?void 0:r.dispose()))}},26379:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.LocalAndRemoteFsUtils=t.RemoteFsThroughDapUtils=t.LocalFsUtils=t.IFsUtils=t.readFileRaw=t.writeFile=t.readfile=t.readdir=t.stat=t.moveFile=t.existsWithoutDeref=t.existsInjected=t.copyFile=t.canAccess=t.fsModule=void 0;const s=o(r(57147)),a=o(r(73837));async function c({access:e},t){if(!t)return!1;try{return await e(t),!0}catch(e){return!1}}t.fsModule=s,t.canAccess=c,t.copyFile=async function(e,t,r){try{await e.copyFile(t,r)}catch(n){try{if(!await c(e,r))throw n;await e.unlink(r),await e.copyFile(t,r)}catch(e){throw n}}},t.existsInjected=async function({stat:e},t){if(t)try{return await e(t)}catch(e){return}},t.existsWithoutDeref=async function({lstat:e},t){if(t)try{return await e(t)}catch(e){return}},t.moveFile=async function({copyFile:e,rename:t,unlink:r},n,i){try{await t(n,i)}catch(t){await e(n,i),await r(n)}},t.stat=function(e){return new Promise((t=>{s.stat(e,((e,r)=>t(e?void 0:r)))}))},t.readdir=function(e){return new Promise((t=>{s.readdir(e,"utf8",(async(e,r)=>{t(e?[]:r)}))}))},t.readfile=function(e){return new Promise((t=>{s.readFile(e,"utf8",(async(e,r)=>{t(e?"":r)}))}))},t.writeFile=a.promisify(s.writeFile),t.readFileRaw=function(e){return s.promises.readFile(e).catch((()=>Buffer.alloc(0)))},t.IFsUtils=Symbol("FsUtils");class u{constructor(e){this.fs=e}realPath(e){return this.fs.realpath(e)}async exists(e){try{return await this.fs.access(e,s.constants.F_OK),!0}catch(e){return!1}}readFile(e){return this.fs.readFile(e)}}t.LocalFsUtils=u;class l{constructor(e){this.dap=e}async realPath(){throw new Error("not implemented")}async exists(e){try{const{doesExists:t}=await this.dap.remoteFileExistsRequest({localFilePath:e});return t}catch(e){return!1}}readFile(){throw new Error("not implemented")}}t.RemoteFsThroughDapUtils=l,t.LocalAndRemoteFsUtils=class{constructor(e,t,r){this.remoteFilePrefix=e,this.localFsUtils=t,this.remoteFsUtils=r}static create(e,t,r){const n=new u(t);return void 0!==e?new this(e.toLowerCase(),n,new l(r)):n}async exists(e){return this.selectFs(e).exists(e)}async readFile(e){return this.selectFs(e).readFile(e)}async realPath(e){return this.selectFs(e).realPath(e)}selectFs(e){return e.toLowerCase().startsWith(this.remoteFilePrefix)?this.remoteFsUtils:this.localFsUtils}}},79191:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Hasher=void 0;const n=r(71017),i=r(71267),o=r(7678),s=r(78986);t.Hasher=class{constructor(e=3){this.maxFailures=e,this.idCounter=0,this.failureCount=0,this.deferredMap=new Map,this.deferCleanup=(0,o.debounce)(3e4,(()=>this.cleanup()))}async hashBytes(e,t){return(await this.send({type:1,data:t,mode:e,id:this.idCounter++})).hash}async hashFile(e,t){return(await this.send({type:0,file:t,mode:e,id:this.idCounter++})).hash}async verifyBytes(e,t,r){return(await this.send({type:3,data:e,id:this.idCounter++,expected:t,checkNode:r})).matches}async verifyFile(e,t,r){return(await this.send({type:2,file:e,id:this.idCounter++,expected:t,checkNode:r})).matches}dispose(){this.cleanup(),this.deferCleanup.clear()}send(e){const t=this.getProcess();if(!t)throw new Error("hash.bundle.js process unexpectedly exited");this.deferCleanup();const r=(0,s.getDeferred)();return this.deferredMap.set(e.id,{deferred:r,request:e}),t.postMessage(e),r.promise}cleanup(){this.instance&&(this.instance.removeAllListeners("exit"),this.instance.terminate(),this.instance=void 0,this.failureCount=0)}getProcess(){if(this.instance)return this.instance;if(this.failureCount>this.maxFailures)return;const e=this.instance=new i.Worker((0,n.join)(__dirname,"hash.bundle.js"));return e.setMaxListeners(1/0),e.on("message",(e=>{const t=e,r=this.deferredMap.get(t.id);r&&(r.deferred.resolve(t),this.deferredMap.delete(t.id))})),e.on("exit",(()=>{this.instance=void 0,this.failureCount++;const e=this.getProcess();if(e){this.deferCleanup();for(const{request:t}of this.deferredMap.values())e.postMessage(t)}else{for(const{deferred:e}of this.deferredMap.values())e.reject(new Error("hash.bundle.js process unexpectedly exited"));this.deferredMap.clear(),this.deferCleanup.clear()}})),e}}},51457:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HrTime=void 0;const r=1e9;class n{constructor(e=process.hrtime()){this.value=e}get ms(){return 1e3*this.s}get s(){return this.value[0]+this.value[1]/r}elapsed(){return(new n).subtract(this)}subtract(e){let t=this.value[1]-e.value[1],i=this.value[0]-e.value[0];return t<0&&(t+=r,i--),new n([i,t])}}t.HrTime=n},9330:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileLogSink=void 0;const n=r(57147),i=r(71017),o=r(59796),s=(e,t)=>t instanceof Error?{message:t.message,stack:t.stack}:"bigint"==typeof t?t.toString():t;t.FileLogSink=class{constructor(e,t){this.file=e,this.dap=t;try{(0,n.mkdirSync)((0,i.dirname)(e),{recursive:!0})}catch(e){}e.endsWith(".gz")?(this.stream=(0,o.createGzip)(),this.stream.pipe((0,n.createWriteStream)(e))):this.stream=(0,n.createWriteStream)(e)}async setup(){var e;null===(e=this.dap)||void 0===e||e.output({category:"console",output:`Verbose logs are written to:\n${this.file}\n`})}dispose(){this.stream&&(this.stream.end(),this.stream=void 0)}write(e){var t,r;this.stream&&(this.stream.write(JSON.stringify(e,s)+"\n"),null===(r=(t=this.stream).flush)||void 0===r||r.call(t,o.constants.Z_SYNC_FLUSH))}}},15501:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.resolveLoggerOptions=t.fulfillLoggerOptions=t.ILogger=t.allLogTags=void 0;const s=r(6113),a=r(22037),c=o(r(71017)),u=r(9330);function l(e,t=(0,a.tmpdir)()){if(!1===e)return{stdio:!1,logFile:null};const r={stdio:!0,logFile:c.join(t,`vscode-debugadapter-${(0,s.randomBytes)(4).toString("hex")}.json.gz`)};return!0===e?r:{...r,...e}}t.allLogTags=Object.keys({runtime:null,"runtime.sourcecreate":null,"runtime.assertion":null,"runtime.launch":null,"runtime.target":null,"runtime.welcome":null,"runtime.exception":null,"runtime.sourcemap":null,"runtime.breakpoints":null,"sourcemap.parsing":null,"perf.function":null,"cdp.send":null,"cdp.receive":null,"dap.send":null,"dap.receive":null,internal:null,proxyActivity:null}),t.ILogger=Symbol("ILogger"),t.fulfillLoggerOptions=l,t.resolveLoggerOptions=function(e,t){const r=l(t),n={sinks:[]};return r.logFile&&n.sinks.push(new u.FileLogSink(r.logFile,e)),n}},74839:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;const c=r(55053),u=a(r(22037)),l=r(73454),p=r(24868);class d{constructor(e=512){this.size=e,this.items=[],this.i=0}write(e){this.items[this.i]=e,this.i=(this.i+1)%this.size}read(){return this.items.slice(this.i).concat(this.items.slice(0,this.i))}}let h=n=class{constructor(){this.logTarget={queue:[]},this.logBuffer=new d}static async test(){const e=new n;return e.setup({sinks:[new p.TestLogSink],showWelcome:!1}),e}info(e,t,r){this.log({tag:e,timestamp:Date.now(),message:t,metadata:r,level:1})}verbose(e,t,r){this.log({tag:e,timestamp:Date.now(),message:t,metadata:r,level:0})}warn(e,t,r){this.log({tag:e,timestamp:Date.now(),message:t,metadata:r,level:2})}error(e,t,r){this.log({tag:e,timestamp:Date.now(),message:t,metadata:r,level:3})}fatal(e,t,r){this.log({tag:e,timestamp:Date.now(),message:t,metadata:r,level:4})}assert(e,t){if(!1===e||null==e){if(this.error("runtime.assertion",t,{error:new Error("Assertion failed")}),process.env.JS_DEBUG_THROW_ASSERTIONS)throw new Error(t);return!1}return!0}log(e){if(this.logBuffer.write(e),"queue"in this.logTarget)this.logTarget.queue.push(e);else for(const t of this.logTarget.sinks)t.write(e)}getRecentLogs(){return this.logBuffer.read()}dispose(){if("sinks"in this.logTarget){for(const e of this.logTarget.sinks)e.dispose();this.logTarget={queue:[]}}}forTarget(){return this}async setup(e){if(await Promise.all(e.sinks.map((e=>e.setup()))),!1!==e.showWelcome){const t=f();for(const r of e.sinks)r.write(t)}const t=this.logTarget;this.logTarget={sinks:e.sinks.slice()},"sinks"in t?t.sinks.forEach((e=>e.dispose())):t.queue.forEach((e=>this.log(e)))}};h.null=(()=>{const e=new n;return e.setup({sinks:[]}),e})(),h=n=s([(0,c.injectable)()],h),t.Logger=h;const f=()=>({timestamp:Date.now(),tag:"runtime.welcome",level:1,message:`${l.packageName} v${l.packageVersion} started`,metadata:{os:`${u.platform()} ${u.arch()}`,nodeVersion:process.version,adapterVersion:l.packageVersion}})},59657:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyLogger=void 0;class r{constructor(){this.target={queue:[]}}connectTo(e){this.target={logger:e}}info(e,t,r){this.log({tag:e,timestamp:Date.now(),message:t,metadata:r,level:1})}verbose(e,t,r){this.log({tag:e,timestamp:Date.now(),message:t,metadata:r,level:0})}warn(e,t,r){this.log({tag:e,timestamp:Date.now(),message:t,metadata:r,level:2})}error(e,t,r){this.log({tag:e,timestamp:Date.now(),message:t,metadata:r,level:3})}fatal(e,t,r){this.log({tag:e,timestamp:Date.now(),message:t,metadata:r,level:4})}log(e){this.target&&("queue"in this.target?this.target.queue.push(e):this.target.logger.log(e))}getRecentLogs(){return this.target?"queue"in this.target?this.target.queue:this.target.logger.getRecentLogs():[]}assert(e,t){if(!1===e||null==e){if(this.error("runtime.assertion",t,{error:new Error("Assertion failed")}),process.env.JS_DEBUG_THROW_ASSERTIONS)throw new Error(t);return!1}return!0}setup(){throw new Error("A ProxyLogger cannot be setup()")}dispose(){this.target=void 0}forTarget(){return new r}}t.ProxyLogger=r},24868:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TestLogSink=void 0,t.TestLogSink=class{async setup(){}dispose(){}write(e){if(e.level>2)throw new Error(e.message);console.log(JSON.stringify(e))}}},221:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMutableLaunchConfig=t.MutableLaunchConfig=void 0;const n=r(44936);t.MutableLaunchConfig=Symbol("MutableLaunchConfig"),t.createMutableLaunchConfig=e=>{const t=new n.EventEmitter;return new Proxy({},{ownKeys:()=>Object.keys(e),get(r,n){switch(n){case"update":return r=>{e=r,t.fire()};case"onChange":return t.event;default:return e[n]}}})}},94723:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.node15InternalsPrefix=void 0,t.node15InternalsPrefix="node:"},7678:(e,t)=>{"use strict";function r(e,t){const r={};for(const n of Object.keys(e)){const i=e[n];t(i,n)&&(r[n]=i)}return r}Object.defineProperty(t,"__esModule",{value:!0}),t.invertMap=t.upcastPartial=t.pick=t.flatten=t.bisectArray=t.trailingEdgeThrottle=t.debounce=t.memoizeWeak=t.memoize=t.once=t.getCaseInsensitiveProperty=t.caseInsensitiveMerge=t.walkObject=t.sortKeys=t.filterObject=t.mapKeys=t.mapValues=t.filterValues=t.assertNever=t.isInstanceOf=t.removeUndefined=t.removeNulls=t.truthy=void 0,t.truthy=e=>!!e,t.removeNulls=e=>r(e,(e=>null!==e)),t.removeUndefined=e=>r(e,(e=>void 0!==e)),t.isInstanceOf=e=>t=>t instanceof e,t.assertNever=(e,t)=>{throw new Error(t.replace("{value}",JSON.stringify(e)))},t.filterValues=r,t.mapValues=function(e,t){const r={};for(const n of Object.keys(e)){const i=e[n];r[n]=t(i,n)}return r},t.mapKeys=function(e,t){const r={};for(const n of Object.keys(e)){const i=t(n,e[n]);void 0!==i&&(r[i]=e[n])}return r},t.filterObject=function(e,t){const r={};for(const n of Object.keys(e))t(n,e[n])&&(r[n]=e[n]);return r},t.sortKeys=function(e,t){if(!e||"object"!=typeof e||e instanceof Array)return e;const r={};for(const n of Object.keys(e).sort(t))r[n]=e[n];return r},t.walkObject=function e(t,r){if(t=r(t))if(t instanceof Array)t=t.map((t=>e(t,r)));else if("object"==typeof t&&t)for(const n of Object.keys(t))t[n]=e(t[n],r);return t},t.caseInsensitiveMerge=function(...e){if(0===e.length)return{};const t={},r=Object.create(null);for(const n of e)if(n)for(const e of Object.keys(n)){const i=e.toLowerCase();r[i]?t[r[i]]=n[e]:(r[i]=e,t[e]=n[e])}return t},t.getCaseInsensitiveProperty=function(e,t){if(e.hasOwnProperty(t))return e[t];const r=t.toLowerCase();for(const t of Object.keys(e))if(t.toLowerCase()===r)return e[t]};const n=Symbol("unset");t.once=function(e){let t=n;const r=(...i)=>(t===n&&(r.value=t=e(...i)),t);return r.forget=()=>{t=n,r.value=void 0},r.value=void 0,r},t.memoize=function(e){const t=new Map,r=r=>{if(t.has(r))return t.get(r);const n=e(r);return t.set(r,n),n};return r.clear=()=>t.clear(),r},t.memoizeWeak=function(e){const t=new WeakMap;return r=>{if(t.has(r))return t.get(r);const n=e(r);return t.set(r,n),n}},t.debounce=function(e,t){let r;const n=()=>{void 0!==r&&clearTimeout(r),r=setTimeout((()=>{r=void 0,t()}),e)};return n.clear=()=>{r&&(clearTimeout(r),r=void 0)},n},t.trailingEdgeThrottle=function(e,t){let r;const n=()=>{void 0===r&&(r=setTimeout((()=>{r=void 0,t()}),e))};return n.queued=()=>!!r,n.clear=()=>{r&&(clearTimeout(r),r=void 0)},n},t.bisectArray=function(e,t){const r=[],n=[];for(const i of e)t(i)?r.push(i):n.push(i);return[r,n]},t.flatten=function(e){let t=[];for(const r of e)t=t.concat(r);return t},t.pick=function(e,t){const r={};for(const n of t)r[n]=e[n];return r},t.upcastPartial=e=>e,t.invertMap=function(e){const t=new Map;for(const[r,n]of e)t.set(n,r);return t}},79783:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isWindowsPath=t.isUncPath=t.isSubpathOrEqualTo=t.isSubdirectoryOf=t.splitWithDriveLetter=t.forceForwardSlashes=t.fixDriveLetterAndSlashes=t.fixDriveLetter=t.properRelative=t.properResolve=t.properJoin=t.isWithinAsar=t.findExecutable=t.findInPath=void 0;const a=s(r(79850)),c=o(r(71017)),u=r(26379),l=r(7678);function p(e,r=!1){if(!e)return e;if(e.match(/file:\/\/\/[A-Za-z]:/)){const t="file:///".length;e="file:///"+e[t].toLowerCase()+e.substr(t+1)}else if((0,t.isWindowsPath)(e)){const t=r?e[0].toUpperCase():e[0].toLowerCase();e=t+e.substr(1)}return e}function d(e){return e.replace(/\\\//g,"/").replace(/\\/g,"/")}t.findInPath=async function(e,t,r){let n;if("win32"===process.platform){const e=r.WINDIR||"C:\\Windows";n=c.join(e,"System32","where.exe")}else n="/usr/bin/which";try{if(await(0,u.existsInjected)(e,n)){const e=(await(0,a.default)(n,[t],{env:(0,l.removeNulls)(r)})).stdout.split(/\r?\n/);if("win32"===process.platform){const t=String(r.PATHEXT||".exe").toUpperCase().split(";");for(const r of e){const e=c.extname(r).toUpperCase();if(e&&t.includes(e))return r}}else if(e.length>0)return e[0];return}return t}catch(e){}},t.findExecutable=async function(e,t,r){if(t){if("win32"===process.platform&&!c.extname(t)){const n=r.lookup("PATHEXT");if(n){const r=n.split(";");for(const n of r){const r=t+n;if(await(0,u.existsInjected)(e,r))return r}}}return await(0,u.existsInjected)(e,t)?t:void 0}},t.isWithinAsar=e=>e.includes(`.asar${c.sep}`),t.properJoin=function(...e){return c.posix.isAbsolute(e[0])?d(c.posix.join(...e)):c.win32.isAbsolute(e[0])?c.win32.join(...e):c.join(...e)},t.properResolve=function(...e){return c.posix.isAbsolute(e[0])?c.posix.resolve(...e):c.win32.isAbsolute(e[0])?c.win32.resolve(...e):c.resolve(...e)},t.properRelative=function(e,t){return c.posix.isAbsolute(e)?c.posix.relative(e,t):c.win32.isAbsolute(e)?c.win32.relative(e,t):c.relative(e,t)},t.fixDriveLetter=p,t.fixDriveLetterAndSlashes=function(e,r=!1){if(!e)return e;if((e=p(e,r)).match(/file:\/\/\/[A-Za-z]:/)){const t="file:///".length;e=e.substr(0,t+1)+e.substr(t+1).replace(/\//g,"\\")}else(0,t.isWindowsPath)(e)&&(e=e.replace(/\//g,"\\"));return e},t.forceForwardSlashes=d,t.splitWithDriveLetter=e=>{const t=e.split(c.sep);return/^[a-z]:$/i.test(t[0])&&(t[0]+=c.sep),t},t.isSubdirectoryOf=(e,t)=>{const r=c.relative(e,t);return r.length&&!c.isAbsolute(r)&&!r.startsWith("..")},t.isSubpathOrEqualTo=(e,t)=>{const r=c.relative(e,t);return!c.isAbsolute(r)&&!r.startsWith("..")},t.isUncPath=e=>e.startsWith("\\\\"),t.isWindowsPath=e=>/^[A-Za-z]:/.test(e)},67790:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Base01Position=t.Base1Position=t.Base0Position=t.comparePositions=void 0,t.comparePositions=(e,t)=>{if(e instanceof r)return e.compare(t.base0);if(e instanceof i)return t.compare(t.base01);if(e instanceof n)return t.compare(t.base1);throw new Error(`Invalid position ${e}`)};class r{constructor(e,t){this.lineNumber=e,this.columnNumber=t}get base0(){return this}get base1(){return new n(this.lineNumber+1,this.columnNumber+1)}get base01(){return new i(this.lineNumber,this.columnNumber+1)}compare(e){return this.lineNumber-e.lineNumber||this.columnNumber-e.columnNumber||0}}t.Base0Position=r;class n{constructor(e,t){this.lineNumber=e,this.columnNumber=t}get base0(){return new r(this.lineNumber-1,this.columnNumber-1)}get base1(){return this}get base01(){return new i(this.lineNumber-1,this.columnNumber)}compare(e){return this.lineNumber-e.lineNumber||this.columnNumber-e.columnNumber||0}}t.Base1Position=n;class i{constructor(e,t){this.lineNumber=e,this.columnNumber=t}get base0(){return new r(this.lineNumber-1,this.columnNumber)}get base1(){return new n(this.lineNumber,this.columnNumber+1)}get base01(){return this}compare(e){return this.lineNumber-e.lineNumber||this.columnNumber-e.columnNumber||0}}t.Base01Position=i},63945:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.spawnAsync=t.ChildProcessError=void 0;const n=r(32081);class i extends Error{constructor(e,t,r,n,i){super(`${e} exited with code ${n||-1}: ${t}`),this.command=e,this.stderr=t,this.stdout=r,this.code=n,this.innerError=i}static fromExeca(e){return new i(e.command,e.stderr.toString(),e.stdout.toString(),e.exitCode)}}t.ChildProcessError=i,t.spawnAsync=function(e,t,r){return new Promise(((o,s)=>{const a=(0,n.spawn)(e,t,{...r,stdio:"pipe"}),c=[],u=[];a.stderr.on("data",(e=>c.push(e))),a.stdout.on("data",(e=>u.push(e)));const l=(t,r)=>s(new i(e,Buffer.concat(c).toString(),Buffer.concat(u).toString(),t,r));a.on("error",(e=>l(void 0,e))),a.on("close",(e=>e?l(e):o({stdout:Buffer.concat(u).toString(),stderr:Buffer.concat(c).toString()})))}))}},78986:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDeferred=t.some=t.disposableTimeout=t.delay=void 0,t.delay=e=>isFinite(e)?new Promise((t=>setTimeout(t,e))):new Promise((()=>{})),t.disposableTimeout=(e,t)=>{const r=setTimeout(e,t);return{dispose:()=>clearTimeout(r)}},t.some=function(e){return new Promise(((t,r)=>{let n=e.length;for(const i of e)i.then((e=>{e?(t(e),n=-1):0==--n&&t(void 0)})).catch(r)}))},t.getDeferred=function(){let e,t=null,r=null,n=!1;const i=new Promise(((i,o)=>{t=t=>{n=!0,e=t,i(t)},r=e=>{n=!0,o(e)}}));return{resolve:t,reject:r,promise:i,get settledValue(){return e},hasSettled:()=>n}}},67999:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomInRange=void 0,t.randomInRange=(e,t)=>e+Math.floor(Math.random()*(t-e))},87768:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Semver=void 0;class r{constructor(e,t,r){this.major=e,this.minor=t,this.patch=r}static parse(e){const t=e.split(".").map(Number);if(3!==t.length||t.some(isNaN))throw new SyntaxError(`Input string '${e}' is not a semver`);return new r(t[0],t[1],t[2])}static min(e,t){return e.lt(t)?e:t}compare(e){return this.major-e.major||this.minor-e.minor||this.patch-e.patch}gt(e){return this.compare(e)>0}gte(e){return this.compare(e)>=0}lt(e){return this.compare(e)<0}lte(e){return this.compare(e)<=0}toString(){return`${this.major}.${this.minor}.${this.patch}`}}t.Semver=r},72223:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.statementToExpression=t.returnErrorsFromStatements=t.functionToFunctionCall=t.statementsToFunction=t.parseSource=t.parseProgram=t.getText=t.getEnd=t.getStart=t.acornOptions=void 0;const n=r(81132),i=r(22681);t.acornOptions={ecmaVersion:"latest",locations:!0,allowAwaitOutsideFunction:!0,allowImportExportEverywhere:!0,allowReserved:!0,allowReturnOutsideFunction:!0},t.getStart=e=>e.start,t.getEnd=e=>e.end,t.getText=(e,r)=>e.slice((0,t.getStart)(r),(0,t.getEnd)(r)),t.parseProgram=(e,r=!1)=>(r?n.parse:i.parse)(e,t.acornOptions),t.parseSource=e=>{const r=(0,t.parseProgram)(e);for(const e of r.body)"FunctionDeclaration"===e.type&&e.id&&(0,i.isDummy)(e.id)&&(e.id=null);return r.body},t.statementsToFunction=function(e,t,r){return t.length>1||"FunctionDeclaration"!==t[0].type?s(e,t,!0,r):o(e,[{type:"ReturnStatement",argument:{type:"CallExpression",optional:!1,arguments:[{type:"ThisExpression"},...e.map((e=>({type:"Identifier",name:e})))],callee:{type:"MemberExpression",property:{type:"Identifier",name:"call"},computed:!1,optional:!1,object:{type:"FunctionExpression",params:t[0].params,body:t[0].body}}}}],!0,r)};const o=(e,t,r,n)=>{const i={type:"Identifier",name:"e"},o=n?[{type:"TryStatement",block:{type:"BlockStatement",body:t},handler:{type:"CatchClause",param:i,body:{type:"BlockStatement",body:[{type:"ReturnStatement",argument:{type:"LogicalExpression",left:{type:"LogicalExpression",left:{type:"MemberExpression",object:i,property:{type:"Identifier",name:"stack"},computed:!1,optional:!1},operator:"||",right:{type:"MemberExpression",object:i,property:{type:"Identifier",name:"message"},computed:!1,optional:!1}},operator:"||",right:{type:"CallExpression",callee:{type:"Identifier",name:"String"},arguments:[i],optional:!1}}}]}}}]:t;return r?{type:"FunctionExpression",id:{type:"Identifier",name:"_generatedCode"},params:e.map((e=>({type:"Identifier",name:e}))),body:{type:"BlockStatement",body:o}}:{type:"ArrowFunctionExpression",params:e.map((e=>({type:"Identifier",name:e}))),expression:!1,body:{type:"BlockStatement",body:o}}};function s(e,t,r,n){const i=t[t.length-1];if("ReturnStatement"!==i.type){const e=a(i);e&&(t=[...t.slice(0,-1),{type:"ReturnStatement",argument:e}])}return o(e,t,r,n)}function a(e){switch(e.type){case"ExpressionStatement":return e.expression;case"BlockStatement":return{type:"CallExpression",arguments:[],callee:{type:"ArrowFunctionExpression",params:[],expression:!1,body:e},optional:!1};case"ReturnStatement":return e.argument||void 0;default:return}}t.functionToFunctionCall=(e,t)=>({type:"CallExpression",arguments:e.map((e=>({type:"Identifier",name:e}))),callee:t,optional:!1}),t.returnErrorsFromStatements=(e,r,n)=>(0,t.functionToFunctionCall)(e,s(e,r,n,!0)),t.statementToExpression=a},58893:function(e,t,r){"use strict";var n,i=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.CodeSearchStrategy=void 0;const o=r(55053),s=r(79783),a=r(45145),c=r(27819);let u=n=class{constructor(e,t){this.vscode=e,this.logger=t,this.nodeStrategy=new a.NodeSearchStrategy(this.logger)}static createOrFallback(e){try{const t=r(89496);if(void 0!==t.workspace.findTextInFiles)return new n(t,e)}catch(e){}return new a.NodeSearchStrategy(e)}async streamAllChildren(e,t){return this.nodeStrategy.streamAllChildren(e,t)}async streamChildrenWithSourcemaps(e,t){if(e.patterns.some((e=>e.startsWith(".."))))return this.nodeStrategy.streamChildrenWithSourcemaps(e,t);const r=[];return await this.vscode.workspace.findTextInFiles({pattern:"sourceMappingURL",isCaseSensitive:!0},{...this.getTextSearchOptions(e),previewOptions:{charsPerLine:Number.MAX_SAFE_INTEGER,matchLines:1}},(e=>{const n="text"in e?e.text:e.preview.text;r.push((0,c.createMetadataForFile)(e.uri.fsPath,n).then((e=>e&&t(e))).catch((t=>this.logger.warn("sourcemap.parsing","Error parsing source map",{error:t,file:e.uri.fsPath}))))})),this.logger.info("sourcemap.parsing",`findTextInFiles search found ${r.length} files`),(await Promise.all(r)).filter((e=>void 0!==e))}getTextSearchOptions(e){return{include:new this.vscode.RelativePattern(e.rootPath,(0,s.forceForwardSlashes)(e.patterns.filter((e=>!e.startsWith("!"))).join(", "))),exclude:e.patterns.filter((e=>e.startsWith("!"))).map((e=>(0,s.forceForwardSlashes)(e.slice(1)))).join(","),useDefaultExcludes:!1,useIgnoreFiles:!1,useGlobalIgnoreFiles:!1,followSymlinks:!0,beforeContext:0,afterContext:0}}};u=n=i([(0,o.injectable)()],u),t.CodeSearchStrategy=u},23517:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CorrelatedCache=void 0;const n=r(57147),i=r(71017),o=r(7678),s=r(26379);t.CorrelatedCache=class{constructor(e,t=500){this.storageFile=e,this.debounceTime=t,this.flush=(0,o.debounce)(this.debounceTime,(()=>this.flushImmediately()));try{(0,n.mkdirSync)((0,i.dirname)(e))}catch(e){}}async lookup(e,t){const r=(await this.getData())[e];return r&&r.correlation===t?r.value:void 0}async store(e,t,r){(await this.getData())[e]={correlation:t,value:r},this.flush()}async flushImmediately(){return this.flush.clear(),(0,s.writeFile)(this.storageFile,JSON.stringify(await this.getData()))}dispose(){this.flushImmediately()}getData(){return this.cacheData||(this.cacheData=this.hydrateFromDisk()),this.cacheData}async hydrateFromDisk(){try{return JSON.parse(await(0,s.readfile)(this.storageFile))||{}}catch(e){return{}}}}},45145:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.NodeSearchStrategy=void 0;const s=o(r(92112)),a=r(55053),c=r(15501),u=r(79783),l=r(27819);let p=class{constructor(e){this.logger=e}async streamAllChildren(e,t){const r=[];return await new Promise(((n,i)=>this.globForFiles(e).on("data",(e=>r.push(t((0,u.fixDriveLetterAndSlashes)(e.path))))).on("finish",n).on("error",i))),(await Promise.all(r)).filter((e=>void 0!==e))}async streamChildrenWithSourcemaps(e,t){const r=[];return await new Promise(((n,i)=>this.globForFiles(e).on("data",(e=>r.push((0,l.createMetadataForFile)((0,u.fixDriveLetterAndSlashes)(e.path)).then((e=>e&&t(e))).catch((t=>this.logger.warn("sourcemap.parsing","Error parsing source map",{error:t,file:e.path})))))).on("finish",n).on("error",i))),(await Promise.all(r)).filter((e=>void 0!==e))}globForFiles(e){return(0,s.default)([...e.patterns.map(u.forceForwardSlashes),"!**/*.asar/**"],{matchBase:!0,cwd:e.rootPath})}};p=n([(0,a.injectable)(),i(0,(0,a.inject)(c.ILogger))],p),t.NodeSearchStrategy=p},34285:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.RenameMapping=t.RenameProvider=t.IRenameProvider=void 0;const o=r(55053),s=r(44873),a=r(73454),c=r(67790),u=r(36268),l=r(43430),p=/[$a-z_][$0-9A-Z_$]*/iy;t.IRenameProvider=Symbol("IRenameProvider");let d=class{constructor(e,t){this.sourceMapFactory=e,this.launchConfig=t,this.renames=new Map}provideOnStackframe(e){if(!this.launchConfig.sourceMapRenames)return h.None;const t=e.uiLocation();return void 0===t?h.None:"then"in t?t.then((e=>this.provideForSource(null==e?void 0:e.source))):this.provideForSource(null==t?void 0:t.source)}provideForSource(e){if(!this.launchConfig.sourceMapRenames)return h.None;if(!(e instanceof s.SourceFromMap))return h.None;const t=e.compiledToSourceUrl.keys().next().value;if(!t)throw new Error("unreachable");const r=this.renames.get(t.url);if(r)return r;const n=this.sourceMapFactory.load(t.sourceMap.metadata).then((async e=>{if(!(null==e?void 0:e.hasNames))return h.None;const r=await t.content();return r?this.createFromSourceMap(e,r):h.None})).catch((()=>h.None));return this.renames.set(t.url,n),n}createFromSourceMap(e,t){const r=new u.PositionToOffset(t),n=[];return e.eachMapping((e=>{if(!e.name)return;const i=new c.Base01Position(e.generatedLine,e.generatedColumn),o=r.convert(i);p.lastIndex=o;const s=p.exec(t);s&&n.push({compiled:s[0],original:e.name,position:i})})),n.sort(((e,t)=>e.position.compare(t.position))),new h(n)}};d=n([(0,o.injectable)(),i(0,(0,o.inject)(l.ISourceMapFactory)),i(1,(0,o.inject)(a.AnyLaunchConfiguration))],d),t.RenameProvider=d;class h{constructor(e){this.renames=e}getOriginalName(e,t){var r;return null===(r=this.getClosestRename(t,(t=>t.compiled===e)))||void 0===r?void 0:r.original}getCompiledName(e,t){var r;return null===(r=this.getClosestRename(t,(t=>t.original===e)))||void 0===r?void 0:r.compiled}getClosestRename(e,t){const r=e.base01;let n;for(const e of this.renames)if(t(e)){if(!(e.position.compare(r)<0)&&n)return n;n=e}return n}}t.RenameMapping=h,h.None=new h([])},9132:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SourceMap=void 0;const n=r(79783),i=r(97208);class o{constructor(e,t,r,n,i){if(this.original=e,this.metadata=t,this.actualRoot=r,this.actualSources=n,this.hasNames=i,this.sourceActualToOriginal=new Map,this.sourceOriginalToActual=new Map,this.id=o.idCounter++,n.length!==e.sources.length)throw new Error("Expected actualSources.length === original.source.length");for(let t=0;t<n.length;t++)this.sourceActualToOriginal.set(n[t],e.sources[t]),this.sourceOriginalToActual.set(e.sources[t],n[t])}get sources(){return this.actualSources.slice()}get sourceRoot(){return this.actualRoot}computedSourceUrl(e){return(0,n.fixDriveLetterAndSlashes)((0,i.completeUrlEscapingRoot)(this.metadata.sourceMapUrl.startsWith("data:")?this.metadata.compiledPath:this.metadata.sourceMapUrl,this.sourceRoot+e))}computeColumnSpans(){this.original.computeColumnSpans()}originalPositionFor(e){var t;const r=this.original.originalPositionFor(e);return r.source&&(r.source=null!==(t=this.sourceOriginalToActual.get(r.source))&&void 0!==t?t:r.source),r}generatedPositionFor(e){var t;return this.original.generatedPositionFor({...e,source:null!==(t=this.sourceActualToOriginal.get(e.source))&&void 0!==t?t:e.source})}allGeneratedPositionsFor(e){var t;return this.original.allGeneratedPositionsFor({...e,source:null!==(t=this.sourceActualToOriginal.get(e.source))&&void 0!==t?t:e.source})}hasContentsOfAllSources(){return this.original.hasContentsOfAllSources()}sourceContentFor(e,t){var r;return this.original.sourceContentFor(null!==(r=this.sourceActualToOriginal.get(e))&&void 0!==r?r:e,t)}eachMapping(e,t,r){return this.original.eachMapping(e,t,r)}destroy(){this.original.destroy()}}t.SourceMap=o,o.idCounter=0},43430:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CachingSourceMapFactory=t.SourceMapFactory=t.ISourceMapFactory=void 0;const o=r(55053),s=r(69074),a=r(42954),c=r(58116),u=r(44413),l=r(18229),p=r(15501),d=r(7678),h=r(14090),f=r(97208),m=r(9132);t.ISourceMapFactory=Symbol("ISourceMapFactory");let g=class{constructor(e,t,r,n){this.pathResolve=e,this.resourceProvider=t,this.dap=r,this.logger=n,this.hasWarnedAboutMaps=new WeakSet}async load(e){var t,r;const n=await this.parseSourceMap(e.sourceMapUrl),i=n.sourceRoot;n.sourceRoot=void 0;let o=!1,a=[];if("sections"in n){a=[];let e=0;for(const r of n.sections)a.push(...r.map.sources),r.map.sources=r.map.sources.map((()=>`source${e++}.js`)),o||(o=!!(null===(t=r.map.names)||void 0===t?void 0:t.length))}else"sources"in n&&Array.isArray(n.sources)&&(a=n.sources,n.sources=n.sources.map(((e,t)=>`source${t}.js`)),o=!!(null===(r=n.names)||void 0===r?void 0:r.length));return new m.SourceMap(await new s.SourceMapConsumer(n),e,null!=i?i:"",a,o)}async parseSourceMap(e){let t;try{t=await this.parseSourceMapDirect(e)}catch(r){if(t=await this.parsePathMappedSourceMap(e),!t)throw r}if("sections"in t){const e=await Promise.all(t.sections.map(((e,t)=>"url"in e?this.parseSourceMap(e.url).then((t=>({offset:e.offset,map:t}))).catch((e=>{this.logger.warn("sourcemap.parsing",`Error parsing nested map ${t}: ${e}`)})):e)));t.sections=e.filter(d.truthy)}return t}async parsePathMappedSourceMap(e){if((0,f.isDataUri)(e))return;const t=await this.pathResolve.urlToAbsolutePath({url:e});if(t)try{return this.parseSourceMapDirect(t)}catch(e){this.logger.info("sourcemap.parsing","Parsing path mapped source map failed.",e)}}guardSourceMapFn(e,t,r){try{return t()}catch(t){if(!/error parsing/i.test(String(t.message)))throw t;if(!this.hasWarnedAboutMaps.has(e)){const r=(0,u.sourceMapParseFailed)(e.metadata.compiledPath,t.message).error;this.dap.output({output:r.format+"\n",category:"stderr"}),this.hasWarnedAboutMaps.add(e)}return r()}}dispose(){}async parseSourceMapDirect(e){let t=(0,f.fileUrlToAbsolutePath)(e);t&&(t=this.pathResolve.rebaseRemoteToLocal(t));const r=await this.resourceProvider.fetch(t||e);if(!r.ok)throw r.error;let n=r.body;return")]}"===n.slice(0,3)&&(n=n.substring(n.indexOf("\n"))),JSON.parse(n)}};g=n([(0,o.injectable)(),i(0,(0,o.inject)(h.ISourcePathResolver)),i(1,(0,o.inject)(a.IResourceProvider)),i(2,(0,o.inject)(c.IRootDapApi)),i(3,(0,o.inject)(p.ILogger))],g),t.SourceMapFactory=g;let y=class extends g{constructor(){super(...arguments),this.knownMaps=new l.MapUsingProjection((e=>e.toLowerCase())),this.overwrittenSourceMaps=[]}load(e){const t=this.knownMaps.get(e.sourceMapUrl);if(!t)return this.loadNewSourceMap(e);const r=e.mtime,n=t.metadata.mtime;return t.reloadIfNoMtime?r&&n&&r===n?(t.reloadIfNoMtime=!1,t.prom):(this.overwrittenSourceMaps.push(t.prom),this.loadNewSourceMap(e)):n&&r&&r!==n?(this.overwrittenSourceMaps.push(t.prom),this.loadNewSourceMap(e)):t.prom}loadNewSourceMap(e){const t=super.load(e);return this.knownMaps.set(e.sourceMapUrl,{metadata:e,reloadIfNoMtime:!1,prom:t}),t}dispose(){for(const e of this.knownMaps.values())e.prom.then((e=>e.destroy()),(()=>{}));for(const e of this.overwrittenSourceMaps)e.then((e=>e.destroy()),(()=>{}));this.knownMaps.clear()}invalidateCache(){for(const e of this.knownMaps.values())e.reloadIfNoMtime=!0}};y=n([(0,o.injectable)()],y),t.CachingSourceMapFactory=y},27819:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMetadataForFile=t.ISearchStrategy=void 0;const n=r(26379),i=r(33763),o=r(97208);t.ISearchStrategy=Symbol("ISearchStrategy"),t.createMetadataForFile=async(e,t)=>{void 0===t&&(t=await(0,n.readfile)(e));let r=(0,i.parseSourceMappingUrl)(t);if(!r)return;if(r=(0,o.completeUrl)((0,o.absolutePathToFileUrl)(e),r),!r)return;if(!r.startsWith("data:")&&!r.startsWith("file://"))return;const s=await(0,n.stat)((0,o.fileUrlToAbsolutePath)(r)||e);return s?{compiledPath:e,sourceMapUrl:r,mtime:s&&s.mtimeMs}:void 0}},85196:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.moduleAwarePathMappingResolver=t.defaultPathMappingResolver=t.getComputedSourceRoot=t.getFullSourceEntry=void 0;const s=r(57147),a=o(r(71017)),c=r(57310),u=o(r(97208)),l=r(7678),p=r(79783);function d(e,t){return e===t||(e.endsWith("/")||(e+="/"),t.startsWith(e))}function h(e,t,r){const n=decodeURIComponent(r.substring(e.length));return n?(0,p.properJoin)(t,n):t}t.getFullSourceEntry=function(e,t){return e?(e.endsWith("/")||(e+="/"),e+t):t},t.getComputedSourceRoot=async function(e,t,r,n,i){let o;if(t=u.fileUrlToAbsolutePath(t)||t,e){if(u.isFileUrl(e))o=u.fileUrlToAbsolutePath(e);else if(u.isAbsolute(e))o=await n(e,r,i)||e;else if(a.isAbsolute(t))s=t,l=e,o=(0,p.properResolve)(a.dirname(s),l);else{const s=new c.URL(t).pathname,u=await n(s,r,i),l=a.dirname(u);o=(0,p.properJoin)(l,e)}i.verbose("sourcemap.parsing","resolved sourceRoot",{sourceRoot:e,absSourceRoot:o})}else if(a.isAbsolute(t))o=a.dirname(t),i.verbose("sourcemap.parsing","no sourceRoot specified, using script dirname",{absSourceRoot:o});else{const e=new c.URL(t).pathname||"/placeholder.js",s=await n(e,r,i);o=s?a.dirname(s):"",i.verbose("sourcemap.parsing","no sourceRoot specified, using webRoot + script path dirname",{absSourceRoot:o})}var s,l;return o=u.stripTrailingSlash(o),o=(0,p.fixDriveLetterAndSlashes)(o),o},t.defaultPathMappingResolver=async(e,t,r)=>{if(!e||!e.startsWith("/"))return"";const n=Object.keys(t).sort(((e,t)=>t.length-e.length));for(let i of n){if(!i)continue;const n=t[i];if("/"!==i[0]&&(r.verbose("sourcemap.parsing",`Keys should be absolute: ${i}`),i="/"+i),d(i,e))return h(i,n,e)}return""},t.moduleAwarePathMappingResolver=(e,r)=>async(n,i,o)=>{if("win32"===process.platform&&/^[a-z]:/i.test(n))return n;const c=await u.nearestDirectoryContaining(e,a.dirname(r),"package.json");if(!c)return(0,t.defaultPathMappingResolver)(n,i,o);const p=await(0,t.defaultPathMappingResolver)(n,(0,l.filterObject)(i,(e=>e.length>=c.length)),o);if("win32"!==process.platform&&"/"!==n&&!p){const e=await s.promises.stat(n).catch((()=>{}));if(null==e?void 0:e.isDirectory())return n}return p||c}},14090:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ISourcePathResolver=void 0,t.ISourcePathResolver=Symbol("ISourcePathResolver")},33763:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSyntaxErrorIn=t.isInPatternSlot=t.getOptimalCompiledPosition=t.checkContentHash=t.parseSourceMappingUrl=t.wrapObjectLiteral=t.rewriteTopLevelAwait=t.prettyPrintAsSourceMap=void 0;const n=r(81132),i=r(26487),o=r(38347),s=r(57147),a=r(69074),c=r(26379),u=r(79191),l=r(79783),p=r(72223),d=r(9132);t.prettyPrintAsSourceMap=async function(e,t,r,o){const s=n.Parser.parse(t,{locations:!0,ecmaVersion:"latest"}),c=new a.SourceMapGenerator({file:e}),u=(0,i.generate)(s,{sourceMap:{setSourceContent:(e,t)=>c.setSourceContent(e,t),applySourceMap:(e,t,r)=>c.applySourceMap(e,t,r),toJSON:()=>c.toJSON(),toString:()=>c.toString(),addMapping:t=>c.addMapping({generated:t.original,original:{column:t.generated.column,line:t.generated.line},source:e,name:t.name})}});return c.setSourceContent(e,u),new d.SourceMap(await a.SourceMapConsumer.fromSourceMap(c),{sourceMapUrl:o,compiledPath:r},"",[e],!1)},t.rewriteTopLevelAwait=function(e){let t;try{t=(0,p.parseProgram)(e,!0)}catch(e){return}const r=(e,t)=>({type:"ExpressionStatement",expression:{type:"AssignmentExpression",operator:"=",left:e,right:t}});let n=!1,s=!1;const a=(0,o.replace)(t,{enter(e,t){switch(e.type){case"ClassDeclaration":return r(e.id||{type:"Identifier",name:"_default"},{...e,type:"ClassExpression"});case"FunctionDeclaration":return this.skip(),r(e.id||{type:"Identifier",name:"_default"},{...e,type:"FunctionExpression"});case"FunctionExpression":case"ArrowFunctionExpression":case"MethodDefinition":return o.VisitorOption.Skip;case"AwaitExpression":return void(n=!0);case"ForOfStatement":return void(e.await&&(n=!0));case"ReturnStatement":return void(s=!0);case"VariableDeclaration":if(!(t&&"body"in t&&t.body instanceof Array))return;const i=t.body,a=e.declarations.map((e=>({type:"ExpressionStatement",expression:{type:"UnaryExpression",operator:"void",prefix:!0,argument:{type:"AssignmentExpression",operator:"=",left:e.id,right:e.init||{type:"Identifier",name:"undefined"}}}})));i.splice(i.indexOf(e),1,...a)}}});if(!n||s)return;const c=a.body[a.body.length-1];"ExpressionStatement"===c.type&&(a.body[a.body.length-1]={type:"ReturnStatement",argument:c.expression});const u={type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"ArrowFunctionExpression",params:[],generator:!1,expression:!1,async:!0,body:{type:"BlockStatement",body:a.body}},arguments:[],optional:!1}};return(0,i.generate)(u)},t.wrapObjectLiteral=function(e){try{const t=(0,n.parseExpressionAt)(e,0,p.acornOptions);return t.end<e.length||"ObjectExpression"!==t.type?e:`(${e})`}catch(t){return e}},t.parseSourceMappingUrl=function(e){if(!e)return;const t="sourceMappingURL",r=e.length,n=t.length;let i=r,o=0;for(;;){if(i=e.lastIndexOf(t,i),-1===i)return;if(i<4)return;if(i-=4,"/"===e[i]&&"/"===e[i+1]&&("#"===e[i+2]||"@"===e[i+2])&&!(" "!==e[i+3]&&"\t"!==e[i+3]||(o=i+4+n,o<r&&"="!==e[o])))break}let s=e.substring(o+1);const a=s.indexOf("\n");-1!==a&&(s=s.substring(0,a)),s=s.trim();for(let e=0;e<s.length;++e)if('"'===s[e]||"'"===s[e]||" "===s[e]||"\t"===s[e])return;return s};const h=new u.Hasher;t.checkContentHash=async function(e,t,r){if(e&&!(0,l.isWithinAsar)(e))return t?("string"==typeof r?await h.verifyBytes(r,t,!0):await h.verifyFile(e,t,!0))?e:void 0:await new c.LocalFsUtils(s.promises).exists(e)?e:void 0},t.getOptimalCompiledPosition=function(e,t,r){const n=r.generatedPositionFor({source:e,line:t.lineNumber,column:t.columnNumber-1,bias:a.SourceMapConsumer.GREATEST_LOWER_BOUND}),i=e=>{if(null===e.line||null===e.column)return 1e11;const n=r.originalPositionFor(e);return null!==n.line?Math.abs(t.lineNumber-n.line):1e11},o=i(n),s=r.allGeneratedPositionsFor({source:e,line:t.lineNumber,column:t.columnNumber-1}).filter((e=>null!==e.line&&null!==e.column)).sort(((e,t)=>e.line!==t.line?e.line-t.line:e.column-t.column)).map((e=>[e,i(e)]));return s.push([n,o]),s.sort((([e,t],[r,n])=>t-n||e.line-r.line||e.column-r.column)),s[0][0]},t.isInPatternSlot=(e,t)=>!!t&&(("FunctionExpression"===t.type||"FunctionDeclaration"===t.type||"ArrowFunctionExpression"===t.type)&&t.params.includes(e)||("ForInStatement"===t.type||"ForOfStatement"===t.type)&&t.left===e||"VariableDeclarator"===t.type&&t.id===e||"AssignmentPattern"===t.type&&t.left===e||"CatchClause"===t.type&&t.param===e||"kind"in t&&"init"===t.kind&&t.value===e||"RestElement"===t.type&&t.argument===e||"AssignmentPattern"===t.type&&t.left===e),t.getSyntaxErrorIn=function(e){try{new Function(e)}catch(e){return e}}},16865:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StackTraceLocation=t.StackTraceParser=void 0;const n=r(67790),i=/^(\W*at .*\()(.*):(\d+):(\d+)(\))$/,o=/^(\W*at )(.*):(\d+):(\d+)$/;class s{constructor(e){this.stack=e}static isStackLike(e){return i.test(e)||o.test(e)}*[Symbol.iterator](){for(const e of this.stack.split("\n")){const t=i.exec(e)||o.exec(e);if(!t){yield e+"\n";continue}const[,r,s,c,u,l]=t;r&&(yield r),yield new a(s,new n.Base1Position(Number(c),Number(u))),l&&(yield l),yield"\n"}}}t.StackTraceParser=s;class a{constructor(e,t){this.path=e,this.position=t}toString(){return`${this.path}:${this.position.lineNumber}:${this.position.columnNumber}`}}t.StackTraceLocation=a},36268:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PositionToOffset=t.escapeRegexSpecialChars=t.isRegexSpecialChar=t.formatMillisForLog=t.trimMiddle=t.trimEnd=void 0,t.trimEnd=function(e,t){return e.length<=t?e:e.substr(0,t-1)+""},t.trimMiddle=function(e,t){if(e.length<=t)return e;let r=t>>1,n=t-r-1;const i=e.codePointAt(e.length-n-1);i&&i>=65536&&(--n,++r);const o=e.codePointAt(r-1);return r>0&&o&&o>=65536&&--r,e.substr(0,r)+""+e.substr(e.length-n,n)},t.formatMillisForLog=function(e){function t(e,t){const r=String(e);return"0".repeat(t-r.length)+r}const r=new Date(e);return`${t(r.getHours(),2)}:${t(r.getMinutes(),2)}:${t(r.getSeconds(),2)}.${t(r.getMilliseconds(),3)}`};const r="/\\.?*()^${}|[]+";t.isRegexSpecialChar=e=>r.includes(e),t.escapeRegexSpecialChars=function(e,t){const n=r.split("").filter((e=>!t||t.indexOf(e)<0)).join("").replace(/[\\\]]/g,"\\$&"),i=new RegExp(`[${n}]`,"g");return e.replace(i,"\\$&")},t.PositionToOffset=class{constructor(e){this.source=e,this.lines=[];let t=0;for(let r=e.indexOf("\n");-1!==r;r=e.indexOf("\n",t))this.lines.push(r-t),t=r+1;this.lines.push(e.length-t)}convert(e){const t=e.base0;if(t.lineNumber>this.lines.length)return this.source.length;let r=0;for(let e=0;e<t.lineNumber;e++)r+=this.lines[e]+1;return r+Math.min(this.lines[t.lineNumber],t.columnNumber)}}},97208:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createTargetFilter=t.requirePageTarget=t.createTargetFilterForConfig=t.platformPathToPreferredCase=t.platformPathToUrlPath=t.urlPathToPlatformPath=t.resetPlatform=t.overridePlatform=t.maybeAbsolutePathToFileUrl=t.isFileUrl=t.urlToRegex=t.isDataUri=t.isAbsolute=t.absolutePathToFileUrl=t.fileUrlToNetworkPath=t.fileUrlToAbsolutePath=t.stripTrailingSlash=t.escapeForRegExp=t.isValidUrl=t.completeUrlEscapingRoot=t.removeQueryString=t.completeUrl=t.isLoopback=t.isMetaAddress=t.isLoopbackIp=t.nearestDirectoryContaining=t.nearestDirectoryWhere=t.caseNormalizedMap=t.comparePathsWithoutCasingOrSlashes=t.comparePathsWithoutCasing=t.lowerCaseInsensitivePath=t.getCaseSensitivePaths=t.setCaseSensitivePaths=t.resetCaseSensitivePaths=void 0;const s=r(9523),a=o(r(71017)),c=r(57310),u=r(18229),l=r(7678),p=r(79783),d=r(36268);let h="win32"!==process.platform;function f(){return h}function m(e){return h?e:e.toLowerCase()}function g(e,t){return h?e===t:e.toLowerCase()===t.toLowerCase()}t.resetCaseSensitivePaths=function(){h="win32"!==process.platform},t.setCaseSensitivePaths=function(e){h=e},t.getCaseSensitivePaths=f,t.lowerCaseInsensitivePath=m,t.comparePathsWithoutCasing=g,t.comparePathsWithoutCasingOrSlashes=function(e,t){return g((0,p.forceForwardSlashes)(e),(0,p.forceForwardSlashes)(t))},t.caseNormalizedMap=function(){return f()?new Map:new u.MapUsingProjection(m)},t.nearestDirectoryWhere=async(e,t)=>{for(;;){if(await t(e))return e;const r=a.dirname(e);if(r===e)return;e=r}},t.nearestDirectoryContaining=(e,r,n)=>(0,t.nearestDirectoryWhere)(r,(t=>e.exists(a.join(t,n))));const y=new Set(["localhost","127.0.0.1","::1"]),b=new Set(["0.0.0.0","::","0000:0000:0000:0000:0000:0000:0000:0000"]);t.isLoopbackIp=e=>y.has(e.toLowerCase());const v=e=>{try{return new c.URL(e).hostname.replace(/^\[|\]$/g,"")}catch(t){return e}};function w(e){try{return new c.URL(e),!0}catch(e){return!1}}t.isMetaAddress=e=>b.has(v(e)),t.isLoopback=(0,l.memoize)((async e=>{const r=v(e);if((0,t.isLoopbackIp)(r))return!0;try{const e=await s.promises.lookup(r);return(0,t.isLoopbackIp)(e.address)}catch(e){return!1}})),t.completeUrl=function(e,t){try{return new c.URL(t,e).href}catch(e){}},t.removeQueryString=function(e){try{const t=new c.URL(e);return t.search="",t.toString()}catch(t){return e}},t.completeUrlEscapingRoot=function(e,t){try{return new c.URL(t),t}catch(e){}let r;try{r=new c.URL(e||"")}catch(e){return t}let n=r.protocol+"//";return r.username&&(n+=r.username+":"+r.password+"@"),n+=r.host,n+=a.dirname(r.pathname),"/"!==n[n.length-1]&&(n+="/"),n+=t,n},t.isValidUrl=w,t.escapeForRegExp=function(e){const t="^[]{}()\\.^$*+?|-,";let r=!1;for(let n=0;n<t.length;++n)if(-1!==e.indexOf(t.charAt(n))){r=!0;break}if(!r)return e;let n="";for(let r=0;r<e.length;++r)-1!==t.indexOf(e.charAt(r))&&(n+="\\"),n+=e.charAt(r);return n},t.stripTrailingSlash=function(e){return e.replace(/\/$/,"").replace(/\\$/,"")};const _=/^https:\/\/([a-z0-9\-]+)\+\.vscode-resource\.vscode-webview\.net\/(.+)/i;function S(e){const t=_.exec(e);if(t)e=`${t[1]}:///${t[2]}`;else if(e.startsWith("vscode-webview-resource://"))e=new c.URL(e).pathname.replace(/%2F/gi,"/").replace(/^\/([a-z0-9\-]+)(\/{1,2})/i,((e,t,r)=>1===r.length?`${t}:///`:`${t}://`));else if(!D(e))return;return e=e.replace("file:///",""),"/"===(e=decodeURIComponent(e))[0]||e.match(/^[A-Za-z]:/)||(e="/"+e),(0,p.fixDriveLetterAndSlashes)(e)}function k(e){return"win32"===O?"file:///"+A(e):"file://"+A(e)}t.fileUrlToAbsolutePath=S,t.fileUrlToNetworkPath=function(e){return D(e)&&(e=(e=e.replace("file:///","\\\\")).replace(/\//g,"\\"),e=decodeURIComponent(e)),e},t.absolutePathToFileUrl=k,t.isAbsolute=function(e){return a.posix.isAbsolute(e)||a.win32.isAbsolute(e)},t.isDataUri=function(e){return/^data:[a-z]+\/[a-z]/.test(e)};const P=(e,t,r)=>{if(!r||":"===e)return void t.add(e);if("/"===e)return void t.add(`\\${e}`);(0,d.isRegexSpecialChar)(e)?t.add(`\\${e}`):t.add(e);const n=encodeURIComponent(e);"\\"!==e&&n!==e&&t.add(n)},x=e=>{switch(e.size){case 0:return"";case 1:return e.values().next().value;default:const t=[...e];return t.some((e=>e.length>1))?`(?:${t.join("|")})`:`[${t.join("")}]`}},C=new Set,E=(e,t,r,n)=>{let i="";for(let o=t;o<r;o++){const t=e[o];h?P(t,C,n):(P(t.toLowerCase(),C,n),P(t.toUpperCase(),C,n)),i+=x(C),C.clear()}return i};function D(e){return e.startsWith("file:///")}t.urlToRegex=function(e,[t,r]=[0,e.length]){if(r<=t)return e;const n=[],i=E(e,0,t,!1),o=E(e,r,e.length,!1),s=e.slice(t,r);for(const e of[decodeURIComponent(s),S(s)]){if(!e)continue;const t=E(e,0,e.length,!0);n.push(`${i}${t}${o}`.replace(/^(file:\\\/\\\/\\\/)?([a-z]):/i,((e,t="",r)=>`${t}[${r.toUpperCase()}${r.toLowerCase()}]:`)))}return n.join("|")},t.isFileUrl=D,t.maybeAbsolutePathToFileUrl=function(e,t){return e&&M(t).startsWith(e)&&!w(t)?k(t):t};let O=process.platform;function A(e){return e=M(e),"win32"===O?e.split(/[\\//]/g).map(((e,t)=>t>0?encodeURIComponent(e):e)).join("/"):e.split("/").map(encodeURIComponent).join("/")}function M(e){return e&&"win32"===O&&":"===e[1]?e[0].toUpperCase()+e.substring(1):e}t.overridePlatform=e=>{O=e},t.resetPlatform=()=>{O=process.platform},t.urlPathToPlatformPath=function(e){return"win32"===O&&(e=e.replace(/\//g,"\\")),decodeURI(e)},t.platformPathToUrlPath=A,t.platformPathToPreferredCase=M,t.createTargetFilterForConfig=(e,r=[])=>{const n=e.urlFilter||e.url||"file"in e&&e.file;if(!n)return()=>!0;const i=(0,t.createTargetFilter)(n,...r);return e=>i(e.url)},t.requirePageTarget=e=>t=>"page"===t.type&&e(t),t.createTargetFilter=(...e)=>{const t=e=>{const t=S(e=e.toLowerCase());var r;t?e=t:(r=e)&&!a.isAbsolute(r)&&(0,c.parse)(r).protocol&&e.includes("://")&&(e=e.substr(e.indexOf("://")+3)),e.endsWith("/")&&(e=e.substr(0,e.length-1));const n=e.indexOf("#");return-1!==n&&(e=e.slice(0,"/"===e[n-1]?n-1:n)),e},r=e.map((e=>(0,d.escapeRegexSpecialChars)(t(e),"/*").replace(/(\/\*$)|\*/g,".*"))),n=new RegExp("^("+r.join("|")+")$","g");return e=>(n.lastIndex=0,n.test(t(e)))}},73454:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.extensionId=t.isNightly=t.packagePublisher=t.packageVersion=t.packageName=t.breakpointLanguages=t.resolveVariableInConfig=t.resolveWorkspaceInConfig=t.removeOptionalWorkspaceFolderUsages=t.applyDefaults=t.isConfigurationWithEnv=t.applyTerminalDefaults=t.applyExtensionHostDefaults=t.applyEdgeDefaults=t.applyChromeDefaults=t.applyNodeDefaults=t.defaultSourceMapPathOverrides=t.nodeAttachConfigDefaults=t.edgeLaunchConfigDefaults=t.chromeLaunchConfigDefaults=t.edgeAttachConfigDefaults=t.chromeAttachConfigDefaults=t.nodeLaunchConfigDefaults=t.extensionHostConfigDefaults=t.delegateDefaults=t.terminalBaseDefaults=t.baseDefaults=t.AnyLaunchConfiguration=void 0;const i=n(r(82210)),o=r(7678);t.AnyLaunchConfiguration=Symbol("AnyLaunchConfiguration"),t.baseDefaults={type:"",name:"",request:"",trace:!1,outputCapture:"console",timeout:1e4,timeouts:{},showAsyncStacks:!0,skipFiles:[],smartStep:!0,sourceMaps:!0,sourceMapRenames:!0,pauseForSourceMap:!0,resolveSourceMapLocations:null,rootPath:"${workspaceFolder}",outFiles:["${workspaceFolder}/**/*.js","!**/node_modules/**"],sourceMapPathOverrides:a("${workspaceFolder}"),enableContentValidation:!0,cascadeTerminateToConfigurations:[],__workspaceFolder:"",__remoteFilePrefix:void 0,__breakOnConditionalError:!1,customDescriptionGenerator:void 0,customPropertiesGenerator:void 0};const s={...t.baseDefaults,cwd:"${workspaceFolder}",env:{},envFile:null,pauseForSourceMap:!1,sourceMaps:!0,localRoot:null,remoteRoot:null,resolveSourceMapLocations:["**","!**/node_modules/**"],autoAttachChildProcesses:!0,runtimeSourcemapPausePatterns:[],skipFiles:["<node_internals>/**"]};function a(e){return{"webpack:///./~/*":`${e}/node_modules/*`,"webpack:////*":"/*","webpack://@?:*/?:*/*":`${e}/*`,"webpack://?:*/*":`${e}/*`,"webpack:///([a-z]):/(.+)":"$1:/$2","meteor://app/*":`${e}/*`}}function c({...e}){return!e.sourceMapPathOverrides&&e.cwd&&(e.sourceMapPathOverrides=a(e.cwd)),void 0!==e.resolveSourceMapLocations||e.remoteRoot||(e.resolveSourceMapLocations=e.outFiles),"attach"===e.request?{...t.nodeAttachConfigDefaults,...e}:{...t.nodeLaunchConfigDefaults,...e}}function u(e,r){return"attach"===e.request?{...t.chromeAttachConfigDefaults,browserAttachLocation:r,...e}:{...t.chromeLaunchConfigDefaults,browserLaunchLocation:r,...e}}function l(e,r){return"attach"===e.request?{...t.edgeAttachConfigDefaults,browserAttachLocation:r,...e}:{...t.edgeLaunchConfigDefaults,browserLaunchLocation:r,...e}}function p(e){const r={...t.extensionHostConfigDefaults,...e};return r.skipFiles=[...r.skipFiles,"**/node_modules.asar/**","**/bootstrap-fork.js"],r}function d(e){return!e.sourceMapPathOverrides&&e.cwd&&(e.sourceMapPathOverrides=a(e.cwd)),"launch"===e.request?{...t.terminalBaseDefaults,...e}:{...t.delegateDefaults,...e}}function h(e){var t,r,n,i;const s="${workspaceFolder}",a={...e,rootPath:void 0,outFiles:e.outFiles.filter((e=>!e.includes(s))),sourceMapPathOverrides:(0,o.filterValues)(e.sourceMapPathOverrides,(e=>!e.includes("${workspaceFolder}")))};return"vueComponentPaths"in a&&(a.vueComponentPaths=a.vueComponentPaths.filter((e=>!e.includes(s)))),"resolveSourceMapLocations"in a&&(a.resolveSourceMapLocations=null!==(r=null===(t=a.resolveSourceMapLocations)||void 0===t?void 0:t.filter((e=>!e.includes(s))))&&void 0!==r?r:null),"cwd"in a&&(null===(n=a.cwd)||void 0===n?void 0:n.includes(s))&&(a.cwd=void 0),"webRoot"in a&&(null===(i=a.webRoot)||void 0===i?void 0:i.includes(s))&&(a.webRoot="/"),a}function f(e){return e.__workspaceFolder||(e=h(e)),e=m(e,"workspaceFolder",e.__workspaceFolder),m(e,"webRoot","webRoot"in e?e.webRoot:e.__workspaceFolder)}function m(e,t,r){let n;if("string"==typeof e)n=e.replace(new RegExp(`\\$\\{${t}\\}`,"g"),(()=>{if(!r)throw new Error(`Unable to resolve \${${t}} in configuration (${JSON.stringify(t)})`);return r}));else if(e instanceof Array)n=e.map((e=>m(e,t,r)));else if("object"==typeof e&&e){const i={};for(const[n,o]of Object.entries(e))i[m(n,t,r)]=m(o,t,r);n=i}else n=e;return n}t.terminalBaseDefaults={...s,showAsyncStacks:{onceBreakpointResolved:16},type:"node-terminal",request:"launch",name:"JavaScript Debug Terminal"},t.delegateDefaults={...s,type:"node-terminal",request:"attach",name:t.terminalBaseDefaults.name,showAsyncStacks:{onceBreakpointResolved:16},delegateId:-1},t.extensionHostConfigDefaults={...s,type:"pwa-extensionHost",name:"Debug Extension",request:"launch",args:["--extensionDevelopmentPath=${workspaceFolder}"],outFiles:["${workspaceFolder}/out/**/*.js"],resolveSourceMapLocations:["${workspaceFolder}/**","!**/node_modules/**"],rendererDebugOptions:{},runtimeExecutable:"${execPath}",autoAttachChildProcesses:!1,debugWebviews:!1,debugWebWorkerHost:!1,__sessionId:""},t.nodeLaunchConfigDefaults={...s,type:"pwa-node",request:"launch",program:"",cwd:"${workspaceFolder}",stopOnEntry:!1,console:"internalConsole",restart:!1,args:[],runtimeExecutable:"node",runtimeVersion:"default",runtimeArgs:[],profileStartup:!1,attachSimplePort:null,killBehavior:"forceful"},t.chromeAttachConfigDefaults={...t.baseDefaults,type:"pwa-chrome",request:"attach",address:"localhost",port:0,disableNetworkCache:!0,pathMapping:{},url:null,restart:!1,urlFilter:"",sourceMapPathOverrides:a("${webRoot}"),webRoot:"${workspaceFolder}",server:null,browserAttachLocation:"workspace",targetSelection:"automatic",vueComponentPaths:["${workspaceFolder}/**/*.vue","!**/node_modules/**"],perScriptSourcemaps:"auto"},t.edgeAttachConfigDefaults={...t.chromeAttachConfigDefaults,type:"pwa-msedge",useWebView:!1},t.chromeLaunchConfigDefaults={...t.chromeAttachConfigDefaults,type:"pwa-chrome",request:"launch",cwd:null,file:null,env:{},urlFilter:"*",includeDefaultArgs:!0,runtimeArgs:null,runtimeExecutable:"*",userDataDir:!0,browserLaunchLocation:"workspace",profileStartup:!1,cleanUp:"wholeBrowser"},t.edgeLaunchConfigDefaults={...t.chromeLaunchConfigDefaults,type:"pwa-msedge",useWebView:!1},t.nodeAttachConfigDefaults={...s,type:"pwa-node",attachExistingChildren:!0,address:"localhost",port:9229,restart:!1,request:"attach",continueOnAttach:!1},t.defaultSourceMapPathOverrides=a,t.applyNodeDefaults=c,t.applyChromeDefaults=u,t.applyEdgeDefaults=l,t.applyExtensionHostDefaults=p,t.applyTerminalDefaults=d,t.isConfigurationWithEnv=e=>"object"==typeof e&&!!e&&"env"in e&&"envFile"in e,t.applyDefaults=function(e,t){let r;const n="remote"===t?"ui":"workspace";switch(e.type){case"pwa-node":r=c(e);break;case"pwa-msedge":r=l(e,n);break;case"pwa-chrome":r=u(e,n);break;case"pwa-extensionHost":r=p(e);break;case"node-terminal":r=d(e);break;default:throw(0,o.assertNever)(e,"Unknown config: {value}")}return f(r)},t.removeOptionalWorkspaceFolderUsages=h,t.resolveWorkspaceInConfig=f,t.resolveVariableInConfig=m,t.breakpointLanguages=["javascript","typescript","typescriptreact","javascriptreact","fsharp","html"],t.packageName=i.default.name,t.packageVersion=i.default.version,t.packagePublisher=i.default.publisher,t.isNightly=t.packageName.includes("nightly"),t.extensionId=`${t.packagePublisher}.${t.packageName}`},58116:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IRootDapApi=t.IDapApi=t.isRequest=void 0;const n=r(78986),i=r(44413),o=r(66775),s=r(1032);t.isRequest=e=>e.endsWith("Request"),t.IDapApi=Symbol("IDapApi"),t.IRootDapApi=Symbol("IRootDapApi"),t.default=class{constructor(e,t){this.transport=e,this.logger=t,this._pendingRequests=new Map,this._requestHandlers=new Map,this._eventListeners=new Map,this.disposables=[],this._initialized=(0,n.getDeferred)(),this.closed=!1,this._sequence=1,this.disposables.push(this.transport.messageReceived((e=>this._onMessage(e.message,e.receivedTime)))),this._dap=Promise.resolve(this._createApi())}get initializedBlocker(){return this._initialized.promise}attachTelemetry(e){this.telemetryReporter=e,this._dap.then((t=>e.attachDap(t)))}dap(){return this._dap}_createApi(){return new Proxy({},{get:(e,r)=>{if("then"!==r)return"on"===r?(e,t)=>(this._requestHandlers.set(e,t),()=>this._requestHandlers.delete(e)):"off"===r?e=>this._requestHandlers.delete(e):e=>{if((0,t.isRequest)(r))return this.enqueueRequest(r.slice(0,-"Request".length),e);this._send({seq:0,type:"event",event:r,body:e})}}})}createTestApi(){const e=(e,t)=>{let r=this._eventListeners.get(e);r||(r=new Set,this._eventListeners.set(e,r)),r.add(t)},t=(e,t)=>{const r=this._eventListeners.get(e);r&&r.delete(t)},r=(r,n)=>new Promise((i=>{const o=e=>{n&&!n(e)||(t(r,o),i(e))};e(r,o)}));return new Proxy({},{get:(n,i)=>"on"===i?e:"off"===i?t:"once"===i?r:e=>this.enqueueRequest(i,e)})}enqueueRequest(e,t){return new Promise((r=>{const n={seq:0,type:"request",command:e,arguments:t||{}};this._send(n),this._pendingRequests.set(n.seq,r)}))}stop(){this.closed=!0,this.transport.close()}_send(e){if(this.closed)this.logger.warn("dap.send","Not sending message because the connection has ended",e);else{e.seq=this._sequence++;const t="event"!==e.type||!o.logOmittedCalls.has(e.body);this.transport.send(e,t)}}async _onMessage(e,t){var r,n,o,a;if("request"===e.type){const o={seq:0,type:"response",request_seq:e.seq,command:e.command,success:!0};try{const n=this._requestHandlers.get(e.command);if(n){const t=await n(e.arguments);(0,i.isDapError)(t)?this._send({...o,success:!1,message:t.error.format,body:{error:t.error}}):(this._send({...o,body:t}),"initialize"===o.command?this._initialized.resolve(this):"disconnect"===o.command&&process.nextTick((()=>{this.stop()})))}else console.error(`Unknown request: ${e.command}`);null===(r=this.telemetryReporter)||void 0===r||r.reportOperation("dapOperation",e.command,t.elapsed().ms)}catch(r){r instanceof s.ProtocolError?this._send({...o,success:!1,body:{error:r.cause}}):(console.error(r),this._send({...o,success:!1,body:{error:{id:9221,format:`Error processing ${e.command}: ${r.stack||r.message}`,showUser:!1,sendTelemetry:!1}}})),null===(n=this.telemetryReporter)||void 0===n||n.reportOperation("dapOperation",e.command,t.elapsed().ms,r)}}if("event"===e.type){const t=this._eventListeners.get(e.event)||new Set;for(const r of t)r(e.body)}if("response"===e.type){const t=this._pendingRequests.get(e.request_seq);if(!this.logger.assert(t,`Expected callback for request sequence ID ${e.request_seq}`))return;this._pendingRequests.delete(e.request_seq),e.success?t(e.body):t((null===(a=null===(o=e.body)||void 0===o?void 0:o.error)||void 0===a?void 0:a.format)||e.message||"Unknown error")}}}},44413:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.isErrorOfType=t.isDapError=t.noUwpPipeFound=t.uwpPipeNotAvailable=t.sourceMapParseFailed=t.threadNotAvailable=t.invalidBreakPointCondition=t.asyncScopesNotAvailable=t.invalidLogPointSyntax=t.targetPageNotFound=t.browserAttachFailed=t.browserLaunchFailed=t.browserNotFound=t.replError=t.invalidConcurrentProfile=t.profileCaptureError=t.invalidHitCondition=t.nodeBinaryOutOfDate=t.cannotFindNodeBinary=t.cannotLoadEnvironmentVars=t.cannotLaunchInTerminal=t.nvmVersionNotFound=t.nvmHomeNotFound=t.nvsNotFound=t.nvmNotFound=t.createUserError=t.createSilentError=t.reportToConsole=void 0;const s=o(r(33463)),a=r(1032),c=s.loadMessageBundle(r(71017).join(__dirname,"dap\\errors.js"));function u(e,t=9222){return{__errorMarker:!0,error:{id:t,format:e,showUser:!1}}}function l(e,t=9223){return{__errorMarker:!0,error:{id:t,format:e,showUser:!0}}}t.reportToConsole=function(e,t){e.output({category:"console",output:t+"\n"})},t.createSilentError=u,t.createUserError=l,t.nvmNotFound=()=>l(c(0,null),9224),t.nvsNotFound=()=>l(c(1,null),9225),t.nvmHomeNotFound=()=>l(c(2,null),9226),t.nvmVersionNotFound=(e,t)=>l(c(3,null,e,t),9226),t.cannotLaunchInTerminal=e=>l(c(4,null,e),9227),t.cannotLoadEnvironmentVars=e=>l(c(5,null,e),9228),t.cannotFindNodeBinary=(e,t)=>l(c(6,null,e,t),9229),t.nodeBinaryOutOfDate=(e,t)=>l(c(7,null,t,e),9230),t.invalidHitCondition=e=>l(c(8,null,e),9231),t.profileCaptureError=()=>l(c(9,null),9235),t.invalidConcurrentProfile=()=>l(c(10,null),9236),t.replError=e=>u(e,9238),t.browserNotFound=(e,t,r)=>l("*"!==t||r.length?c(12,null,e,t,JSON.stringify([...new Set(r)])):c(11,null),9233),t.browserLaunchFailed=e=>l(c(13,null,e.message),9240),t.browserAttachFailed=e=>l(null!=e?e:c(14,null),9242),t.targetPageNotFound=()=>l(c(15,null),9241),t.invalidLogPointSyntax=e=>l(e,9232),t.asyncScopesNotAvailable=()=>u(c(16,null),9234),t.invalidBreakPointCondition=(e,t)=>l(c(17,null,JSON.stringify(e.condition),e.line,t),9237),t.threadNotAvailable=()=>u(c(18,null),9244),t.sourceMapParseFailed=(e,t)=>l(c(19,null,e,t)),t.uwpPipeNotAvailable=()=>l(c(20,null)),t.noUwpPipeFound=()=>l(c(21,null)),t.isDapError=e=>"object"==typeof e&&!!e&&"__errorMarker"in e,t.isErrorOfType=(e,t)=>e instanceof a.ProtocolError&&e.cause.id===t},66775:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.omitLoggingFor=t.logOmittedCalls=void 0,t.logOmittedCalls=new WeakSet,t.omitLoggingFor=e=>(t.logOmittedCalls.add(e),e)},1032:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolError=void 0;class r extends Error{constructor(e){super("__errorMarker"in e?e.error.format:e.format),this._cause="__errorMarker"in e?e.error:e}get cause(){return this._cause}}t.ProtocolError=r},80112:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionIdDapTransport=t.StreamDapTransport=void 0;const n=r(44936),i=r(51457),o="\r\n\r\n";let s=0;t.StreamDapTransport=class{constructor(e,t,r){this.inputStream=e,this.outputStream=t,this._contentLength=-1,this._connectionId=s++,this.msgEmitter=new n.EventEmitter,this.messageReceived=this.msgEmitter.event,this.endedEmitter=new n.EventEmitter,this.closed=this.endedEmitter.event,this._handleData=e=>{var t;const r=new i.HrTime;for(this._rawData=Buffer.concat([this._rawData,e]);;){if(this._contentLength>=0){if(this._rawData.length>=this._contentLength){const e=this._rawData.toString("utf8",0,this._contentLength);if(this._rawData=this._rawData.slice(this._contentLength),this._contentLength=-1,e.length>0)try{const n=JSON.parse(e);null===(t=this.logger)||void 0===t||t.verbose("dap.receive",void 0,{connectionId:this._connectionId,message:n}),this.msgEmitter.fire({message:n,receivedTime:r})}catch(e){console.error("Error handling data: "+(e&&e.message))}continue}}else{const e=this._rawData.indexOf(o);if(-1!==e){const t=this._rawData.toString("utf8",0,e).split("\r\n");for(let e=0;e<t.length;e++){const r=t[e].split(/: +/);"Content-Length"===r[0]&&(this._contentLength=+r[1])}this._rawData=this._rawData.slice(e+o.length);continue}}break}},this.logger=r,this._rawData=Buffer.alloc(0),e.on("end",(()=>this.endedEmitter.fire())),e.on("data",this._handleData)}send(e,t=!0){var r,n;const i=JSON.stringify(e);if(t){let t=e;"response"===e.type&&"source"===e.command&&(t={...e,body:{...e.body,content:"<script source>"}}),null===(r=this.logger)||void 0===r||r.verbose("dap.send",void 0,{connectionId:this._connectionId,message:t})}const o=`Content-Length: ${Buffer.byteLength(i,"utf8")}\r\n\r\n${i}`;this.outputStream.destroyed?null===(n=this.logger)||void 0===n||n.warn("dap.send","Message not sent. Connection was closed."):this.outputStream.write(o,"utf8",(e=>{var t;e&&(null===(t=this.logger)||void 0===t||t.error("dap.send","Error while writing to output stream",e),this.close())}))}close(){this.inputStream.destroy(),this.outputStream.destroy()}setLogger(e){return this.logger=e,this}},t.SessionIdDapTransport=class{constructor(e,t){this.sessionId=e,this.rootTransport=t,this.sessionIdMessageEmitter=new n.EventEmitter,this.messageReceived=this.sessionIdMessageEmitter.event,this.closedEmitter=new n.EventEmitter,this.closed=this.closedEmitter.event,this._isClosed=!1,this.disposables=[],this.disposables.push(t.messageReceived((e=>this.onMessage(e)))),this.disposables.push(t.closed((()=>this.close())))}send(e,t){this._isClosed||(e.sessionId=this.sessionId,this.rootTransport.send(e,t))}setLogger(e){return this.rootTransport.setLogger(e),this}onMessage(e){this._isClosed||e.message.sessionId!==this.sessionId||this.sessionIdMessageEmitter.fire(e)}close(){this._isClosed=!0,this.disposables.forEach((e=>e.dispose())),this.closedEmitter.fire()}}},17014:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toolPath=void 0;const n=r(71017);t.toolPath=(0,n.join)(__dirname,"diagnosticTool.bundle.js")},99010:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IExtensionContribution=t.disposeContainer=t.trackDispose=t.SessionSubStates=t.BrowserFinder=t.ExtensionLocation=t.FS=t.Execa=t.ProcessEnv=t.ExtensionContext=t.IsVSCode=t.VSCodeApi=t.IInitializeParams=t.StoragePath=t.IContainer=void 0,t.IContainer=Symbol("IContainer"),t.StoragePath=Symbol("StoragePath"),t.IInitializeParams=Symbol("IInitializeParams"),t.VSCodeApi=Symbol("VSCodeApi"),t.IsVSCode=Symbol("IsVSCode"),t.ExtensionContext=Symbol("ExtensionContext"),t.ProcessEnv=Symbol("ProcessEnv"),t.Execa=Symbol("execa"),t.FS=Symbol("FS"),t.ExtensionLocation="ExtensionLocation",t.BrowserFinder=Symbol("IBrowserFinder"),t.SessionSubStates=Symbol("SessionSubStates");const r=new WeakMap;t.trackDispose=(e,t)=>{if("object"!=typeof t||!t||!("dispose"in t))return t;const n=t,i=r.get(e.container);return i?i.push(n):r.set(e.container,[n]),t},t.disposeContainer=e=>{var t;null===(t=r.get(e))||void 0===t||t.forEach((e=>e.dispose()))},t.IExtensionContribution=Symbol("IExtensionContribution")},2263:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.provideLaunchParams=t.createGlobalContainer=t.createTopLevelSessionContainer=t.createTargetContainer=void 0;const i=r(5324),o=n(r(79850)),s=r(57147),a=r(55053);r(59544);const c=r(52287),u=r(31939),l=r(31625),p=r(37853),d=r(75951),h=r(51695),f=r(54216),m=r(74497),g=r(64966),y=r(68164),b=r(45997),v=r(92249),w=r(80935),_=r(91183),S=r(23200),k=r(23601),P=r(58269),x=r(38124),C=r(30308),E=r(42954),D=r(83739),O=r(42842),A=r(58871),M=r(93241),T=r(46989),j=r(67523),R=r(44873),F=r(24862),I=r(63216),L=r(78472),N=r(8261),B=r(95882),$=r(26379),U=r(15501),q=r(74839),V=r(221),H=r(58893),W=r(34285),G=r(43430),z=r(27819),K=r(14090),J=r(73454),Q=r(58116),X=r(99010),Y=r(52886),Z=r(68773),ee=r(20478),te=r(9743),re=r(5319),ne=r(6711),ie=r(90505),oe=r(33915),se=r(28247),ae=r(10735),ce=r(19282),ue=r(31819),le=r(82252),pe=r(34370),de=r(45957),he=r(13213),fe=r(88031),me=r(95077),ge=r(77584),ye=r(72518),be=r(74966),ve=r(16362),we=r(50036),_e=r(63634),Se=r(78563),ke=r(18322),Pe=r(63028),xe=r(43224);t.createTargetContainer=(e,t,r,n)=>{const i=new a.Container;return i.parent=e,i.bind(J.AnyLaunchConfiguration).toConstantValue(t.launchConfig),i.bind(X.IContainer).toConstantValue(i),i.bind(Q.IDapApi).toConstantValue(r),i.bind(I.ICdpApi).toConstantValue(n),i.bind(we.ITarget).toConstantValue(t),i.bind(ve.ITargetOrigin).toConstantValue(t.targetOrigin()),i.bind(E.IResourceProvider).to(A.StatefulResourceProvider).inSingletonScope(),i.bind(l.IBreakpointConditionFactory).to(l.BreakpointConditionFactory).inSingletonScope(),i.bind(p.LogPointCompiler).toSelf().inSingletonScope(),i.bind(w.PerformanceProviderFactory).toSelf(),i.bind(w.IPerformanceProvider).toDynamicValue((e=>e.container.get(w.PerformanceProviderFactory).create())).inSingletonScope(),i.bind(c.BreakpointPredictorDelegate).toSelf().inSingletonScope(),i.bind(c.IBreakpointsPredictor).toDynamicValue((()=>e.get(c.IBreakpointsPredictor).getChild())).inSingletonScope().onActivation(X.trackDispose),i.bind(xe.ITelemetryReporter).to(process.env.DA_TEST_DISABLE_TELEMETRY?Pe.NullTelemetryReporter:_e.DapTelemetryReporter).inSingletonScope().onActivation(X.trackDispose),i.bind(u.BreakpointManager).toSelf().inSingletonScope(),i.bind(R.SourceContainer).toSelf().inSingletonScope(),i.bind(g.Diagnostics).toSelf().inSingletonScope(),i.bind(T.IScriptSkipper).to(M.ScriptSkipper).inSingletonScope(),i.bind(j.SmartStepper).toSelf().inSingletonScope(),i.bind(v.IExceptionPauseService).to(v.ExceptionPauseService).inSingletonScope(),i.bind(h.ICompletions).to(h.Completions).inSingletonScope(),i.bind(b.IEvaluator).to(b.Evaluator).inSingletonScope(),i.bind(f.IConsole).to(m.Console).inSingletonScope(),i.bind(P.BasicCpuProfiler).toSelf(),i.bind(x.BasicHeapProfiler).toSelf(),i.bind(C.HeapDumpProfiler).toSelf(),i.bind(k.IProfilerFactory).to(k.ProfilerFactory).inSingletonScope(),i.bind(S.IProfileController).to(S.ProfileController).inSingletonScope(),i.bind(d.ICdpProxyProvider).to(d.CdpProxyProvider).inSingletonScope().onActivation(X.trackDispose),i},t.createTopLevelSessionContainer=e=>{const t=new a.Container;t.parent=e,t.bind(X.IContainer).toConstantValue(t),t.bind(U.ILogger).to(q.Logger).inSingletonScope().onActivation(X.trackDispose),t.bind(O.ResourceProviderState).toSelf().inSingletonScope(),t.bind(E.IResourceProvider).to(A.StatefulResourceProvider).inSingletonScope(),t.bind(xe.ITelemetryReporter).to(process.env.DA_TEST_DISABLE_TELEMETRY?Pe.NullTelemetryReporter:_e.DapTelemetryReporter).inSingletonScope().onActivation(X.trackDispose),t.bind(B.OutFiles).to(B.OutFiles).inSingletonScope(),t.bind(B.VueComponentPaths).to(B.VueComponentPaths).inSingletonScope(),t.bind(F.IVueFileMapper).to(F.VueFileMapper).inSingletonScope(),t.bind(z.ISearchStrategy).toDynamicValue((e=>H.CodeSearchStrategy.createOrFallback(e.container.get(U.ILogger)))).inSingletonScope(),t.bind(le.INodeBinaryProvider).to(le.InteractiveNodeBinaryProvider),t.bind(re.RemoteBrowserHelper).toSelf().inSingletonScope().onActivation(X.trackDispose),t.bind(me.RestartPolicyFactory).toSelf(),t.bind(we.ILauncher).to(oe.VSCodeRendererAttacher).onActivation(X.trackDispose),t.bind(we.ILauncher).to(ae.ExtensionHostAttacher).onActivation(X.trackDispose),t.bind(we.ILauncher).to(ce.ExtensionHostLauncher).onActivation(X.trackDispose),t.bind(we.ILauncher).to(pe.NodeLauncher).onActivation(X.trackDispose),t.bind(fe.IProgramLauncher).to(ge.SubprocessProgramLauncher),t.bind(fe.IProgramLauncher).to(ye.TerminalProgramLauncher),t.bind(he.IPackageJsonProvider).to(he.PackageJsonProvider).inSingletonScope(),e.get(X.IsVSCode)&&(t.bind(we.ILauncher).to(r(71592).TerminalNodeLauncher).onActivation(X.trackDispose),t.bind(D.IRequestOptionsProvider).to(r(53150).SettingRequestOptionsProvider).inSingletonScope(),t.bind(Se.IExperimentationService).to(r(60597).VSCodeExperimentationService).inSingletonScope()),t.bind(we.ILauncher).to(ue.NodeAttacher).onActivation(X.trackDispose),t.bind(Z.ChromeLauncher).toSelf().inSingletonScope().onActivation(X.trackDispose),t.bind(we.ILauncher).toService(Z.ChromeLauncher),t.bind(we.ILauncher).to(ee.EdgeLauncher).inSingletonScope().onActivation(X.trackDispose),t.bind(we.ILauncher).to(ne.RemoteBrowserLauncher).inSingletonScope().onActivation(X.trackDispose),t.bind(we.ILauncher).to(te.RemoteBrowserAttacher).inSingletonScope().onActivation(X.trackDispose),t.bind(we.ILauncher).to(ie.UWPWebviewBrowserAttacher).inSingletonScope().onActivation(X.trackDispose),t.bind(we.ILauncher).to(Y.BrowserAttacher).onActivation(X.trackDispose),t.bind(we.ILauncher).toDynamicValue((()=>e.get(se.DelegateLauncherFactory).createLauncher(t.get(U.ILogger)))).inSingletonScope();const n=e=>t=>new e(t.container.get(X.ProcessEnv),t.container.get(X.FS),t.container.get(X.Execa));return t.bind(X.BrowserFinder).toDynamicValue(n(i.ChromeBrowserFinder)).inSingletonScope().whenTargetTagged("browser","chrome"),t.bind(X.BrowserFinder).toDynamicValue(n(i.EdgeBrowserFinder)).inSingletonScope().whenTargetTagged("browser","edge"),t},t.createGlobalContainer=e=>{const t=new a.Container;return t.bind(X.IContainer).toConstantValue(t),t.bind(se.DelegateLauncherFactory).toSelf().inSingletonScope(),t.bind(be.NodeOnlyPathResolverFactory).toSelf().inSingletonScope(),t.bind(Se.IExperimentationService).to(ke.NullExperimentationService).inSingletonScope(),t.bind(X.SessionSubStates).toConstantValue(new L.ObservableMap),t.bind(N.IDefaultBrowserProvider).to(N.DefaultBrowserProvider).inSingletonScope(),t.bind(X.StoragePath).toConstantValue(e.storagePath),t.bind(X.IsVSCode).toConstantValue(e.isVsCode),t.bind(de.INvmResolver).to(de.NvmResolver),t.bind(_.IPortLeaseTracker).to(_.PortLeaseTracker).inSingletonScope(),t.bind(X.ProcessEnv).toConstantValue(process.env),t.bind(X.Execa).toConstantValue(o.default),t.bind(X.FS).toConstantValue(s.promises),t.bind($.IFsUtils).toConstantValue(new $.LocalFsUtils(s.promises)),t.bind(X.ExtensionLocation).toConstantValue(e.isRemote?"remote":"local"),e.context&&t.bind(X.ExtensionContext).toConstantValue(e.context),e.isVsCode&&(t.bind(X.VSCodeApi).toConstantValue(r(89496)),r(21756).E(t)),t},t.provideLaunchParams=(e,t,r)=>{e.bind(V.MutableLaunchConfig).toConstantValue((0,V.createMutableLaunchConfig)(t)),e.bind(J.AnyLaunchConfiguration).toService(V.MutableLaunchConfig),e.bind(be.ISourcePathResolverFactory).to(be.SourcePathResolverFactory).inSingletonScope(),e.bind(Q.IRootDapApi).toConstantValue(r),e.bind(K.ISourcePathResolver).toDynamicValue((e=>e.container.get(be.ISourcePathResolverFactory).create(t,e.container.get(U.ILogger)))).inSingletonScope(),e.bind($.IFsUtils).toConstantValue($.LocalAndRemoteFsUtils.create(t.__remoteFilePrefix,s.promises,r)),e.bind(G.ISourceMapFactory).to(G.CachingSourceMapFactory).inSingletonScope().onActivation(X.trackDispose),e.bind(W.IRenameProvider).to(W.RenameProvider).inSingletonScope(),e.bind(y.DiagnosticToolSuggester).toSelf().inSingletonScope().onActivation(X.trackDispose),e.bind(c.BreakpointsPredictor).toSelf(),e.bind(c.IBreakpointsPredictor).toDynamicValue((e=>new c.BreakpointPredictorDelegate(e.container.get(G.ISourceMapFactory),(()=>e.container.get(c.BreakpointsPredictor))))).inSingletonScope()}},55646:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServerSessionManager=void 0;const n=r(91183),i=r(78986),o=r(80112),s=r(91350);t.ServerSessionManager=class{constructor(e,t){this.disposables=[],this.servers=new Map,this.sessionManager=new s.SessionManager(e,t),this.portLeaseTracker=e.get(n.IPortLeaseTracker),this.disposables.push(this.sessionManager)}createDebugServer(e,t){return e.configuration.__pendingTargetId?this.createChildDebugServer(e):this.createRootDebugServer(e,t)}createRootDebugServer(e,t){return this.innerCreateServer(e,(t=>this.sessionManager.createNewRootSession(e,t)),t)}createRootDebugSessionFromStreams(e,t,r){const n=new o.StreamDapTransport(t,r);return this.sessionManager.createNewRootSession(e,n)}createChildDebugServer(e){return this.innerCreateServer(e,(t=>this.sessionManager.createNewChildSession(e,e.configuration.__pendingTargetId,t)))}async innerCreateServer(e,t,r){const s=(0,i.getDeferred)(),a=await(0,n.acquireTrackedServer)(this.portLeaseTracker,(e=>{const r=new o.StreamDapTransport(e,e),n=t(r);s.resolve(n.connection)}),r);return this.servers.set(e.id,a),{server:a,connectionPromise:s.promise}}terminate(e){var t;this.sessionManager.terminate(e),null===(t=this.servers.get(e.id))||void 0===t||t.close(),this.servers.delete(e.id)}dispose(){this.sessionManager.dispose()}}},91350:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SessionManager=t.RootSession=t.Session=void 0;const i=r(5504),o=r(5376),s=r(15501),a=n(r(58116)),c=r(2263),u=r(99010),l=r(16362),p=r(43224);class d{constructor(e,t,r,n,i){this.debugSession=e,this.logger=r,this.sessionStates=n,this.parent=i,this.subscriptions=new o.DisposableList,t.setLogger(r),this.connection=new a.default(t,this.logger)}listenToTarget(e){this.subscriptions.push(e.onNameChanged((()=>this.setName(e))),this.sessionStates.onAdd((([t])=>t===this.debugSession.id&&this.setName(e))),this.sessionStates.onRemove((([t])=>t===this.debugSession.id&&this.setName(e)))),this.setName(e)}dispose(){this.subscriptions.dispose()}setName(e){const t=this.sessionStates.get(this.debugSession.id);let r=e.name();this.parent instanceof h&&(r=`${this.parent.debugSession.name}: ${r}`),this.debugSession.name=t?`${r} (${t})`:r}}t.Session=d;class h extends d{constructor(e,t,r){super(e,t,r.get(s.ILogger),r.get(u.SessionSubStates)),this.debugSession=e,this.services=r,this.connection.attachTelemetry(r.get(p.ITelemetryReporter))}createBinder(e){this._binder=new i.Binder(e,this.connection,this.services,new l.TargetOrigin(this.debugSession.id))}dispose(){var e,t;super.dispose(),null===(t=null===(e=this._binder)||void 0===e?void 0:e.dispose)||void 0===t||t.call(e)}}t.RootSession=h,t.SessionManager=class{constructor(e,t){this.globalContainer=e,this.sessionLauncher=t,this._disposables=[],this._sessions=new Map,this._pendingTarget=new Map,this._sessionForTarget=new Map,this._sessionForTargetCallbacks=new Map}terminate(e){const t=this._sessions.get(e.id);this._sessions.delete(e.id),t&&t.dispose()}createNewRootSession(e,t){const r=new h(e,t,(0,c.createTopLevelSessionContainer)(this.globalContainer));return r.createBinder(this),this._sessions.set(e.id,r),r}createNewChildSession(e,t,r){var n;const i=this._pendingTarget.get(t);if(!i)throw new Error(`Cannot find target ${t}`);const{target:o,parent:s}=i,a=new d(e,r,s.logger,s.sessionStates,s);this._pendingTarget.delete(t),a.debugSession.name=o.name(),a.listenToTarget(o);const c=this._sessionForTargetCallbacks.get(o);return this._sessionForTargetCallbacks.delete(o),null===(n=null==c?void 0:c.fulfill)||void 0===n||n.call(c,a),this._sessions.set(e.id,a),a}async acquireDap(e){return(await this.getOrLaunchSession(e)).connection}getOrLaunchSession(e){const t=this._sessionForTarget.get(e);if(t)return t;const r=new Promise((async(t,r)=>{var n,i;let o;const s=e.parent();if(o=s?await this.getOrLaunchSession(s):this._sessions.get(e.targetOrigin().id),!o)throw new Error("Expected to get a parent debug session for target");this._pendingTarget.set(e.id(),{target:e,parent:o}),this._sessionForTargetCallbacks.set(e,{fulfill:t,reject:r});const a=o.debugSession.configuration,c={type:"pwa-extensionHost"===a.type?"pwa-chrome":a.type,name:e.name(),request:o.debugSession.configuration.request,__pendingTargetId:e.id(),preRestartTask:null!==(n=a.preRestartTask)&&void 0!==n?n:a.postDebugTask,postRestartTask:null!==(i=a.postRestartTask)&&void 0!==i?i:a.preLaunchTask};this.sessionLauncher.launch(o,e,c)}));return this._sessionForTarget.set(e,r),r}initAdapter(){return Promise.resolve(!1)}releaseDap(e){this._sessionForTarget.delete(e);const t=this._sessionForTargetCallbacks.get(e);t&&t.reject(new Error("Target gone")),this._sessionForTargetCallbacks.delete(e)}dispose(){for(const e of this._sessions.values())e.dispose();this._sessions.clear(),this._pendingTarget.clear(),this._sessionForTarget.clear(),this._sessionForTargetCallbacks.clear();for(const e of this._disposables)e.dispose();this._disposables=[]}}},2403:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BreakpointsStatisticsCalculator=void 0;class r{constructor(e=!1,t=!1){this.verified=e,this.hit=t}}t.BreakpointsStatisticsCalculator=class{constructor(){this._statisticsById=new Map}registerBreakpoints(e){e.forEach((e=>{void 0!==e.id&&!this._statisticsById.has(e.id)&&this._statisticsById.set(e.id,new r(e.verified,!1))}))}registerResolvedBreakpoint(e){this.getStatistics(e).verified=!0}registerBreakpointHit(e){this.getStatistics(e).hit=!0}getStatistics(e){const t=this._statisticsById.get(e);if(void 0!==t)return t;{const t=new r;return this._statisticsById.set(e,t),t}}statistics(){let e=0,t=0,r=0;for(const n of this._statisticsById.values())e++,n.hit&&r++,n.verified&&t++;return{set:e,verified:t,hit:r}}}},83085:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BlazorSourcePathResolver=void 0;const a=s(r(71017)),c=o(r(97208)),u=r(64416);class l extends u.BrowserSourcePathResolver{constructor(e,t,r,n){if(super(e,t,r,n),this.blazorInCodespacesRegexpSubstitution="$1:\\$2",this.options.remoteFilePrefix){const e=`\\${a.default.sep}`,t=this.options.remoteFilePrefix.replace(new RegExp(e,"g"),e);this.blazorInCodespacesRegexp=new RegExp(`^${t}${e}([A-z])\\$${e}(.*)$`)}else this.blazorInCodespacesRegexp=new RegExp("")}absolutePathToUrlRegexp(e){if(!this.options.remoteFilePrefix){const t=c.absolutePathToFileUrl(e);return c.urlToRegex(t)}{const t=e.replace(this.blazorInCodespacesRegexp,this.blazorInCodespacesRegexpSubstitution),r=c.platformPathToUrlPath(t).replace(/^(\w):(.*)$/,"$1$2"),n=c.urlToRegex(r);if(n){const t=`dotnet://.*\\.dll/${n}`;return this.logger.verbose("runtime.breakpoints","absolutePathToUrlRegexp.blazor.remoteFs",{absolutePath:e,dotnetUrlRegexp:t}),t}}return super.absolutePathToUrlRegexp(e)}}t.BlazorSourcePathResolver=l},2462:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserArgs=void 0;const n=r(7678),i="--remote-debugging-port",o="--remote-debugging-pipe",s=e=>{const t={};for(const r of e){const e=r.indexOf("=");-1===e?t[r]=null:t[r.slice(0,e)]=r.slice(e+1)}return t},a=e=>{const t=[];for(const r of Object.keys(e)){const n=e[r];void 0!==n&&t.push(null===n?r:`${r}=${n}`)}return t};class c{constructor(e=[]){this.args=e,this.argMap=(0,n.once)((()=>s(this.args)))}add(e,t=null){return new c(a({...this.argMap(),[e]:t}))}remove(e){return new c(a({...this.argMap(),[e]:void 0}))}merge(e){return new c(a({...this.argMap(),...e instanceof c?e.argMap():s(e)}))}setConnection(e){return new c(a({...this.argMap(),[o]:"pipe"===e?null:void 0,[i]:"pipe"!==e?String(e):void 0}))}getSuggestedConnection(){const e=this.argMap();if(e.hasOwnProperty(o))return"pipe";const t=e[i];return void 0!==t?t&&Number(t)||0:void 0}filter(e){const t=this.argMap(),r=[];for(const n of Object.keys(t)){const i=t[n];e(n,i)&&r.push(null===i?n:`${n}=${i}`)}return new c(r)}toArray(){return this.args.slice()}}t.BrowserArgs=c,c.default=new c(["--disable-background-networking","--disable-background-timer-throttling","--disable-backgrounding-occluded-windows","--disable-breakpad","--disable-client-side-phishing-detection","--disable-default-apps","--disable-dev-shm-usage","--disable-renderer-backgrounding","--disable-sync","--metrics-recording-only","--no-first-run","--no-default-browser-check"])},52886:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserAttacher=void 0;const c=r(55053),u=s(r(33463)),l=r(25370),p=r(44936),d=r(15501),h=r(78986),f=r(14090),m=r(97208),g=r(44413),y=r(1032),b=r(99010),v=r(68798),w=s(r(40976)),_=u.loadMessageBundle(r(71017).join(__dirname,"targets\\browser\\browserAttacher.js"));let S=class{constructor(e,t,r){this.logger=e,this.pathResolver=t,this.vscode=r,this._disposables=[],this._onTerminatedEmitter=new p.EventEmitter,this.onTerminated=this._onTerminatedEmitter.event,this._onTargetListChangedEmitter=new p.EventEmitter,this.onTargetListChanged=this._onTargetListChangedEmitter.event}dispose(){for(const e of this._disposables)e.dispose();this._disposables=[],this._attemptTimer&&clearTimeout(this._attemptTimer),this._targetManager&&this._targetManager.dispose()}resolveParams(e){return"attach"===e.request&&("pwa-chrome"===e.type||"pwa-msedge"===e.type&&"object"!=typeof e.useWebView)&&"workspace"===e.browserAttachLocation}async launch(e,t){return this.resolveParams(e)?(this._lastLaunchParams={...e,timeout:1/0},await this.attemptToAttach(this._lastLaunchParams,t),{blockSessionTermination:!0}):{blockSessionTermination:!1}}_scheduleAttach(e,t){this._attemptTimer=setTimeout((()=>{this._attemptTimer=void 0,this.attemptToAttach(e,{...t,cancellationToken:l.NeverCancelled})}),1e3)}createTargetManager(e,t,r){return v.BrowserTargetManager.connect(e,void 0,this.pathResolver,t,this.logger,r.telemetryReporter,r.targetOrigin)}async attemptToAttach(e,t){const r=await this.acquireConnectionForBrowser(t,e);this._connection=r,r.onDisconnected((()=>{this._connection=void 0,this._targetManager&&(this._targetManager.dispose(),this._targetManager=void 0,this._onTargetListChangedEmitter.fire()),this._lastLaunchParams===e&&e.restart?this._scheduleAttach(e,t):this._onTerminatedEmitter.fire({killed:!0,code:0})}),void 0,this._disposables);const n=this._targetManager=await this.createTargetManager(r,e,t);if(!n)return;n.serviceWorkerModel.onDidChange((()=>this._onTargetListChangedEmitter.fire())),n.frameModel.onFrameNavigated((()=>this._onTargetListChangedEmitter.fire())),n.onTargetAdded((()=>{this._onTargetListChangedEmitter.fire()})),n.onTargetRemoved((()=>{this._onTargetListChangedEmitter.fire(),n.targetList().length||this._onTerminatedEmitter.fire({killed:!0,code:0})}));const i=await Promise.race([n.waitForMainTarget(await this.getTargetFilter(n,e)),(0,h.delay)(e.timeout).then((()=>{throw new y.ProtocolError((0,g.targetPageNotFound)())}))]);return"string"==typeof i?i:void 0}async getTargetFilter(e,t){const r=(0,m.createTargetFilterForConfig)(t),n=(0,m.requirePageTarget)(r);if("pick"!==t.targetSelection)return n;const i=await e.getCandiateInfo(n);if(0===i.length)return n;if(1===i.length||!this.vscode)return e=>e.targetId===i[0].targetId;const o=_(0,null),s=await this.vscode.window.showQuickPick(i.map((e=>({label:e.title,detail:e.url,targetId:e.targetId}))),{matchOnDescription:!0,matchOnDetail:!0,placeHolder:o});return s?e=>e.targetId===s.targetId:n}async acquireConnectionForBrowser({telemetryReporter:e,cancellationToken:t},r){for(;this._lastLaunchParams===r;)try{return await this.acquireConnectionInner(e,r,t)}catch(e){if(t.isCancellationRequested)throw new y.ProtocolError((0,g.browserAttachFailed)(_(1,null,`${r.address}:${r.port}`,e.message)));await(0,h.delay)(1e3)}throw new y.ProtocolError((0,g.browserAttachFailed)(_(2,null,`${r.address}:${r.port}`,"Cancelled")))}async acquireConnectionInner(e,t,r){const n=`http://${t.address}:${t.port}`;return await w.attach({browserURL:n,inspectUri:t.inspectUri,pageURL:t.url},r,this.logger,e)}async terminate(){var e;this._lastLaunchParams=void 0,null===(e=this._connection)||void 0===e||e.close()}disconnect(){return this.terminate()}async restart(){if(this._targetManager)for(const e of this._targetManager.targetList())"page"!==e.type()||e.name().startsWith("devtools://")||e.restart()}targetList(){const e=this._targetManager;return e?e.targetList():[]}};S=o([(0,c.injectable)(),a(0,(0,c.inject)(d.ILogger)),a(1,(0,c.inject)(f.ISourcePathResolver)),a(2,(0,c.optional)()),a(2,(0,c.inject)(b.VSCodeApi))],S),t.BrowserAttacher=S},2347:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.baseURL=void 0;const n=r(57310);t.baseURL=function(e){if(e.url)try{const t=new n.URL(e.url);if(t.pathname="/",t.search="",t.hash="","data:"===t.protocol)return;return t.href}catch(e){}}},3816:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserLauncher=void 0;const c=r(5324),u=s(r(57147)),l=r(55053),p=s(r(71017)),d=r(25370),h=r(5376),f=r(94570),m=r(44936),g=r(26379),y=r(15501),b=r(14090),v=r(97208),w=r(44413),_=r(1032),S=r(99010),k=r(68798),P=s(r(40976));let x=class{constructor(e,t,r,n,i){this.storagePath=e,this.logger=t,this.pathResolver=r,this.initializeParams=n,this.fs=i,this._disposables=new h.DisposableList,this._terminated=!1,this._onTerminatedEmitter=new m.EventEmitter,this.onTerminated=this._onTerminatedEmitter.event,this._onTargetListChangedEmitter=new m.EventEmitter,this.onTargetListChanged=this._onTargetListChangedEmitter.event}dispose(){this._disposables.dispose()}async launchBrowser({runtimeExecutable:e,trace:t,includeDefaultArgs:r,runtimeArgs:n,userDataDir:i,env:o,cwd:s,port:a,url:c,file:l,inspectUri:d,webRoot:h,cleanUp:m,launchUnelevated:g},y,b,v,w){const _=await this.findBrowserPath(e||"stable");let S;"string"==typeof i?S=i:i&&(S=p.join(this.storagePath,(null==n?void 0:n.includes("--headless"))?".headless-profile":".profile"));try{u.mkdirSync(this.storagePath)}catch(e){}return await P.launch(y,_,this.logger,v,this.initializeParams,b,{onStdout:e=>y.output({category:"stdout",output:e}),onStderr:e=>y.output({category:"stderr",output:e}),dumpio:"boolean"==typeof t?t:t.stdio,cleanUp:m,hasUserNavigation:!(!c&&!l),cwd:s||h||void 0,env:f.EnvironmentVars.merge(f.EnvironmentVars.processEnv(),o),args:n||[],userDataDir:S,connection:a||(d?0:"pipe"),launchUnelevated:g,ignoreDefaultArgs:!r,url:c,inspectUri:d,promisedPort:w})}getFilterForTarget(e){return(0,v.requirePageTarget)((0,v.createTargetFilterForConfig)(e,["about:blank"]))}async prepareLaunch(e,{dap:t,targetOrigin:r,cancellationToken:n,telemetryReporter:i}){let o;try{o=await this.launchBrowser(e,t,n,i)}catch(e){throw new _.ProtocolError((0,w.browserLaunchFailed)(e))}if(this._disposables.push(o.cdp.onDisconnected((()=>this.fireTerminatedEvent()))),this._connectionForTest=o.cdp,this._launchParams=e,this._targetManager=await k.BrowserTargetManager.connect(o.cdp,o.process,this.pathResolver,this._launchParams,this.logger,i,r),!this._targetManager)throw o.process.kill(),new _.ProtocolError((0,w.browserAttachFailed)());this._targetManager.serviceWorkerModel.onDidChange((()=>this._onTargetListChangedEmitter.fire())),this._targetManager.frameModel.onFrameNavigated((()=>this._onTargetListChangedEmitter.fire())),this._disposables.push(this._targetManager),this._targetManager.onTargetAdded((()=>{this._onTargetListChangedEmitter.fire()})),this._targetManager.onTargetRemoved((()=>{this._onTargetListChangedEmitter.fire()}));const s=this.getFilterForTarget(e),a=await(0,d.timeoutPromise)(this._targetManager.waitForMainTarget(s),n,"Could not attach to main target");if(!a)throw o.process.kill(),new _.ProtocolError((0,w.targetPageNotFound)());return a}async finishLaunch(e,t){if("skipNavigateForTest"in t)return;let r;if(t.file){const e=p.resolve(t.webRoot||t.rootPath||"",t.file),n=Math.min(e.includes("#")?e.indexOf("#"):1/0,e.includes("?")?e.indexOf("?"):1/0);r=isFinite(n)&&!await(0,g.existsInjected)(this.fs,e)?(0,v.absolutePathToFileUrl)(e.slice(0,n))+e.slice(n):(0,v.absolutePathToFileUrl)(e)}else r=t.url;r&&await e.cdp().Page.navigate({url:r})}async launch(e,t){const r=this.resolveParams(e);if(!r)return{blockSessionTermination:!1};const n=await this.prepareLaunch(r,t);return await this.finishLaunch(n,r),{blockSessionTermination:!0}}async terminate(){for(const e of this.targetList())"page"===e.type()&&await e.cdp().Page.close({})}async disconnect(){var e;await(null===(e=this._targetManager)||void 0===e?void 0:e.closeBrowser())}async restart(){for(const e of this.targetList())"page"===e.type()&&e.restart()}async findBrowserByExe(e,t){var r;if("*"===t){const t=await e.findWhere((e=>"stable"===e.quality))||(await e.findAll())[0];return null==t?void 0:t.path}return(0,c.isQuality)(t)?null===(r=await e.findWhere((e=>e.quality===t)))||void 0===r?void 0:r.path:t}targetList(){const e=this._targetManager;return e?e.targetList():[]}connectionForTest(){return this._connectionForTest}fireTerminatedEvent(){this._terminated||(this._terminated=!0,this._onTerminatedEmitter.fire({code:0,killed:!0}))}};x=o([(0,l.injectable)(),a(0,(0,l.inject)(S.StoragePath)),a(1,(0,l.inject)(y.ILogger)),a(2,(0,l.inject)(b.ISourcePathResolver)),a(3,(0,l.inject)(S.IInitializeParams)),a(4,(0,l.inject)(S.FS))],x),t.BrowserLauncher=x},64416:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserSourcePathResolver=void 0;const c=r(55053),u=s(r(71017)),l=r(57310),p=r(24862),d=r(26379),h=r(79783),f=r(85196),m=s(r(97208)),g=r(97208),y=r(48055),b="https?:\\/\\/[^\\/]+\\/";let v=class extends y.SourcePathResolverBase{constructor(e,t,r,n){super(r,n),this.vueMapper=e,this.fsUtils=t}absolutePathToUrlPath(e){e=u.normalize(e);const{baseUrl:t,pathMapping:r}=this.options,n=["/",r["/"]],i=Object.entries(r).sort((([,e],[,t])=>t.length-e.length)).find((([,t])=>(0,h.isSubdirectoryOf)(t,e)))||n;if(!i)return{url:m.absolutePathToFileUrl(e),needsWildcard:!1};let o=m.platformPathToUrlPath(u.relative(i[1],e));const s=i[0].replace(/\/$|^\//g,"");return s&&(o=s+"/"+o),t||m.isValidUrl(o)?{url:m.completeUrlEscapingRoot(t,o),needsWildcard:!1}:{url:o,needsWildcard:!0}}async urlToAbsolutePath({url:e,map:t}){const r=e.indexOf("?");return-1!==r&&".vue"!==e.slice(r-4,r)&&(e=e.slice(0,r)),t?this.sourceMapSourceToAbsolute(e,t):this.simpleUrlToAbsolute(e)}async simpleUrlToAbsolute(e){if(!e)return;if(m.isFileUrl(e)){const t=m.fileUrlToAbsolutePath(e);if(await this.fsUtils.exists(t))return t;const r=m.fileUrlToNetworkPath(e);if(await this.fsUtils.exists(r))return r}let t;try{const r=new l.URL(e);if(t=r.pathname&&"/"!==r.pathname?r.pathname:"index.html","webpack-internal:"===r.protocol)return}catch(r){t=e}const r=u.extname(t),n=t.replace(/^\//,"").split(/[\/\\]/);for(;n.length>0;){const e="/"+n.join("/"),t=await(0,f.defaultPathMappingResolver)(e,this.options.pathMapping,this.logger);if(t){if(!r&&await this.fsUtils.exists(t+".html"))return t+".html";if(await this.fsUtils.exists(t))return t}n.shift()}}async sourceMapSourceToAbsolute(e,t){if(!this.shouldResolveSourceMap(t.metadata))return;switch(this.vueMapper.getVueHandling(e)){case 2:return;case 1:const t=await this.vueMapper.lookup(e);if(t)return(0,h.fixDriveLetterAndSlashes)(t)}e=this.normalizeSourceMapUrl(e);const{pathMapping:r}=this.options,n=(0,f.getFullSourceEntry)(t.sourceRoot,e);let i=this.sourceMapOverrides.apply(n);if(i!==n){i=(0,h.fixDriveLetterAndSlashes)(i);const e=(0,h.properResolve)(r["/"],"..","ClientApp",(0,h.properRelative)(r["/"],i));return"visualstudio"===this.options.clientID&&n.startsWith("webpack:///")&&!await this.fsUtils.exists(i)&&await this.fsUtils.exists(e)?e:i}return m.isFileUrl(e)?m.fileUrlToAbsolutePath(e):u.isAbsolute(e)?(0,h.fixDriveLetterAndSlashes)(e):(0,h.properResolve)(await(0,f.getComputedSourceRoot)(t.sourceRoot,t.metadata.compiledPath,r,f.defaultPathMappingResolver,this.logger),e)}absolutePathToUrlRegexp(e){const t=this.absolutePathToUrlPath(e);let r=t.url,n=e.length;r.endsWith("index.html")?(n=r.length-"index.html".length-1,r=r.slice(0,n)+"\\/?($|index(\\.html)?)"):r.endsWith(".html")&&(n=r.length-".html".length,r=r.slice(0,n)+"(\\.html)?");let i=0;t.needsWildcard&&(r=b+r,i=b.length,n+=b.length);const o=(0,g.urlToRegex)(r,[i,n]);return t.needsWildcard?`${(0,g.urlToRegex)(m.absolutePathToFileUrl(e))}|${o}`:o}};v=o([(0,c.injectable)(),a(0,(0,c.inject)(p.IVueFileMapper)),a(1,(0,c.inject)(d.IFsUtils))],v),t.BrowserSourcePathResolver=v},68798:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserTargetManager=void 0;const n=r(44936),i=r(52790),o=r(49157),s=r(30929);t.BrowserTargetManager=class{constructor(e,t,r,i,a,c,u,l){this.process=t,this.logger=a,this.telemetry=c,this.launchParams=u,this._targets=new Map,this._detachedTargets=new Set,this.frameModel=new o.FrameModel,this.serviceWorkerModel=new s.ServiceWorkerModel(this.frameModel),this._lifecycleQueue=Promise.resolve(),this._onTargetAddedEmitter=new n.EventEmitter,this._onTargetRemovedEmitter=new n.EventEmitter,this.onTargetAdded=this._onTargetAddedEmitter.event,this.onTargetRemoved=this._onTargetRemovedEmitter.event,this._connection=e,this._sourcePathResolver=i,this._browser=r,this._targetOrigin=l,this.serviceWorkerModel.onDidChange((()=>{for(const e of this._targets.values())"service_worker"===e.type()&&e._onNameChangedEmitter.fire()}))}static async connect(e,t,r,n,i,o,s){const a=e.rootSession(),c=await a.Target.attachToBrowserTarget({});if(!c)return;const u=e.createSession(c.sessionId);return new this(e,t,u,r,i,o,n,s)}dispose(){this.serviceWorkerModel.dispose()}targetList(){return Array.from(this._targets.values()).filter((e=>i.jsTypes.has(e.type())))}async getCandiateInfo(e){const t=await this._browser.Target.getTargets({});return t?e?t.targetInfos.filter(e):t.targetInfos:[]}async closeBrowser(){var e;if("launch"===this.launchParams.request){if("wholeBrowser"===this.launchParams.cleanUp)await this._browser.Browser.close({}),null===(e=this.process)||void 0===e||e.kill();else for(const e of this._targets.values())await this._browser.Target.closeTarget({targetId:e.targetId}),this._connection.close();this.process=void 0}}waitForMainTarget(e){let t;const r=new Promise((e=>t=e)),n=async r=>{if([...this._targets.values()].some((e=>e.targetId===r.targetId))||this._detachedTargets.has(r.targetId))return;if(e&&!e(r))return;const n=this._browser.Target.on("targetInfoChanged",(e=>{e.targetInfo.targetId===r.targetId&&(r=e.targetInfo)}));let i;try{i=await this._browser.Target.attachToTarget({targetId:r.targetId,flatten:!0})}finally{n.dispose()}t(i?this.attachedToTarget(r,i.sessionId,!0):void 0)};return this._browser.Target.setDiscoverTargets({discover:!0}),this._browser.Target.on("targetCreated",this.enqueueLifecycleFn((e=>n(e.targetInfo)))),this._browser.Target.on("targetInfoChanged",(e=>this._targetInfoChanged(e.targetInfo,this.enqueueLifecycleFn(n)))),this._browser.Target.on("detachedFromTarget",this.enqueueLifecycleFn((async e=>{e.targetId&&await this._detachedFromTarget(e.sessionId,!1)}))),r}enqueueLifecycleFn(e){return t=>this._lifecycleQueue=this._lifecycleQueue.then((()=>e(t)))}attachedToTarget(e,t,r,n,o=!0){const s=this._targets.get(t);if(s)return s;const a=this._connection.createSession(t),c=new i.BrowserTarget(this,e,a,n,r,this.launchParams,t,this.logger,(()=>{this._connection.disposeSession(t),this._detachedFromTarget(t)}));this._targets.set(t,c),n&&n._children.set(e.targetId,c),a.Target.on("attachedToTarget",(async e=>{this.attachedToTarget(e.targetInfo,e.sessionId,e.waitingForDebugger,c)})),a.Target.on("detachedFromTarget",(async e=>{e.targetId&&this._detachedFromTarget(e.sessionId,!1)})),a.Target.setAutoAttach({autoAttach:!0,waitForDebuggerOnStart:o,flatten:!0}),a.Network.setCacheDisabled({cacheDisabled:this.launchParams.disableNetworkCache}).catch((e=>this.logger.info("runtime.target","Error setting network cache state",e))),n||this.retrieveBrowserTelemetry(a);const u=e.type;return i.domDebuggerTypes.has(u)&&this.frameModel.attached(a,e.targetId),this.serviceWorkerModel.attached(a),this._onTargetAddedEmitter.fire(c),i.jsTypes.has(u)&&"service_worker"!==u?"page"===u&&o&&a.Page.waitForDebugger({}):c.runIfWaitingForDebugger(),c}async retrieveBrowserTelemetry(e){try{const t=await e.Browser.getVersion({});if(!t)throw new Error("Undefined return from getVersion()");const r={targetCRDPVersion:t.protocolVersion,targetRevision:t.revision,targetUserAgent:t.userAgent,targetV8:t.jsVersion,targetVersion:"",targetProject:"",targetProduct:""};this.logger.verbose("runtime.target","Retrieved browser information",t);const n=(t.product||"").split("/");2===n.length?(r.targetProject=n[0],r.targetVersion=n[1]):r.targetProduct=t.product,this.telemetry.report("browserVersion",r)}catch(e){this.logger.warn("runtime.target","Error getting browser telemetry",e)}}async _detachedFromTarget(e,t=!0){var r;const n=this._targets.get(e);if(n){this._targets.delete(e),null===(r=n.parentTarget)||void 0===r||r._children.delete(e);try{await n._detached()}catch(e){}if(this._onTargetRemovedEmitter.fire(n),t&&(this._detachedTargets.add(n.targetId),await this._browser.Target.detachFromTarget({sessionId:e})),!this._targets.size&&"launch"===this.launchParams.request)try{"wholeBrowser"===this.launchParams.cleanUp?await this._browser.Browser.close({}):(await this._browser.Target.closeTarget({targetId:n.id()}),this._connection.close())}catch(e){}}}async _targetInfoChanged(e,t){const r=[...this._targets.values()].filter((t=>t.targetId===e.targetId));if(!e.attached||!r.length)return r.length&&await Promise.all(r.map((e=>this._detachedFromTarget(e.sessionId,!1)))),t(e);for(const t of r)t._updateFromInfo(e);for(const t of this._targets.values())t.targetId!==e.targetId&&t._onNameChangedEmitter.fire()}}},52790:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserTarget=t.domDebuggerTypes=t.jsTypes=void 0;const s=r(57310),a=r(44936),c=o(r(97208)),u=r(65581);t.jsTypes=new Set(["page","iframe","worker","service_worker"]),t.domDebuggerTypes=new Set(["page","iframe"]);const l=new Set(["page","iframe"]),p=l;class d{constructor(e,t,r,n,i,o,s,c,u){this._targetInfo=t,this.launchConfig=o,this.sessionId=s,this.logger=c,this._attached=!1,this._onNameChangedEmitter=new a.EventEmitter,this.onNameChanged=this._onNameChangedEmitter.event,this.entryBreakpoint=void 0,this._children=new Map,this._cdp=r,r.pause(),this._manager=e,this.parentTarget=n,this._waitingForDebugger=i,this._updateFromInfo(t),this._ondispose=u}get targetInfo(){return this._targetInfo}get targetId(){return this._targetInfo.targetId}get independentLifeycle(){return l.has(this.type())}get supplementalConfig(){const e=this.type();return{__browserTargetType:e,__usePerformanceFromParent:"page"!==e}}targetOrigin(){return this._manager._targetOrigin}id(){return this.sessionId}cdp(){return this._cdp}name(){return this._computeName()}fileName(){return this._targetInfo.url}type(){return this._targetInfo.type}afterBind(){return this._cdp.resume(),Promise.resolve()}initialize(){return Promise.resolve()}async runIfWaitingForDebugger(){await Promise.all([this._cdp.Runtime.runIfWaitingForDebugger({}),this._cdp.Runtime.evaluate({expression:(0,u.signalReadyExpr)()})])}parent(){return this.parentTarget&&!t.jsTypes.has(this.parentTarget.type())?this.parentTarget.parentTarget:this.parentTarget}children(){const e=[];for(const r of this._children.values())t.jsTypes.has(r.type())?e.push(r):e.push(...r.children());return e}canStop(){return p.has(this.type())}stop(){if(this._manager.targetList().includes(this))if("service_worker"===this.type()){if(this._manager.serviceWorkerModel.stopWorker(this.id()),!this.parentTarget)return;this._manager.serviceWorkerModel.stopWorker(this.parentTarget.id())}else this._cdp.Target.closeTarget({targetId:this._targetInfo.targetId})}canRestart(){return l.has(this.type())}restart(){this._cdp.Page.reload({})}waitingForDebugger(){return this._waitingForDebugger}canAttach(){return!this._attached}async attach(){return this._waitingForDebugger=!1,this._attached=!0,Promise.resolve(this._cdp)}canDetach(){return this._attached}async detach(){this._attached=!1,this._manager._detachedFromTarget(this.sessionId)}executionContextName(e){const t=e.auxData,r=e.name;if(!t)return r;const n=t.frameId,i=n?this._manager.frameModel.frameForId(n):void 0;return i&&t.isDefault&&!i.parentFrame()?"top":i&&t.isDefault?i.displayName():i?`${r}`:r}supportsCustomBreakpoints(){return t.domDebuggerTypes.has(this.type())}scriptUrlToUrl(e){return c.completeUrl(this._targetInfo.url,e)||e}_updateFromInfo(e){this._targetInfo={...e,type:this._targetInfo.type},this._onNameChangedEmitter.fire()}setComputeNameFn(e){this._customNameComputeFn=e,this._onNameChangedEmitter.fire()}_computeName(){var e;const t=null===(e=this._customNameComputeFn)||void 0===e?void 0:e.call(this,this);if(t)return t;if("service_worker"===this.type()){const e=this._manager.serviceWorkerModel.version(this.id());if(e)return e.label()+" [Service Worker]"}let r=this._targetInfo.title;if(!r||!this._manager.targetList().some((e=>e instanceof d&&e!==this&&e._targetInfo.title===this._targetInfo.title)))return r;try{const e=new s.URL(this._targetInfo.url);"data:"===e.protocol?r=" <data>":r+=e?` (${this._targetInfo.url.replace(/^[a-z]+:\/\/|\/$/gi,"")})`:` (${this._targetInfo.url})`}catch(e){r+=` (${this._targetInfo.url})`}return r}async _detached(){await this._manager.serviceWorkerModel.detached(this._cdp),this._ondispose(this)}}t.BrowserTarget=d},68773:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ChromeLauncher=void 0;const o=r(55053),s=r(26379),a=r(15501),c=r(14090),u=r(44413),l=r(1032),p=r(99010),d=r(3816);let h=class extends d.BrowserLauncher{constructor(e,t,r,n,i,o){super(e,t,i,o,n),this.browserFinder=r}resolveParams(e){return"pwa-chrome"===e.type&&"launch"===e.request&&"workspace"===e.browserLaunchLocation?e:void 0}async findBrowserPath(e){const t=await this.findBrowserByExe(this.browserFinder,e);if(!t||!await(0,s.canAccess)(this.fs,t))throw new l.ProtocolError((0,u.browserNotFound)("Chrome",e,(await this.browserFinder.findAll()).map((e=>e.quality))));return t}};h=n([(0,o.injectable)(),i(0,(0,o.inject)(p.StoragePath)),i(1,(0,o.inject)(a.ILogger)),i(2,(0,o.inject)(p.BrowserFinder)),i(2,(0,o.tagged)("browser","chrome")),i(3,(0,o.inject)(p.FS)),i(4,(0,o.inject)(c.ISourcePathResolver)),i(5,(0,o.inject)(p.IInitializeParams))],h),t.ChromeLauncher=h},39413:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.constructInspectorWSUri=void 0;const n=r(57310),i=r(7678);t.constructInspectorWSUri=function(e,t,r){const o=(0,i.memoize)((e=>{if(e)return new n.URL(e);throw new Error(`A valid url wasn't supplied: <${e}>`)})),s={"url.hostname":()=>o(t).hostname,"url.port":()=>o(t).port,browserInspectUri:()=>encodeURIComponent(r),browserInspectUriPath:()=>new n.URL(r).pathname,wsProtocol:()=>"https:"===o(t).protocol?"wss":"ws"};return e.replace(/{([^\}]+)}/g,((e,t)=>s.hasOwnProperty(t)?s[t]():e))}},20478:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.EdgeLauncher=void 0;const s=r(6113),a=r(55053),c=r(41808),u=r(22037),l=r(71017),p=o(r(63216)),d=r(2940),h=r(25370),f=r(26379),m=r(15501),g=r(78986),y=r(14090),b=r(97208),v=r(44413),w=r(1032),_=r(99010),S=r(3816),k=["--do-not-de-elevate"];let P=class extends S.BrowserLauncher{constructor(e,t,r,n,i,o){super(e,t,i,o,n),this.browserFinder=r}resolveParams(e){return"pwa-msedge"===e.type&&"launch"===e.request&&"workspace"===e.browserLaunchLocation?e:void 0}launchBrowser(e,t,r,n){var i;return super.launchBrowser({...e,runtimeArgs:null!==(i=e.runtimeArgs)&&void 0!==i?i:k},t,r,n,e.useWebView?this.getWebviewPort(e,n):void 0)}getFilterForTarget(e){return e.useWebView&&e.urlFilter?(0,b.requirePageTarget)((0,b.createTargetFilterForConfig)(e)):super.getFilterForTarget(e)}async getWebviewPort(e,t){const r=(0,g.getDeferred)();if(!e.runtimeExecutable)return r.resolve(e.port),r.promise;const n=e.runtimeExecutable.split(/\\|\//).pop(),i=`VSCode_${(0,s.randomBytes)(12).toString("base64")}`,o=`\\\\.\\pipe\\WebView2\\Debugger\\${n}\\${i}`,a=(0,c.createServer)((n=>{n.on("data",(async n=>{const i=JSON.parse(n.toString()),o=i.devtoolsActivePort||"",s=parseInt(o.split("\n").shift()||""),a=e.port||s;r.resolve(a);const c=`ws://${e.address}:${a}/devtools/${i.type}/${i.id}`,u=await d.WebSocketTransport.create(c,h.NeverCancelled),l=new p.default(u,this.logger,t);await l.rootSession().Runtime.runIfWaitingForDebugger({}),l.close()}))}));return a.on("error",r.reject),a.on("close",(()=>r.resolve(e.port))),a.listen(o),e.userDataDir=e.userDataDir||(0,l.join)((0,u.tmpdir)(),`vscode-js-debug-userdatadir_${e.port}`),e.env=e.env||{},e.env.WEBVIEW2_USER_DATA_FOLDER=e.userDataDir.toString(),e.env.WEBVIEW2_ADDITIONAL_BROWSER_ARGUMENTS=`--remote-debugging-port=${e.port}`,e.env.WEBVIEW2_WAIT_FOR_SCRIPT_DEBUGGER="true",e.env.WEBVIEW2_PIPE_FOR_SCRIPT_DEBUGGER=i,r.promise}async findBrowserPath(e){const t=await this.findBrowserByExe(this.browserFinder,e);if(!t||!await(0,f.canAccess)(this.fs,t))throw new w.ProtocolError((0,v.browserNotFound)("Edge",e,(await this.browserFinder.findAll()).map((e=>e.quality))));return t}};P=n([(0,a.injectable)(),i(0,(0,a.inject)(_.StoragePath)),i(1,(0,a.inject)(m.ILogger)),i(2,(0,a.inject)(_.BrowserFinder)),i(2,(0,a.tagged)("browser","edge")),i(3,(0,a.inject)(_.FS)),i(4,(0,a.inject)(y.ISourcePathResolver)),i(5,(0,a.inject)(_.IInitializeParams))],P),t.EdgeLauncher=P},49157:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Frame=t.FrameModel=void 0;const s=r(57310),a=o(r(71017)),c=r(44936);t.FrameModel=class{constructor(){this._onFrameAddedEmitter=new c.EventEmitter,this._onFrameRemovedEmitter=new c.EventEmitter,this._onFrameNavigatedEmitter=new c.EventEmitter,this.onFrameAdded=this._onFrameAddedEmitter.event,this.onFrameRemoved=this._onFrameRemovedEmitter.event,this.onFrameNavigated=this._onFrameNavigatedEmitter.event,this._frames=new Map}attached(e,t){e.Page.enable({}),e.Page.getResourceTree({}).then((r=>{this._processCachedResources(e,r?r.frameTree:void 0,t)}))}mainFrame(){return this._mainFrame}_processCachedResources(e,t,r){t&&this._addFramesRecursively(e,t,t.frame.parentId,r),e.Page.on("frameAttached",(t=>{this._frameAttached(e,r,t.frameId,t.parentFrameId)})),e.Page.on("frameNavigated",(t=>{this._frameNavigated(e,r,t.frame)})),e.Page.on("frameDetached",(t=>{this._frameDetached(e,r,t.frameId)}))}_addFrame(e,t,r){const n=new u(this,e,t,r);return this._frames.set(n.id,n),n.isMainFrame()&&(this._mainFrame=n),this._onFrameAddedEmitter.fire(n),n}_frameAttached(e,t,r,n){let i=this._frames.get(r);return i||(i=this._addFrame(e,r,n)),i._ref(t),i}_frameNavigated(e,t,r){let n=this._frames.get(r.id);n||(n=this._frameAttached(e,t,r.id,r.parentId)),n._navigate(r,t),this._onFrameNavigatedEmitter.fire(n)}_frameDetached(e,t,r){const n=this._frames.get(r);n&&n._unref(t)}frameForId(e){return this._frames.get(e)}frames(){return Array.from(this._frames.values())}_addFramesRecursively(e,t,r,n){const i=t.frame;let o=this._frames.get(i.id);o?(o._navigate(i,n),this._onFrameNavigatedEmitter.fire(o)):(o=this._addFrame(e,i.id,r),o._navigate(i,n));for(let r=0;t.childFrames&&r<t.childFrames.length;++r)this._addFramesRecursively(e,t.childFrames[r],o.id,n)}};class u{constructor(e,t,r,n){this._targets=new Set,this.cdp=t,this.model=e,this._parentFrameId=n,this.id=r,this._url=""}_ref(e){this._targets.add(e)}_navigate(e,t){this._name=e.name,this._url=e.url,this._securityOrigin=e.securityOrigin,this._unreachableUrl=e.unreachableUrl||"",this._ref(t),this._unrefChildFrames(t)}name(){return this._name||""}url(){return this._url}securityOrigin(){return this._securityOrigin}unreachableUrl(){return this._unreachableUrl}isMainFrame(){return!this._parentFrameId}parentFrame(){return this._parentFrameId?this.model.frameForId(this._parentFrameId):void 0}childFrames(){return this.model.frames().filter((e=>e._parentFrameId===this.id))}_unrefChildFrames(e){for(const t of this.childFrames())t._unref(e)}_unref(e){this._targets.delete(e),this._targets.size||(this._unrefChildFrames(e),this.model._frames.delete(this.id),this.model._onFrameRemovedEmitter.fire(this))}displayName(){return this._name?this._name:function(e){let t;try{t=new s.URL(e)}catch(t){return l(e,20)}if("data"===t.protocol)return l(e,20);if("blob"===t.protocol)return e;if("about:blank"===e)return e;let r=a.basename(t.pathname);return r||(r=(t.host||"")+"/"),"/"===r&&(r=l(e,20)),r}(this._url)||`<iframe ${this.id}>`}}function l(e,t){return e.length<=t?e:e.substr(0,t-1)+""}t.Frame=u},40976:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.attach=t.defaultArgs=t.launch=void 0;const a=o(r(32081)),c=r(57147),u=s(r(63216)),l=r(2940),p=r(94570),d=r(26379),h=r(78986),f=r(2462),m=r(39413),g=r(27830),y=r(18966),b=r(79554),v=()=>{};function w(e,t={}){const{userDataDir:r=null,ignoreDefaultArgs:n=!1}=t;let i=!0===n?new f.BrowserArgs:f.BrowserArgs.default;return n instanceof Array&&(i=i.filter((e=>!n.includes(e)))),r&&(i=i.add("--user-data-dir",r)),i=i.merge(e),e.toArray().every((e=>e.startsWith("-")))&&t.hasUserNavigation&&(i=i.add("about:blank")),i}t.launch=async function(e,t,r,n,i,o,s={}){var l,m,y,_;const{onStderr:S=v,onStdout:k=v,args:P=[],dumpio:x=!1,cwd:C=process.cwd(),env:E=p.EnvironmentVars.empty,connection:D="pipe",cleanUp:O="wholeBrowser",url:A,inspectUri:M}=s;let T=new f.BrowserArgs(P),j=T.getSuggestedConnection();void 0===j&&(T=T.setConnection(D),j=D),T=w(T,s);let R,F=["pipe","pipe","pipe"];if("pipe"===j&&(F=x?["ignore","pipe","pipe","pipe","pipe"]:["ignore","ignore","ignore","pipe","pipe"]),i.supportsLaunchUnelevatedProcessRequest&&s.launchUnelevated&&"number"==typeof j&&0!==j)await(0,b.launchUnelevatedChrome)(e,t,T.toArray(),o),R=new g.NonTrackedBrowserProcess(r);else{r.info("runtime.launch",`Launching Chrome from ${t}`);const e=a.spawn(t,T.toArray(),{detached:!0,env:E.defined(),cwd:await(0,d.canAccess)(c.promises,C)?C:process.cwd(),stdio:F});if(void 0===e.pid)throw await Promise.race([(0,h.delay)(1e3).then((()=>new Error("Unable to launch the executable (undefined pid)"))),new Promise((t=>e.once("error",t)))]);R=new g.ChildProcessBrowserProcess(e,r)}x?(null===(l=R.stderr)||void 0===l||l.on("data",(e=>S(e.toString()))),null===(m=R.stdout)||void 0===m||m.on("data",(e=>k(e.toString())))):(null===(y=R.stderr)||void 0===y||y.resume(),null===(_=R.stdout)||void 0===_||_.resume());let I=()=>{"wholeBrowser"===O&&R.kill()};process.on("exit",I),R.onExit((()=>process.removeListener("exit",I)));try{s.promisedPort&&(j=await s.promisedPort);const e=await R.transport({connection:j,inspectUri:M||void 0,url:A||void 0},o),t=new u.default(e,r,n);return I=async()=>{"wholeBrowser"===O?(await t.rootSession().Browser.close({}),R.kill()):t.close()},{cdp:t,process:R}}catch(e){throw I(),e}},t.defaultArgs=w,t.attach=async function(e,t,r,n){const{browserWSEndpoint:i,browserURL:o}=e;if(i){const e=await l.WebSocketTransport.create(i,t);return new u.default(e,r,n)}if(o){const i=await(0,y.retryGetBrowserEndpoint)(o,t,r),s=e.inspectUri?(0,m.constructInspectorWSUri)(e.inspectUri,e.pageURL,i):i,a=await l.WebSocketTransport.create(s,t);return new u.default(a,r,n)}throw new Error("Either browserURL or browserWSEndpoint needs to be specified")}},9743:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteBrowserAttacher=void 0;const s=r(55053),a=o(r(63216)),c=r(15501),u=r(14090),l=r(99010),p=r(52886),d=r(5319);let h=class extends p.BrowserAttacher{constructor(e,t,r,n){super(t,r,n),this.helper=e}resolveParams(e){return"attach"===e.request&&("pwa-chrome"===e.type||"pwa-msedge"===e.type)&&"ui"===e.browserAttachLocation}async acquireConnectionForBrowser(e,t){const r=await this.helper.launch(e.dap,e.cancellationToken,{type:"pwa-chrome"===t.type?"chrome":"edge",params:t,attach:{host:t.address,port:t.port}});return new a.default(r,this.logger,e.telemetryReporter)}};h=n([(0,s.injectable)(),i(0,(0,s.inject)(d.RemoteBrowserHelper)),i(1,(0,s.inject)(c.ILogger)),i(2,(0,s.inject)(u.ISourcePathResolver)),i(3,(0,s.optional)()),i(3,(0,s.inject)(l.VSCodeApi))],h),t.RemoteBrowserAttacher=h},5319:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteBrowserHelper=void 0;const o=r(6113),s=r(55053),a=r(91183),c=r(2940),u=r(25370);let l=0,p=class{constructor(e){this.portLeaseTracker=e,this.teardown=new WeakMap}async launch(e,t,r){this.server&&this.server.close();const n=`/${(0,o.randomBytes)(20).toString("hex")}`,i=this.server=await(0,a.acquireTrackedWebSocketServer)(this.portLeaseTracker,{perMessageDeflate:!0,host:"127.0.0.1",path:n}),s=++l;e.launchBrowserInCompanion({...r,serverPort:i.address().port,path:n,launchId:s});const p=await(0,u.timeoutPromise)(new Promise(((e,t)=>{i.once("connection",e),i.once("error",t)})),t,"Timed out waiting for browser connection"),d=new c.WebSocketTransport(p);return this.teardown.set(d,(()=>e.killCompanionBrowser({launchId:s}))),d}close(e){var t;null===(t=this.teardown.get(e))||void 0===t||t()}dispose(){var e;null===(e=this.server)||void 0===e||e.close(),this.server=void 0}};p=n([(0,s.injectable)(),i(0,(0,s.inject)(a.IPortLeaseTracker))],p),t.RemoteBrowserHelper=p},6711:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteBrowserLauncher=void 0;const s=r(55053),a=o(r(63216)),c=r(44936),u=r(15501),l=r(14090),p=r(99010),d=r(2462),h=r(3816),f=r(40976),m=r(5319);let g=class extends h.BrowserLauncher{constructor(e,t,r,n,i,o){super(e,t,r,n,i),this.helper=o}resolveParams(e){return"pwa-chrome"!==e.type&&"pwa-msedge"!==e.type||"launch"!==e.request||"ui"!==e.browserLaunchLocation?void 0:e}async launchBrowser(e,t,r,n){const i=await this.helper.launch(t,r,{type:"pwa-chrome"===e.type?"chrome":"edge",browserArgs:(0,f.defaultArgs)(new d.BrowserArgs(e.runtimeArgs||[]),{hasUserNavigation:!!e.url,ignoreDefaultArgs:!e.includeDefaultArgs}).setConnection(e.port||"pipe").toArray(),params:e});return{cdp:new a.default(i,this.logger,n),process:{onExit:(new c.EventEmitter).event,onError:(new c.EventEmitter).event,transport:()=>Promise.resolve(i),kill:()=>this.helper.close(i)}}}async findBrowserPath(){throw new Error("not implemented")}};g=n([(0,s.injectable)(),i(0,(0,s.inject)(p.StoragePath)),i(1,(0,s.inject)(u.ILogger)),i(2,(0,s.inject)(l.ISourcePathResolver)),i(3,(0,s.inject)(p.IInitializeParams)),i(4,(0,s.inject)(p.FS)),i(5,(0,s.inject)(m.RemoteBrowserHelper))],g),t.RemoteBrowserLauncher=g},30929:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceWorkerModel=t.ServiceWorkerVersion=t.ServiceWorkerRegistration=void 0;const n=r(44936),i=r(57310);class o{constructor(e){this.versions=new Map,this.id=e.registrationId,this.scopeURL=e.scopeURL}}t.ServiceWorkerRegistration=o;class s{constructor(e,t){this.revisions=[],this.registration=e,this.id=t.versionId,this.scriptURL=t.scriptURL,this._targetId=t.targetId,this._status=t.status,this._runningStatus=t.runningStatus}addRevision(e){this._targetId&&e.targetId&&this._targetId!==e.targetId&&console.error(`${this._targetId} !== ${e.targetId}`),e.targetId&&(this._targetId=e.targetId),this._status=e.status,this._runningStatus=e.runningStatus,this.revisions.unshift(e)}status(){return this._status}runningStatus(){return this._runningStatus}targetId(){return this._targetId}label(){const e=new i.URL(this.registration.scopeURL);let t=e.pathname.substr(1);t.endsWith("/")&&(t=t.substring(0,t.length-1));const r=t||`${e.host}`,n="activated"===this._status?"":` ${this._status}`,o="running"===this._runningStatus?"":` ${this._runningStatus}`;return`${r} #${this.id}${n}${o}`}}t.ServiceWorkerVersion=s;class a{constructor(e){this._registrations=new Map,this._versions=new Map,this._onDidChangeUpdater=new n.EventEmitter,this.onDidChange=this._onDidChangeUpdater.event,this._targets=new Set,this._frameModel=e,a._instances.add(this)}dispose(){a._instances.delete(this)}attached(e){this._targets.add(e),this._cdp||(this._cdp=e,e.ServiceWorker.enable({}),e.ServiceWorker.on("workerRegistrationUpdated",(e=>this._workerRegistrationsUpdated(e.registrations))),e.ServiceWorker.on("workerVersionUpdated",(e=>this._workerVersionsUpdated(e.versions))),"normal"!==a._mode&&this.setMode(a._mode))}async detached(e){this._targets.delete(e)}version(e){return this._versions.get(e)}registrations(){const e=[],t=this._frameModel.frames().map((e=>e.url()));for(const r of this._registrations.values())for(const n of t)if(n.startsWith(r.scopeURL)){e.push(r);break}return e}registration(e){return this._registrations.get(e)}_workerVersionsUpdated(e){for(const t of e){const e=this._registrations.get(t.registrationId);if(!e)continue;let r=e.versions.get(t.versionId);r||(r=new s(e,t),e.versions.set(t.versionId,r)),t.targetId&&this._versions.set(t.targetId,r),r.addRevision(t),"redundant"===r.status()&&"stopped"===r.runningStatus()&&(t.targetId&&this._versions.delete(t.targetId),e.versions.delete(r.id))}this._onDidChangeUpdater.fire()}_workerRegistrationsUpdated(e){for(const t of e)if(t.isDeleted)this._registrations.has(t.registrationId),this._registrations.delete(t.registrationId);else{if(this._registrations.has(t.registrationId))return;this._registrations.set(t.registrationId,new o(t))}this._onDidChangeUpdater.fire()}static setModeForAll(e){a._mode=e;for(const t of a._instances)t.setMode(e)}setMode(e){if(this._cdp){this._cdp.ServiceWorker.setForceUpdateOnPageLoad({forceUpdateOnPageLoad:"force"===e});for(const t of this._targets.values())"bypass"===e?(t.Network.enable({}),t.Network.setBypassServiceWorker({bypass:!0})):t.Network.disable({})}}async stopWorker(e){if(!this._cdp)return;const t=this.version(e);t&&await this._cdp.ServiceWorker.stopWorker({versionId:t.id})}}t.ServiceWorkerModel=a,a._instances=new Set},27830:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ChildProcessBrowserProcess=t.NonTrackedBrowserProcess=void 0;const s=o(r(14521)),a=r(34517),c=r(2940),u=r(25370),l=r(5376),p=r(44936),d=r(78986),h=r(54495),f=r(39413),m=r(18966),g=async(e,t,r,n)=>{const i=0===r.connection?await function(e,t){if(!e.stderr)throw new Error("Cannot wait for a websocket for a target that lacks stderr");return new Promise(((r,n)=>{const i=s.createInterface({input:e.stderr});let o="";const a=()=>d();i.on("line",h),i.on("close",a);const c=new l.DisposableList([e.onExit((()=>d())),e.onError(d)]),p=t.onCancellationRequested((()=>{f(),n(new u.TaskCancelledError(`Timed out after ${p} ms while trying to connect to the browser!`))}));function d(e){f(),n(new Error(["Failed to launch browser!"+(e?" "+e.message:""),o,"","TROUBLESHOOTING: https://github.com/GoogleChrome/puppeteer/blob/master/docs/troubleshooting.md",""].join("\n")))}function h(e){o+=e+"\n";const t=e.match(/^DevTools listening on (ws:\/\/.*)$/);t&&(f(),r(t[1]))}function f(){p.dispose(),i.removeListener("line",h),i.removeListener("close",a),c.dispose()}}))}(t,n):await(0,m.retryGetBrowserEndpoint)(`http://localhost:${r.connection}`,n,e),o=r.inspectUri?(0,f.constructInspectorWSUri)(r.inspectUri,r.url,i):i;for(;;)try{return await c.WebSocketTransport.create(o,n)}catch(e){if(n.isCancellationRequested)throw e;await(0,d.delay)(200)}};t.NonTrackedBrowserProcess=class{constructor(e){this.logger=e,this.pid=void 0,this.onExit=(new p.EventEmitter).event,this.onError=(new p.EventEmitter).event}async transport(e,t){return g(this.logger,this,e,t)}kill(){}},t.ChildProcessBrowserProcess=class{constructor(e,t){this.cp=e,this.logger=t,this.pid=void 0,this.exitEmitter=new p.EventEmitter,this.onExit=this.exitEmitter.event,this.errorEmitter=new p.EventEmitter,this.onError=this.errorEmitter.event,e.on("exit",(e=>this.exitEmitter.fire(e||0))),e.on("error",(e=>this.errorEmitter.fire(e)))}get stderr(){return this.cp.stderr}get stdio(){return this.cp.stdio}async transport(e,t){return"pipe"===e.connection?new a.RawPipeTransport(this.logger,this.cp.stdio[3],this.cp.stdio[4]):g(this.logger,this,e,t)}kill(){(0,h.killTree)(this.cp.pid,this.logger)}}},18966:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.retryGetBrowserEndpoint=t.retryGetNodeEndpoint=t.getWSEndpoint=void 0;const n=r(57147),i=r(31868),o=r(25370),s=r(78986);async function a(e,t,r,o){const s=new i.BasicResourceProvider(n.promises),[a,u]=await Promise.all([c(s,new URL("/json/version",e),t),o?c(s,new URL("/json/list",e),t):Promise.resolve(void 0)]);if(a.ok){if(a.body.webSocketDebuggerUrl){const e=l(a.url,a.body.webSocketDebuggerUrl);return r.verbose("runtime.launch","Discovered target URL from /json/version",{url:a.body.webSocketDebuggerUrl,fixed:e}),e}}else r.verbose("runtime.launch","Error looking up /json/version",a);if(u){if(u.ok){const e=l(u.url,u.body[0].webSocketDebuggerUrl);return r.verbose("runtime.launch","Discovered target URL from /json/list",{url:u.body[0].webSocketDebuggerUrl,fixed:e}),e}r.verbose("runtime.launch","Error looking up /json/list",u)}throw new Error("Could not find any debuggable target")}async function c(e,t,r){if("localhost"!==t.hostname)return e.fetchJson(t.toString(),r,{host:"localhost"});const n=t.toString();t.hostname="127.0.0.1";const i=t.toString(),a=new o.CancellationTokenSource(r);try{let t;const r=await(0,s.some)([n,i].map((async r=>(t=await e.fetchJson(r,a.token),t.ok&&t))));return r||t}finally{a.cancel()}}t.getWSEndpoint=a;const u=e=>async(t,r,n)=>{for(;;)try{return await a(t,r,n,e)}catch(e){if(r.isCancellationRequested)throw new Error(`Could not connect to debug target at ${t}: ${e.message}`);await(0,s.delay)(200)}};function l(e,t){const r=new URL(e),n=new URL(t);return n.host=r.host,n.toString()}t.retryGetNodeEndpoint=u(!0),t.retryGetBrowserEndpoint=u(!1)},79554:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.launchUnelevatedChrome=void 0;const n=r(25370);t.launchUnelevatedChrome=async function(e,t,r,i){const o=e.launchUnelevatedRequest({process:t,args:r});await(0,n.timeoutPromise)(o,i,"Could not launch browser unelevated")}},90505:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UWPWebviewBrowserAttacher=void 0;const u=r(55053),l=r(41808),p=c(r(63216)),d=r(34517),h=r(25370),f=r(15501),m=r(78986),g=r(14090),y=r(44413),b=r(1032),v=r(99010),w=r(52886);let _=class extends w.BrowserAttacher{constructor(e,t,r){super(e,t,r)}resolveParams(e){return"attach"===e.request&&"pwa-msedge"===e.type&&"object"==typeof e.useWebView}async acquireConnectionForBrowser(e,t){const{getAppContainerProcessTokens:n}=await Promise.resolve().then((()=>s(r(28844)))),i=n(t.useWebView.pipeName);if(!i)throw new b.ProtocolError((0,y.uwpPipeNotAvailable)());const o=i.map((e=>(0,l.connect)(e)));let a;try{a=await(0,h.timeoutPromise)((0,m.some)(o.map((e=>new Promise((t=>e.on("error",(()=>t(void 0))).on("connect",(()=>t(e)))))))),e.cancellationToken)}finally{for(const e of o)e!==a&&e.destroy()}if(!a)throw new b.ProtocolError((0,y.noUwpPipeFound)());const c=new d.RawPipeTransport(this.logger,a);return new p.default(c,this.logger,e.telemetryReporter)}};_=o([(0,u.injectable)(),a(0,(0,u.inject)(f.ILogger)),a(1,(0,u.inject)(g.ISourcePathResolver)),a(2,(0,u.optional)()),a(2,(0,u.inject)(v.VSCodeApi))],_),t.UWPWebviewBrowserAttacher=_},33915:function(e,t,r){"use strict";var n,i=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.VSCodeRendererAttacher=void 0;const a=r(55053),c=r(41808),u=s(r(63216)),l=r(34517),p=r(5376),d=r(15501),h=r(14090),f=r(73454),m=r(74966),g=r(52886),y=r(78487);let b=n=class extends g.BrowserAttacher{constructor(e,t,r){super(e,t),this.pathResolverFactory=r}async launch(e,t){if("pwa-extensionHost"!==e.type||"attach"!==e.request)return{blockSessionTermination:!1};const r=n.debugIdToRendererDebugPort.get(e.__sessionId);if(!r)return{blockSessionTermination:!1};const i=(0,f.applyDefaults)({name:"Webview",type:"pwa-chrome",request:"attach",port:r,__workspaceFolder:e.__workspaceFolder,urlFilter:"",...e.rendererDebugOptions});return i.__sessionId=e.__sessionId,i.debugWebWorkerExtHost=e.debugWebWorkerHost,i.debugWebviews=e.debugWebviews,super.launch(i,t).catch((e=>this.logger.error("runtime.exception","Error in webview attach",{err:e}))),{blockSessionTermination:!1}}async acquireConnectionInner(e,t,r){const n=new p.DisposableList,i=await new Promise(((e,i)=>{const o=(0,c.createConnection)({port:t.port},(()=>e(o)));o.on("error",i),n.push(r.onCancellationRequested((()=>{o.destroy(),i(new Error("connection timed out"))})))})).finally((()=>n.dispose()));return new u.default(new l.RawPipeTransport(this.logger,i),this.logger,e)}async getTargetFilter(e){return e.filter}async createTargetManager(e,t,r){return new y.VSCodeRendererTargetManager(e,void 0,e.rootSession(),this.pathResolverFactory.create(t,this.logger),this.logger,r.telemetryReporter,t,r.targetOrigin)}};b.debugIdToRendererDebugPort=new Map,b=n=i([(0,a.injectable)(),o(0,(0,a.inject)(d.ILogger)),o(1,(0,a.inject)(h.ISourcePathResolver)),o(2,(0,a.inject)(m.ISourcePathResolverFactory))],b),t.VSCodeRendererAttacher=b},78487:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VSCodeRendererTargetManager=void 0;const n=r(57310),i=r(97208),o=r(68798);class s extends o.BrowserTargetManager{constructor(){super(...arguments),this.baseFilter=(0,i.createTargetFilterForConfig)(this.launchParams),this.filter=e=>{const{debugWebWorkerExtHost:t,debugWebviews:r}=this.launchParams;if(t){if("worker"===e.type&&"DebugWorkerExtensionHost"===e.title)return!0;if("page"===e.type&&e.title.includes("[Extension Development Host]"))return!0}return!(!r||"iframe"!==e.type||!this.baseFilter(e))}}static async connectRenderer(e,t,r,n,i,o){const s=e.rootSession(),a=await s.Target.attachToBrowserTarget({});if(!a)return;const c=e.createSession(a.sessionId);return new this(e,void 0,c,t,n,i,r,o)}waitForMainTarget(e){const t=this.launchParams;return t.debugWebWorkerExtHost&&this._browser.Target.on("targetCreated",this.enqueueLifecycleFn((async({targetInfo:e})=>{if(!e.url.includes(t.__sessionId))return;const r=await this._browser.Target.attachToTarget({targetId:e.targetId,flatten:!0});r&&this.attachedToTarget(e,r.sessionId,!1)}))),super.waitForMainTarget(e)}attachedToTarget(e,t,r,n){const i=super.attachedToTarget(e,t,r||this.filter(e),n,!1);return"iframe"===e.type&&i.setComputeNameFn(a),i}}t.VSCodeRendererTargetManager=s;const a=e=>{let t;try{t=new n.URL(e.targetInfo.url)}catch(e){return}switch(t.searchParams.get("purpose")){case"customEditor":return`${t.searchParams.get("extensionId")} editor: ${t.host}`;case"notebookRenderer":return`Notebook Renderer: ${t.host}`;default:const e=t.searchParams.get("extensionId");return`Webview: ${e?e+" ":""} ${t.host}`}}},70782:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DelegateLauncher=void 0;const n=r(78472),i=r(44936),o=r(59657),s=r(16362);t.DelegateLauncher=class{constructor(e,t){this.parentList=e,this.logger=t,this.targets=new n.ObservableMap,this.onTerminatedEmitter=new i.EventEmitter,this.onTerminated=this.onTerminatedEmitter.event,this.onTargetListChanged=this.targets.onChanged,e.onAdd((([,e])=>{e.parent&&this.targets.get(e.parent.id)&&this.targets.add(e.id,e.target)})),e.onRemove((([e])=>{this.targets.remove(e)&&!this.targets.size&&this.onTerminatedEmitter.fire({killed:!0,code:0})}))}async launch(e,t){if("node-terminal"!==e.type||"attach"!==e.request)return{blockSessionTermination:!1};const r=this.parentList.get(e.delegateId);if(void 0===r)return setTimeout((()=>this.onTerminatedEmitter.fire({killed:!0,code:0})),1),{blockSessionTermination:!0};const n=r.target.targetOrigin();if(!(n instanceof s.MutableTargetOrigin))throw new Error("Expected delegate session to have a mutable target origin");const i=r.target.logger;if(!(i instanceof o.ProxyLogger))throw new Error("Expected delegate session to have a proxy logger");return n.id=t.targetOrigin.id,i.connectTo(this.logger),setTimeout((()=>{this.targets.add(e.delegateId,r.target),r.dap.connect(t.dap)}),0),{blockSessionTermination:!0}}terminate(){for(const e of this.targets.value())e.stop();return Promise.resolve()}disconnect(){return this.terminate()}restart(){for(const e of this.targets.value())e.restart();return Promise.resolve()}targetList(){return[...this.targets.value()]}dispose(){this.terminate()}}},28247:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.DelegateLauncherFactory=void 0;const i=r(78472),o=r(70782),s=r(55053);let a=0,c=class{constructor(){this.delegateSessions=new i.ObservableMap,this.refsByTarget=new WeakMap}createLauncher(e){return new o.DelegateLauncher(this.delegateSessions,e)}addDelegate(e,t,r){const n={id:a++,target:e,dap:t,parent:r&&this.refsByTarget.get(r)};return this.refsByTarget.set(e,n),this.delegateSessions.add(n.id,n),n.id}removeDelegate(e){const t=this.refsByTarget.get(e);t&&this.delegateSessions.remove(t.id)}};c=n([(0,s.injectable)()],c),t.DelegateLauncherFactory=c},33783:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bootloaderDefaultPath=t.watchdogPath=void 0;const n=r(71017);t.watchdogPath=(0,n.join)(__dirname,"watchdog.bundle.js"),t.bootloaderDefaultPath=(0,n.join)(__dirname,"bootloader.bundle.js")},37518:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CallbackFile=void 0;const s=r(22037),a=o(r(71017)),c=r(6113),u=r(57147);class l{constructor(){this.path=a.join((0,s.tmpdir)(),`node-debug-callback-${(0,c.randomBytes)(8).toString("hex")}`),this.disposed=!1}read(e=l.pollInterval){return this.readPromise||(this.readPromise=new Promise(((t,r)=>{const n=setInterval((()=>{if(this.disposed)return clearInterval(n),void t(void 0);if((0,u.existsSync)(this.path)){try{t(JSON.parse((0,u.readFileSync)(this.path,"utf-8")))}catch(e){r(e)}finally{this.dispose()}clearInterval(n)}}),e)}))),this.readPromise}dispose(){if(!this.disposed){this.disposed=!0;try{(0,u.unlinkSync)(this.path)}catch(e){}}}}t.CallbackFile=l,l.pollInterval=200},81446:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTargetId=void 0;const n=r(6113);t.createTargetId=()=>(0,n.randomBytes)(12).toString("hex")},10735:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionHostAttacher=void 0;const i=r(55053),o=r(56102),s=r(78986),a=r(87768),c=r(18966),u=r(54495),l=r(97019),p=r(82252),d=r(40210),h=r(29801);class f extends d.WatchDogProgram{constructor(e,t){super(e),this.logger=t,this.stopped.then((()=>{this.telemetry&&(0,u.killTree)(this.telemetry.processId,this.logger,"polite")}))}}let m=class extends l.NodeAttacherBase{constructor(){super(...arguments),this.restarting=!1}async restart(){var e;this.restarting=!0,this.onProgramTerminated({code:0,killed:!0,restart:!0}),null===(e=this.program)||void 0===e||e.stop()}resolveParams(e){return"pwa-extensionHost"===e.type&&"attach"===e.request?e:void 0}async launchProgram(e){const t=await(0,c.retryGetNodeEndpoint)(`http://localhost:${e.params.port}`,e.context.cancellationToken,this.logger),r=await h.WatchDog.attach({ipcAddress:e.serverAddress,scriptName:"Extension Host",inspectorURL:t,waitForDebugger:!0,dynamicAttach:!0}),n=this.program=new f(r,this.logger);this.program.stopped.then((e=>{n===this.program&&this.onProgramTerminated(e)}))}createLifecycle(e,t,r){return r.openerId?{}:{initialized:()=>this.onFirstInitialize(e,t,r)}}async onFirstInitialize(e,t,r){this.setEnvironmentVariables(e,t,r.targetId);const n=await this.gatherTelemetryFromCdp(e,t),i=this.program;if(n&&i){const e=new d.TerminalProcess({processId:n.processId},this.logger,"forceful");e.stopped.then((()=>i.stop())),i.stopped.then((()=>{this.restarting||e.stop()}))}}async setEnvironmentVariables(e,t,r){if(!t.params.autoAttachChildProcesses)return;const n=await this.resolveEnvironment(t,new p.NodeBinary("node",a.Semver.parse(process.versions.node)),{openerId:r});for(let t=0;t<5;t++){const t=await e.Runtime.evaluate({contextId:1,returnByValue:!0,expression:`Object.assign(process.env, ${JSON.stringify(n.defined())})`+(0,o.getSourceSuffix)()});if(t){if(!t.exceptionDetails)return;this.logger.error("runtime.target","Error setting child environment vars",t.exceptionDetails)}else this.logger.error("runtime.target","Undefined result setting child environment vars");await(0,s.delay)(50)}}};m=n([(0,i.injectable)()],m),t.ExtensionHostAttacher=m},65581:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.signalReadyExpr=void 0;const n=r(56102);t.signalReadyExpr=()=>"globalThis.__jsDebugIsReady = true; "+(0,n.getSourceSuffix)()},19282:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionHostLauncher=void 0;const i=r(57147),o=r(55053),s=r(77551),a=r(33915),c=r(33811),u=r(40210);let l=class extends c.NodeLauncherBase{resolveParams(e){return"pwa-extensionHost"===e.type&&"launch"===e.request?e:void 0}async launchProgram(e){const t=e.params.port||await(0,s.findOpenPort)(),r=await e.context.dap.launchVSCodeRequest({args:p(e.params,t),env:this.getConfiguredEnvironment(e.params).defined(),debugRenderer:e.params.debugWebviews||e.params.debugWebWorkerHost});r.rendererDebugPort&&a.VSCodeRendererAttacher.debugIdToRendererDebugPort.set(e.params.__sessionId,r.rendererDebugPort),this.program=new u.StubProgram,this.program.stop()}};l=n([(0,o.injectable)()],l),t.ExtensionHostLauncher=l;const p=(e,t)=>{const r=e.args.map((e=>{if(e.startsWith("-")){const t=e.split("=",2);return 2===t.length&&((0,i.existsSync)(t[1])||(0,i.existsSync)(t[1]+".js"))?{prefix:t[0]+"=",path:t[1]}:{prefix:e}}try{const t=(0,i.lstatSync)(e);if(t.isDirectory())return{prefix:"--folder-uri=",path:e};if(t.isFile())return{prefix:"--file-uri=",path:e}}catch(e){}return{path:e}}));return e.noDebug||r.unshift({prefix:`--inspect-brk-extensions=${t}`}),r.unshift({prefix:`--debugId=${e.__sessionId}`}),r}},54495:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.killTree=void 0;const n=r(32081),i=r(71017);t.killTree=function(e,t,r="forceful"){if("none"===r)return!0;if("win32"===process.platform){const o=process.env.WINDIR||"C:\\Windows",s=(0,i.join)(o,"System32","taskkill.exe");try{return(0,n.execSync)(`${s} ${"forceful"===r?"/F":""} /T /PID ${e}`),!0}catch(e){return t.error("runtime.exception","Error running taskkill.exe",e),!1}}else try{const o=(0,i.join)(__dirname,"./terminateProcess.sh"),s=(0,n.spawnSync)("sh",[o,e.toString(),"forceful"===r?"9":"15"]);return!s.stderr||!s.status||(t.error("runtime.exception","Error running terminateProcess",s),!1)}catch(e){return t.error("runtime.exception","Error running terminateProcess",e),!1}}},19597:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.LeaseFile=void 0;const s=r(6113),a=r(57147),c=r(22037),u=o(r(71017));class l{constructor(){this.disposed=!1,this.path=u.join((0,c.tmpdir)(),`node-debug-callback-${(0,s.randomBytes)(8).toString("hex")}`),this.file=a.promises.open(this.path,"w")}static isValid(e){try{const t=(0,a.readFileSync)(e);return!!t.length&&t.readDoubleBE()>Date.now()-l.recencyDeadline}catch(e){return!1}}async startTouchLoop(){await this.touch(),this.disposed||(this.updateInterval=setInterval((()=>this.touch()),l.updateInterval))}async touch(e=(()=>Date.now())){const t=await this.file,r=Buffer.alloc(8);r.writeDoubleBE(e()),await t.write(r,0,r.length,0)}async dispose(){if(!this.disposed){this.disposed=!0,this.updateInterval&&clearInterval(this.updateInterval);try{const e=await this.file;await e.close(),await a.promises.unlink(this.path)}catch(e){}}}}t.LeaseFile=l,l.updateInterval=1e3,l.recencyDeadline=2e3},31819:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.NodeAttacher=void 0;const c=r(55053),u=s(r(33463)),l=r(91183),p=r(56102),d=r(25370),h=r(15501),f=r(78986),m=r(97208),g=r(18966),y=r(74966),b=r(19597),v=r(97019),w=r(3974),_=r(82252),S=r(40210),k=r(95077),P=r(29801),x=u.loadMessageBundle(r(71017).join(__dirname,"targets\\node\\nodeAttacher.js"));let C=class extends v.NodeAttacherBase{constructor(e,t,r,n,i=new k.RestartPolicyFactory){super(e,t,n,r),this.restarters=i}resolveParams(e){return"pwa-node"===e.type&&"attach"===e.request?e:void 0}async launchProgram(e){const t=async(t,n)=>{const i=this.program;let o;try{o=e.params.websocketAddress?e.params.websocketAddress:await(0,g.retryGetNodeEndpoint)(`http://${e.params.address}:${e.params.port}`,n&&e.params.timeout>0?d.CancellationTokenSource.withTimeout(e.params.timeout).token:e.context.cancellationToken,this.logger)}catch(e){if(i&&i===n)return r(t,i,{killed:!1,code:1});throw e}const s=await P.WatchDog.attach({ipcAddress:e.serverAddress,scriptName:"Remote Process",inspectorURL:o,waitForDebugger:!0,dynamicAttach:!0}),a=this.program=new S.WatchDogProgram(s);a.stopped.then((e=>r(t.reset(),a,e)))},r=async(r,n,i)=>{if(this.program!==n)return;if(i.killed)return void this.onProgramTerminated(i);const o=r.next();if(!o)return void this.onProgramTerminated(i);e.context.dap.output({output:x(0,null,o.delay)});const s=new S.StubProgram;this.program=s;const a=await Promise.race([(0,f.delay)(o.delay),s.stopped]);this.program===s&&(a?this.onProgramTerminated(i):t(o,s))};return t(this.restarters.create(e.params.restart))}createLifecycle(e,t,r){if(r.openerId)return{};let n;return{initialized:async()=>{n=this.onFirstInitialize(e,t,r),await n},close:()=>{var e;this.targetList().length&&(null===(e=this.program)||void 0===e||e.stop()),null==n||n.then((e=>e.dispose()))}}}async onFirstInitialize(e,t,r){const n=new b.LeaseFile;await n.startTouchLoop();const i=await this.resolveNodePath(t.params),[o]=await Promise.all([this.gatherTelemetryFromCdp(e,t),this.setEnvironmentVariables(e,t,n.path,r.targetId,i)]);return o&&t.params.attachExistingChildren&&(0,w.watchAllChildren)({pid:o.processId,nodePath:i.path,hostname:t.params.address,ipcAddress:t.serverAddress},r.targetId,this.logger).catch((e=>this.logger.warn("internal","Error watching child processes",{err:e}))),n}async setEnvironmentVariables(e,t,r,n,i){if(!t.params.autoAttachChildProcesses)return;if(!await(0,m.isLoopback)(t.params.address))return void this.logger.warn("runtime.target","Cannot attach to children of remote process");const o=await this.resolveEnvironment(t,i,{requireLease:r,openerId:n});for(let t=0;t<5;t++){const t=await e.Runtime.evaluate({contextId:1,returnByValue:!0,expression:`typeof process === 'undefined' || process.pid === undefined ? 'process not defined' : Object.assign(process.env, ${JSON.stringify(o.defined())})`+(0,p.getSourceSuffix)()});if(!t)return void this.logger.error("runtime.target","Undefined result setting child environment vars");if(!t.exceptionDetails&&"process not defined"!==t.result.value)return;this.logger.error("runtime.target","Error setting child environment vars",t),await(0,f.delay)(50)}}};C=o([(0,c.injectable)(),a(0,(0,c.inject)(_.INodeBinaryProvider)),a(1,(0,c.inject)(h.ILogger)),a(2,(0,c.inject)(y.ISourcePathResolverFactory)),a(3,(0,c.inject)(l.IPortLeaseTracker))],C),t.NodeAttacher=C},97019:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.NodeAttacherBase=void 0;const i=r(55053),o=r(33811);let s=class extends o.NodeLauncherBase{};s=n([(0,i.injectable)()],s),t.NodeAttacherBase=s},3974:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.watchAllChildren=void 0;const n=r(29801),i=r(25370),o=r(92800),s=r(18966);t.watchAllChildren=async function(e,t,r,a=i.NeverCancelled){const c=await async function(e,t){const r=new Map;r.set(0,{children:[],pid:0,ppid:0,command:"",args:""});try{await o.processTree.lookup((({pid:e,ppid:t,command:n,args:i})=>(e!==t&&r.set(e,{pid:e,ppid:t,command:n,args:i,children:[]}),r)),null)}catch(e){return void t.warn("internal","Error getting child process tree",e)}const n=r.values();for(const e of n){const t=r.get(e.ppid);t&&t!==e&&t.children.push(e)}return!isNaN(e)&&e>0?r.get(e):r.get(0)}(e.pid,r);if(!c)return[];const u=[];let l=c.children.slice();for(;l.length;){const i=l.pop();l=l.concat(i.children);const{port:c}=(0,o.analyseArguments)(i.args);c&&u.push((0,s.getWSEndpoint)(`http://${e.hostname}:${c}`,a,r,!0).then((r=>n.WatchDog.attach({ipcAddress:e.ipcAddress,scriptName:"Child Process",inspectorURL:r,waitForDebugger:!0,dynamicAttach:!0,pid:String(i.pid),openerId:t}))).catch((e=>r.info("internal","Could not spawn WD for child process",{err:e,port:c,child:i}))))}return(await Promise.all(u)).filter((e=>!!e))}},82252:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InteractiveNodeBinaryProvider=t.NodeBinaryProvider=t.NodeBinaryOutOfDateError=t.NodeBinary=t.getRunScript=t.isPackageManager=t.hideDebugInfoFromConsole=t.INodeBinaryProvider=void 0;const c=r(55053),u=r(71017),l=s(r(33463)),p=r(94570),d=r(15501),h=r(79783),f=r(63945),m=r(87768),g=r(44413),y=r(1032),b=r(99010),v=r(13213),w=l.loadMessageBundle(r(71017).join(__dirname,"targets\\node\\nodeBinaryProvider.js"));t.INodeBinaryProvider=Symbol("INodeBinaryProvider"),t.hideDebugInfoFromConsole=function(e,t){return e.has(1)?t.addNodeOption("--inspect-publish-uid=http"):t};const _=new Set(["npm","yarn","pnpm","tnpm","cnpm"]);t.isPackageManager=e=>_.has((0,u.basename)(e,(0,u.extname)(e))),t.getRunScript=(e,r)=>{if(e&&(0,t.isPackageManager)(e))return r.find((e=>!e.startsWith("-")&&"run"!==e&&"run-script"!==e))};const S=new m.Semver(12,0,0),k=new m.Semver(8,0,0),P=[{inclusiveMin:new m.Semver(16,0,0),inclusiveMax:new m.Semver(16,3,99),message:w(0,null)},{inclusiveMin:new m.Semver(7,0,0),inclusiveMax:new m.Semver(8,99,99),message:w(1,null)}];class x{constructor(e,t){this.path=e,this.version=t,this.capabilities=new Set,void 0===t&&(t=S),t.gte(new m.Semver(12,0,0))&&this.capabilities.add(0),t.gte(new m.Semver(12,6,0))&&this.capabilities.add(1)}get isPreciselyKnown(){return void 0!==this.version}get warning(){if(this.version)for(const e of P)if(e.inclusiveMax.gte(this.version)&&e.inclusiveMin.lte(this.version))return e}has(e,t){return this.isPreciselyKnown||void 0===t?this.capabilities.has(e):t}}t.NodeBinary=x;class C extends y.ProtocolError{constructor(e,t){super((0,g.nodeBinaryOutOfDate)(e.toString(),t)),this.version=e,this.location=t}}t.NodeBinaryOutOfDateError=C;const E=/^(node|electron)(64)?(\.exe|\.cmd)?$/i,D=new Map([[11,new m.Semver(12,0,0)],[10,new m.Semver(12,0,0)],[9,new m.Semver(12,0,0)],[8,new m.Semver(12,0,0)],[7,new m.Semver(12,0,0)],[6,new m.Semver(12,0,0)],[5,new m.Semver(10,0,0)],[4,new m.Semver(10,0,0)],[3,new m.Semver(10,0,0)],[2,new m.Semver(8,0,0)],[1,new m.Semver(8,0,0)]]);let O=class{constructor(e,t,r){this.logger=e,this.fs=t,this.packageJson=r,this.knownGoodMappings=new Map}async resolveAndValidate(e,t="node",r){try{return await this.resolveAndValidateInner(e,t,r)}catch(e){if(!(e instanceof C))throw e;if(await this.shouldTryDebuggingAnyway(e))return new x(e.location,e.version instanceof m.Semver?e.version:void 0);throw e}}shouldTryDebuggingAnyway(e){return Promise.resolve(!1)}async resolveAndValidateInner(e,r,n){var i,o;const s=await this.resolveBinaryLocation(r,e);if(this.logger.info("runtime.launch","Using binary at",{location:s,executable:r}),!s)throw new y.ProtocolError((0,g.cannotFindNodeBinary)(r,w(2,null)));if(n)return new x(s,new m.Semver(n,0,0));const a=E.exec((0,u.basename)(s).toLowerCase());if(!a){if((0,t.isPackageManager)(s)){const t=await this.packageJson.getPath();t&&(e=e.addToPath((0,u.resolve)((0,u.dirname)(t),"node_modules/.bin"),"prepend"))}try{const t=await this.resolveAndValidateInner(e,"node",void 0);return new x(s,t.version)}catch(e){if((0,g.isErrorOfType)(e,9230))throw e;return new x(s,void 0)}}if(s.startsWith("/snap/"))return new x(s,void 0);const c=this.knownGoodMappings.get(s);if(c)return c;const l=await this.getVersionText(s);if(!l)return new x(s,void 0);this.logger.info("runtime.launch","Discovered version",{version:l});const p=/v([0-9]+)\.([0-9]+)\.([0-9]+)/.exec(l);if(!p)throw new C(l,s);const[,d,h,f]=p.map(Number);let b=new m.Semver(d,h,f);if("electron"===a[1]){const t=await this.resolveAndValidate(e);b=m.Semver.min(null!==(i=D.get(b.major))&&void 0!==i?i:S,null!==(o=t.version)&&void 0!==o?o:S)}if(b.lt(k))throw new C(b,s);const v=new x(s,b);return this.knownGoodMappings.set(s,v),v}async resolveBinaryLocation(e,t){return e&&(0,u.isAbsolute)(e)?await(0,h.findExecutable)(this.fs,e,t):await(0,h.findInPath)(this.fs,e,t.value)}async getVersionText(e){try{const{stdout:t}=await(0,f.spawnAsync)(e,["--version"],{env:p.EnvironmentVars.processEnv().defined()});return t.trim()}catch(t){throw new y.ProtocolError((0,g.cannotFindNodeBinary)(e,w(3,null,t.message)))}}};O=o([(0,c.injectable)(),a(0,(0,c.inject)(d.ILogger)),a(1,(0,c.inject)(b.FS)),a(2,(0,c.inject)(v.IPackageJsonProvider))],O),t.NodeBinaryProvider=O;let A=class extends O{constructor(e,t,r,n){super(e,t,r),this.vscode=n}async shouldTryDebuggingAnyway({message:e}){if(!this.vscode)return!1;const t=w(4,null);return await this.vscode.window.showErrorMessage(w(5,null,e),t)===t}};A=o([a(0,(0,c.inject)(d.ILogger)),a(1,(0,c.inject)(b.FS)),a(2,(0,c.inject)(v.IPackageJsonProvider)),a(3,(0,c.optional)()),a(3,(0,c.inject)(b.VSCodeApi))],A),t.InteractiveNodeBinaryProvider=A},34370:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.NodeLauncher=void 0;const o=r(55053),s=r(71017),a=r(52287),c=r(91183),u=r(26379),l=r(15501),p=r(79783),d=r(78986),h=r(97208),f=r(52517),m=r(18966),g=r(74966),y=r(37518),b=r(82252),v=r(33811),w=r(13213),_=r(88031),S=r(40210),k=r(95077),P=r(29801);let x=class extends v.NodeLauncherBase{constructor(e,t,r,n,i,o,s,a,c){super(e,t,c,a),this.bpPredictor=r,this.launchers=n,this.restarters=i,this.fsUtils=o,this.packageJson=s}resolveParams(e){let t;if("pwa-node"===e.type&&"launch"===e.request?t={...e}:"server"in e&&e.server&&"program"in e.server&&(t={...e.server}),t)return(0,f.fixInspectFlags)(t),t}async launchProgram(e){e.params.program&&(e.params.program=await this.tryGetCompiledFile(e.params.program)),this.attachSimplePort=await this.getSimpleAttachPortIfAny(e.params);const t=async r=>{this.program&&this.program.stop();const n=await this.resolveNodePath(e.params,e.params.runtimeExecutable||void 0),i=n.warning;i&&e.context.dap.output({category:"stderr",output:i.message});const o=new y.CallbackFile;let s=await this.resolveEnvironment(e,n,{fileCallback:o.path});this.attachSimplePort?(e.params.attachSimplePort||e.context.dap.output({category:"stderr",output:"Using legacy attach mode for --inspect-brk in npm scripts. We recommend removing --inspect-brk, and using `stopOnEntry` in your launch.json if you need it."}),s=s.merge({NODE_OPTIONS:null})):s=(0,b.hideDebugInfoFromConsole)(n,s);const a={...e.params,env:s.value},c=this.launchers.find((e=>e.canLaunch(a)));if(!c)throw new Error("Cannot find an appropriate launcher for the given set of options");let u=await c.launchProgram(n.path,a,e.context);if(this.attachSimplePort){const t=await P.WatchDog.attach({ipcAddress:e.serverAddress,scriptName:"Remote Process",inspectorURL:await(0,m.retryGetNodeEndpoint)(`http://127.0.0.1:${this.attachSimplePort}`,e.context.cancellationToken,this.logger),waitForDebugger:!0,dynamicAttach:!0});u=new S.CombinedProgram(u,new S.WatchDogProgram(t))}else o.read().then((e=>{e&&u.gotTelemetery(e)}));this.program=u,u.stopped.then((async e=>{if(o.dispose(),this.program!==u)return;if(e.killed||0===e.code)return void this.onProgramTerminated(e);const n=r.next();n?(await(0,d.delay)(n.delay),this.program===u&&t(n)):this.onProgramTerminated(e)}))};return t(this.restarters.create(e.params.restart))}async getSimpleAttachPortIfAny(e){var t,r,n;if(e.attachSimplePort)return e.attachSimplePort;const i=(0,b.getRunScript)(e.runtimeExecutable,e.runtimeArgs);if(!i)return;const o=await this.packageJson.getContents();return(null===(r=null===(t=null==o?void 0:o.scripts)||void 0===t?void 0:t[i])||void 0===r?void 0:r.includes("--inspect-brk"))?null!==(n=e.port)&&void 0!==n?n:9229:void 0}createLifecycle(e,t,{targetId:r}){return{initialized:async()=>{if(this.attachSimplePort&&await this.gatherTelemetryFromCdp(e,t),!t.params.stopOnEntry)return;const r=await(async(e,t)=>{if("string"==typeof t.stopOnEntry)return(0,s.resolve)(t.cwd,t.stopOnEntry);if(t.program)return(0,s.resolve)(t.cwd,t.program);for(const r of t.args){if(r.startsWith("-"))continue;const n=(0,s.resolve)(t.cwd,r);if(await e.exists(n))return n}})(this.fsUtils,t.params);if(!r)return void this.logger.warn("runtime","Could not resolve program entrypointfrom args");const n=(0,h.absolutePathToFileUrl)(r),i=(0,h.urlToRegex)(n)+"(?:entryBreakpoint){0}",o=await e.Debugger.setBreakpointByUrl({urlRegex:i,lineNumber:0,columnNumber:0});return(null==o?void 0:o.breakpointId)?{cdpId:null==o?void 0:o.breakpointId,path:n}:void 0},close:()=>{const e=Number(r);if(e>0)try{process.kill(e)}catch(e){}}}}async tryGetCompiledFile(e){e=(0,p.fixDriveLetterAndSlashes)(e);const t=(0,s.extname)(e);if(!t||".js"===t)return e;const r=await this.bpPredictor.getPredictionForSource(e);if(!r||0===r.size)return e;const n=r.values().next().value;return n?(this.logger.info("runtime.launch","Updating entrypoint to compiled file",{from:e,to:n.compiledPath,candidates:r.size}),n.compiledPath):e}};x=n([(0,o.injectable)(),i(0,(0,o.inject)(b.INodeBinaryProvider)),i(1,(0,o.inject)(l.ILogger)),i(2,(0,o.inject)(a.IBreakpointsPredictor)),i(3,(0,o.multiInject)(_.IProgramLauncher)),i(4,(0,o.inject)(k.RestartPolicyFactory)),i(5,(0,o.inject)(u.IFsUtils)),i(6,(0,o.inject)(w.IPackageJsonProvider)),i(7,(0,o.inject)(g.ISourcePathResolverFactory)),i(8,(0,o.inject)(c.IPortLeaseTracker))],x),t.NodeLauncher=x},33811:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.NodeLauncherBase=void 0;const u=s(r(90993)),l=s(r(57147)),p=r(55053),d=s(r(41808)),h=s(r(22037)),f=s(r(71017)),m=r(91183),g=r(56102),y=c(r(63216)),b=r(34517),v=r(55012),w=r(25370),_=r(78472),S=r(5376),k=r(94570),P=r(44936),x=r(15501),C=r(7678),E=r(79783),D=r(78986),O=r(44413),A=r(1032),M=r(74966),T=r(33783),j=r(82252),R=r(41978),F=r(98995);let I=0,L=class{constructor(e,t,r,n){this.pathProvider=e,this.logger=t,this.portLeaseTracker=r,this.pathResolverFactory=n,this.serverConnections=new Set,this.targets=new _.ObservableMap,this.onTerminatedEmitter=new P.EventEmitter,this.onTerminated=this.onTerminatedEmitter.event,this.onTargetListChanged=this.targets.onChanged,this.bootloaderFile=(0,C.once)(this.getBootloaderFile.bind(this))}async launch(e,t){const r=this.resolveParams(e);if(!r)return{blockSessionTermination:!1};this._stopServer();const{server:n,pipe:i}=await this._startServer(t.telemetryReporter),o=this.logger.forTarget(),s=this.run={server:n,serverAddress:i,params:r,context:t,logger:o,pathResolver:this.pathResolverFactory.create(r,this.logger)};return await this.launchProgram(s),{blockSessionTermination:!0}}async terminate(){this.program?await this.program.stop():this.onProgramTerminated({code:0,killed:!0})}async disconnect(){await this.terminate()}async restart(e){var t;if(!this.run)return;const r=this.program;r&&(this.program=void 0,await r.stop(),await Promise.race([(0,D.delay)(2e3).then((()=>!1)),Promise.all([...this.serverConnections].map((e=>new Promise((t=>e.onDisconnected(t))))))])||(this.logger.warn("runtime.launch","Timeout waiting for server connections to close"),this.closeAllConnections())),await this.launchProgram({...this.run,params:e&&null!==(t=this.resolveParams(e))&&void 0!==t?t:this.run.params,context:{...this.run.context,cancellationToken:this.run.params.timeout>0?w.CancellationTokenSource.withTimeout(this.run.params.timeout).token:w.NeverCancelled}})}targetList(){return[...this.targets.value()]}dispose(){this._stopServer()}onProgramTerminated(e){this.onTerminatedEmitter.fire(e),this._stopServer(),this.program=void 0}resolveNodePath(e,t="node"){return this.pathProvider.resolveAndValidate(k.EnvironmentVars.merge(k.EnvironmentVars.processEnv(),this.getConfiguredEnvironment(e)),t,e.nodeVersionHint)}getConfiguredEnvironment(e){let t=k.EnvironmentVars.empty;if(e.envFile)try{t=t.merge(function(e){if(!l.existsSync(e))return{};const t=((r=l.readFileSync(e,"utf8"))&&"\ufeff"===r[0]&&(r=r.substr(1)),r);var r;return u.parse(Buffer.from(t))}(e.envFile))}catch(e){throw new A.ProtocolError((0,O.cannotLoadEnvironmentVars)(e.message))}return t.merge(e.env)}async resolveEnvironment({params:e,serverAddress:t},r,n){const i=this.getConfiguredEnvironment(e),o=await this.bootloaderFile(e.cwd,r),s={inspectorIpc:t,deferredMode:!1,waitForDebugger:"",execPath:await(0,E.findInPath)(l.promises,"node",process.env),onlyEntrypoint:!e.autoAttachChildProcesses,verbose:!!(!0===e.trace||"object"==typeof e.trace&&e.trace.stdio)||void 0,autoAttachMode:"always",mandatePortTracking:!!this.portLeaseTracker.isMandated||void 0,...n},a={NODE_OPTIONS:`--require ${o.interpolatedPath}`,VSCODE_INSPECTOR_OPTIONS:JSON.stringify(s),ELECTRON_RUN_AS_NODE:null},c=i.lookup("NODE_OPTIONS");c&&(a.NODE_OPTIONS+=` ${c}`);const u=k.EnvironmentVars.processEnv().lookup("NODE_OPTIONS");return u&&(a.NODE_OPTIONS+=` ${u}`),i.merge({...a})}createLifecycle(e,t,r){return{}}async _startServer(e){const t="win32"===process.platform?"\\\\.\\pipe\\":h.tmpdir(),r=f.join(t,`node-cdp.${process.pid}-${++I}.sock`),n=await new Promise(((t,n)=>{const i=d.createServer((t=>this._startSession(t,e))).on("error",n).listen(r,(()=>t(i)))}));return{pipe:r,server:n}}_stopServer(){var e,t;null===(e=this.run)||void 0===e||e.server.close(),this.run=void 0,null===(t=this.bootloaderFile.value)||void 0===t||t.then((e=>e.dispose())),this.bootloaderFile.forget(),this.closeAllConnections()}closeAllConnections(){this.serverConnections.forEach((e=>e.close())),this.serverConnections.clear()}async _startSession(e,t){if(!this.run)return;const{connection:r,cdp:n,targetInfo:i}=await this.acquireTarget(e,t,this.run.logger);if(!this.run)return void e.destroy();void 0===i.processId&&(i.processId=Number(i.targetId));const o=new R.NodeTarget(this.run.params,this.run.context.targetOrigin,r,n,i,this.run.logger,this.createLifecycle(n,this.run,i),i.openerId?this.targets.get(i.openerId):void 0);this.listenToWorkerDomain(n,t,o),this.targets.add(i.targetId,o),o.onDisconnect((()=>this.targets.remove(i.targetId)))}async listenToWorkerDomain(e,t,r){e.NodeWorker.on("attachedToWorker",(n=>{const i=new v.WorkerTransport(n.sessionId,e),o=new F.NodeWorkerTarget(r.launchConfig,{attached:!0,canAccessOpener:!1,type:"node-worker",targetId:`${r.id()}-${n.sessionId}`,title:n.workerInfo.title,url:n.workerInfo.url,openerId:r.id()},r,r.targetOrigin(),new y.default(i,r.logger,t).rootSession(),r.logger),s=new S.DisposableList;s.push(i),s.push(r.onDisconnect((()=>s.dispose()))),s.push(i.onEnd((()=>s.dispose()))),s.callback((()=>this.targets.remove(o.id()))),this.targets.add(o.id(),o)}))}async acquireTarget(e,t,r){const n=new y.default(new b.RawPipeTransport(r,e),r,t);this.serverConnections.add(n),n.onDisconnected((()=>this.serverConnections.delete(n)));const i=n.rootSession(),{targetInfo:o}=await new Promise((e=>i.Target.on("targetCreated",e))),s=o,a=this.portLeaseTracker.register(s.processInspectorPort);return n.onDisconnected((()=>a.dispose())),{targetInfo:s,cdp:i,connection:n,logger:r}}async getBootloaderFile(e,t){const r=(0,E.forceForwardSlashes)(T.bootloaderDefaultPath);if(!r.includes(" "))return{interpolatedPath:r,dispose:()=>{}};if(t.has(0))return{interpolatedPath:`"${r}"`,dispose:()=>{}};const n=`require(${JSON.stringify(r)})`;if(!h.tmpdir().includes(" ")||!e){const e=f.join(h.tmpdir(),"vscode-js-debug-bootloader.js");return await l.promises.writeFile(e,n),{interpolatedPath:e,dispose:()=>{}}}const i=".vscode-js-debug-bootloader.js",o=f.join(e,i);return await l.promises.writeFile(o,n),{interpolatedPath:`./${i}`,dispose:()=>l.unlinkSync(o)}}async gatherTelemetryFromCdp(e,t){for(let r=0;r<8;r++){const n=await e.Runtime.evaluate({contextId:1,returnByValue:!0,expression:"typeof process === 'undefined' || process.pid === undefined ? 'process not defined' : ({ processId: process.pid, nodeVersion: process.version, architecture: process.arch })"+(0,g.getSourceSuffix)()});if(!this.program)return;if(!n||!n.result.value)return void this.logger.error("runtime.target","Undefined result getting telemetry");if("object"!=typeof n.result.value){this.logger.info("runtime.target","Process not yet defined, will retry"),await(0,D.delay)(50*2**r);continue}const i=n.result.value;return t.context.telemetryReporter.report("nodeRuntime",{version:i.nodeVersion,arch:i.architecture}),this.program.gotTelemetery(i),i}}};L=o([(0,p.injectable)(),a(0,(0,p.inject)(j.INodeBinaryProvider)),a(1,(0,p.inject)(x.ILogger)),a(2,(0,p.inject)(m.IPortLeaseTracker)),a(3,(0,p.inject)(M.ISourcePathResolverFactory))],L),t.NodeLauncherBase=L},46681:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.NodeSourcePathResolver=void 0;const s=o(r(71017)),a=r(57310),c=r(79783),u=r(85196),l=o(r(97208)),p=r(48055),d="node:";class h extends p.SourcePathResolverBase{constructor(e,t,r,n){super(r,n),this.fsUtils=e,this.linkedBp=t,this.options=r,this.logger=n}static shouldWarnAboutSymlinks(e){var t;return"runtimeArgs"in e&&!(null===(t=e.runtimeArgs)||void 0===t?void 0:t.includes("--preserve-symlinks"))}static getOptions(e){return{resolveSourceMapLocations:e.resolveSourceMapLocations,basePath:e.cwd,sourceMapOverrides:e.sourceMapPathOverrides,remoteRoot:e.remoteRoot,localRoot:e.localRoot}}derive(e){return new h(this.fsUtils,this.linkedBp,{...this.options,...e},this.logger)}get resolutionOptions(){return this.options}async urlToAbsolutePath({url:e,map:t}){var r;if((e=this.normalizeSourceMapUrl(e)).startsWith(d)&&this.options.basePath)return(e=s.join(this.options.basePath,"lib",e.slice(d.length))).endsWith(".js")||(e+=".js"),e;if(t)return this.sourceMapSourceToAbsolute(e,t);const n=l.fileUrlToAbsolutePath(e);if(n)return this.rebaseRemoteToLocal(n);if(l.isValidUrl(e)){const t=this.sourceMapOverrides.apply(e);e=t===e?new a.URL(e).pathname.slice(1):t}else{if(!s.isAbsolute(e))return`<node_internals>/${e}`;e=this.sourceMapOverrides.apply(e)}const i=(0,c.properResolve)(null!==(r=this.options.basePath)&&void 0!==r?r:"",e);return this.rebaseRemoteToLocal(i)}absolutePathToUrl(e){return l.absolutePathToFileUrl(this.rebaseLocalToRemote(s.normalize(e)))}async absolutePathToUrlRegexp(e){var t;let r=e;try{r=await this.fsUtils.realPath(e)}catch(e){}return l.comparePathsWithoutCasing(r,e)?l.urlToRegex(this.absolutePathToUrl(e)):(null===(t=this.linkedBp)||void 0===t||t.warn(),l.urlToRegex(this.absolutePathToUrl(e))+"|"+l.urlToRegex(this.absolutePathToUrl(r)))}async sourceMapSourceToAbsolute(e,t){if(!this.shouldResolveSourceMap(t.metadata))return;const r=(0,u.getFullSourceEntry)(t.sourceRoot,e),n=this.sourceMapOverrides.apply(r);return n!==r?(0,c.fixDriveLetterAndSlashes)(n):l.isFileUrl(e)?l.fileUrlToAbsolutePath(e):(!s.isAbsolute(e)&&this.options.basePath&&(e=(0,c.properResolve)(await(0,u.getComputedSourceRoot)(this.options.remoteRoot&&l.isAbsolute(t.sourceRoot)&&this.rebaseRemoteToLocal(t.sourceRoot)||t.sourceRoot,t.metadata.compiledPath,{"/":this.options.basePath},(0,u.moduleAwarePathMappingResolver)(this.fsUtils,t.metadata.compiledPath),this.logger),e)),this.rebaseRemoteToLocal(e)||e)}}t.NodeSourcePathResolver=h},41978:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeTarget=void 0;const n=r(71017),i=r(44936),o=r(97208);t.NodeTarget=class{constructor(e,t,r,o,s,a,c={},u){this.launchConfig=e,this.targetOriginValue=t,this.connection=r,this.targetInfo=s,this.logger=a,this.lifecycle=c,this._parent=u,this._serialize=Promise.resolve(void 0),this._attached=!1,this._onNameChangedEmitter=new i.EventEmitter,this._onDisconnectEmitter=new i.EventEmitter,this.entryBreakpoint=void 0,this.onDisconnect=this._onDisconnectEmitter.event,this.onNameChanged=this._onNameChangedEmitter.event,this.connection=r,this._cdp=o,o.pause(),this._waitingForDebugger="waitingForDebugger"===s.type,s.title?this._targetName=`${(0,n.basename)(s.title)} [${s.processId}]`:this._targetName=`[${s.processId}]`,o.Target.on("targetDestroyed",(()=>this.connection.close())),r.onDisconnected((()=>this._disconnected()))}id(){return this.targetInfo.targetId}processId(){return this.targetInfo.processId}name(){return this._targetName}fileName(){return this.targetInfo.title}type(){return"node"}targetOrigin(){return this.targetOriginValue}parent(){return this._parent}async initialize(){this.lifecycle.initialized&&(this.entryBreakpoint=await this.lifecycle.initialized(this)||void 0)}waitingForDebugger(){return this._waitingForDebugger}scriptUrlToUrl(e){return"/"===e[0]||"win32"===process.platform&&":"===e[1]&&"\\"===e[2]?(0,o.absolutePathToFileUrl)(e):e}supportsCustomBreakpoints(){return!1}executionContextName(){return this._targetName}hasParent(){return!!this._parent}async runIfWaitingForDebugger(){await this._cdp.Runtime.runIfWaitingForDebugger({})}async _disconnected(){this._onDisconnectEmitter.fire()}canAttach(){return!this._attached}async attach(){return this._serialize=this._serialize.then((async()=>{if(!this._attached)return this._doAttach()})),this._serialize}async _doAttach(){this._waitingForDebugger=!1,this._attached=!0;const e=await this._cdp.Target.attachToTarget({targetId:this.targetInfo.targetId});if(!e)return void this.logger.info("runtime.launch","Failed to attach to target",{targetId:this.targetInfo.targetId});let t;return this._cdp.NodeWorker.enable({waitForDebuggerOnStart:!0}),e&&"__dynamicAttach"in e&&(await this._cdp.Debugger.enable({}),await this._cdp.Runtime.enable({})),this._cdp.Runtime.on("executionContextCreated",(e=>{e.context.auxData&&e.context.auxData.isDefault&&(t=e.context.id)})),this._cdp.Runtime.on("executionContextDestroyed",(e=>{e.executionContextId===t&&this.connection.close()})),this._cdp}async afterBind(){this._cdp.resume()}canDetach(){return this._attached}async detach(){this._serialize=this._serialize.then((async()=>{if(this._waitingForDebugger){const e=await this._doAttach();await(null==e?void 0:e.Runtime.runIfWaitingForDebugger({}))}this._attached&&this._doDetach()}))}async _doDetach(){await Promise.all([this._cdp.Target.detachFromTarget({targetId:this.targetInfo.targetId}),this._cdp.NodeWorker.disable({})]),this.connection.close(),this._attached=!1}canRestart(){return!1}restart(){}canStop(){return!0}stop(){try{this.lifecycle.close&&this.lifecycle.close(this)}finally{this.connection.close()}}}},98995:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeWorkerTarget=void 0;const n=r(44936),i=r(97208);t.NodeWorkerTarget=class{constructor(e,t,r,i,o,s){this.launchConfig=e,this.targetInfo=t,this.parentTarget=r,this.targetOriginValue=i,this.cdp=o,this.logger=s,this.onNameChanged=(new n.EventEmitter).event,this.attached=!1,this.isWaitingForDebugger=!0,o.pause()}id(){return this.targetInfo.targetId}name(){return this.targetInfo.title}fileName(){return this.targetInfo.url}type(){return"node"}parent(){return this.parentTarget}children(){return[]}canStop(){return!1}stop(){}canRestart(){return!1}restart(){}canAttach(){return!this.attached}async attach(){return await Promise.all([this.cdp.Debugger.enable({}),this.cdp.Runtime.enable({})]),this.attached=!0,this.cdp}canDetach(){return this.attached}async detach(){await this.cdp.Debugger.resume({}),await this.cdp.NodeWorker.detach({sessionId:this.targetInfo.targetId}),this.attached=!1}targetOrigin(){return this.targetOriginValue}afterBind(){return this.cdp.resume(),Promise.resolve()}async runIfWaitingForDebugger(){this.isWaitingForDebugger=!1,await this.cdp.Runtime.runIfWaitingForDebugger({})}initialize(){return Promise.resolve()}waitingForDebugger(){return this.isWaitingForDebugger}supportsCustomBreakpoints(){return!1}scriptUrlToUrl(e){return"/"===e[0]||"win32"===process.platform&&":"===e[1]&&"\\"===e[2]?(0,i.absolutePathToFileUrl)(e):e}executionContextName(){return this.targetInfo.title}}},45957:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.NvmResolver=t.INvmResolver=void 0;const c=s(r(57147)),u=r(57147),l=r(55053),p=s(r(22037)),d=s(r(71017)),h=r(26379),f=r(78986),m=r(44413),g=r(1032);t.INvmResolver=Symbol("INvmResolver");let y=class{constructor(e=new h.LocalFsUtils(u.promises),t=process.env,r=process.arch,n=process.platform,i=p.homedir()){this.fsUtils=e,this.env=t,this.arch=r,this.platform=n,this.homedir=i}async resolveNvmVersionPath(e){let t,r=this.env.NVS_HOME;if(!r){const e="win32"===this.platform?d.join(this.env.LOCALAPPDATA||"","nvs"):d.join(this.env.HOME||"",".nvs");c.existsSync(e)&&(r=e)}const n=[],i=this.parseVersionString(e);if(i.nvsFormat||r){if(t=await this.resolveNvs(r,i),!t&&i.nvsFormat)throw new g.ProtocolError((0,m.nvmVersionNotFound)(e,"nvs"));n.push("nvs")}if(!t)if("win32"===this.platform)this.env.NVM_HOME&&(t=await this.resolveWindowsNvm(e),n.push("nvm-windows"));else{const r=this.env.NVM_DIR||d.join(this.homedir,".nvm");await this.fsUtils.exists(r)&&(t=await this.resolveUnixNvm(e),n.push("nvm"))}if(!n.length)throw new g.ProtocolError((0,m.nvmNotFound)());if(!t||!await this.fsUtils.exists(t))throw new g.ProtocolError((0,m.nvmVersionNotFound)(e,n.join("/")));return{directory:t,binary:await this.getBinaryInFolder(t)}}async getBinaryInFolder(e){return await(0,f.some)(["node64.exe","node64"].map((t=>this.fsUtils.exists(d.join(e,t)))))?"node64":"node"}async resolveNvs(e,{remoteName:t,semanticVersion:r,arch:n}){if(!e)throw new g.ProtocolError((0,m.nvsNotFound)());const i=this.findBinFolderForVersion(d.join(e,t),r,(e=>c.existsSync(d.join(e,n))));if(i)return"win32"!==this.platform?d.join(i,n,"bin"):d.join(i,n)}async resolveUnixNvm(e){let t=this.env.NVM_DIR;if(!t){const e=d.join(this.env.HOME||"",".nvm");await this.fsUtils.exists(e)&&(t=e)}if(!t)throw new g.ProtocolError((0,m.nvmNotFound)());const r=this.findBinFolderForVersion(d.join(t,"versions","node"),`v${e}`);return r?d.join(r,"bin"):void 0}async resolveWindowsNvm(e){const t=this.env.NVM_HOME;if(!t)throw new g.ProtocolError((0,m.nvmHomeNotFound)());return this.findBinFolderForVersion(t,`v${e}`)}findBinFolderForVersion(e,t,r){if(!c.existsSync(e))return;const n=c.readdirSync(e);if(n.includes(t))return d.join(e,t);const i=n.filter((e=>e.startsWith(`${t}.`))).sort(b).filter((t=>!r||r(d.join(e,t)))).pop();return i?d.join(e,i):void 0}parseVersionString(e){const t=/^(([\w-]+)\/)?(v?(\d+(\.\d+(\.\d+)?)?))(\/((x86)|(32)|((x)?64)|(arm\w*)|(ppc\w*)))?$/i.exec(e);if(!t)throw new Error("Invalid version string: "+e);return{nvsFormat:!(!t[2]&&!t[8]),remoteName:t[2]||"node",semanticVersion:t[4]||"",arch:function(e){switch(e){case"32":case"x86":case"ia32":return"x86";case"64":case"x64":case"amd64":return"x64";case"arm":const t=process.config.variables.arm_version;return t?"armv"+t+"l":"arm";default:return e}}(t[8]||this.arch)}}};y=o([(0,l.injectable)(),a(0,(0,l.inject)(h.IFsUtils))],y),t.NvmResolver=y;const b=(e,t)=>{const r=/([0-9]+)\.([0-9]+)\.([0-9]+)/.exec(e),n=/([0-9]+)\.([0-9]+)\.([0-9]+)/.exec(t);if(!r||!n)return(n?-1:0)+(r?1:0);const[,i,o,s]=r,[,a,c,u]=n;return Number(i)-Number(a)||Number(o)-Number(c)||Number(s)-Number(u)}},13213:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PackageJsonProvider=t.noPackageJsonProvider=t.IPackageJsonProvider=void 0;const o=r(55053),s=r(71017),a=r(26379),c=r(7678),u=r(97208),l=r(73454);t.IPackageJsonProvider=Symbol("IPackageJsonProvider"),t.noPackageJsonProvider={getPath:()=>Promise.resolve(void 0),getContents:()=>Promise.resolve(void 0)};let p=class{constructor(e,t){this.fs=e,this.config=t,this.getPath=(0,c.once)((async()=>{if("pwa-node"!==this.config.type||"launch"!==this.config.request)return;const e=await(0,u.nearestDirectoryContaining)(this.fs,this.config.cwd,"package.json");return e?(0,s.join)(e,"package.json"):void 0})),this.getContents=(0,c.once)((async()=>{const e=await this.getPath();if(e)try{const t=await this.fs.readFile(e);return JSON.parse(t.toString())}catch(e){return}}))}};p=n([(0,o.injectable)(),i(0,(0,o.inject)(a.IFsUtils)),i(1,(0,o.inject)(l.AnyLaunchConfiguration))],p),t.PackageJsonProvider=p},88031:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getNodeLaunchArgs=t.IProgramLauncher=void 0;const s=o(r(71017));t.IProgramLauncher=Symbol("IProgramLauncher"),t.getNodeLaunchArgs=e=>{let t=e.program;if(t&&s.isAbsolute(t)){const r=s.relative(e.cwd,t);t=s.isAbsolute(r)?r:`.${s.sep}${r}`}return t?[...e.runtimeArgs,t,...e.args]:[...e.runtimeArgs,...e.args]}},40210:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalProcess=t.WatchDogProgram=t.StubProgram=t.SubprocessProgram=t.CombinedProgram=void 0;const n=r(54495);t.CombinedProgram=class{constructor(e,t){this.a=e,this.b=t,this.stopped=Promise.race([this.a.stopped.then((async e=>await this.b.stop()&&e)),this.b.stopped.then((async e=>await this.a.stop()&&e))])}gotTelemetery(e){this.a.gotTelemetery(e),this.b.gotTelemetery(e)}async stop(){return(await Promise.all([this.a.stop(),this.b.stop()]))[0]}},t.SubprocessProgram=class{constructor(e,t,r){this.child=e,this.logger=t,this.killBehavior=r,this.killed=!1,this.stopped=new Promise(((t,r)=>{e.once("exit",(e=>t({killed:this.killed,code:e||0}))),e.once("error",(e=>r({killed:this.killed,code:1,error:e})))}))}gotTelemetery(){}stop(){return this.killed=!0,(0,n.killTree)(this.child.pid,this.logger,this.killBehavior),this.stopped}};class i{constructor(){this.stopped=new Promise((e=>this.stopDefer=e))}gotTelemetery(e){this.telemetry=e}stop(){return this.stopDefer({code:0,killed:!0}),this.stopped}}t.StubProgram=i,t.WatchDogProgram=class extends i{constructor(e){super(),this.wd=e,e.onEnd(this.stopDefer)}stop(){return this.wd.dispose(),this.stopped}};class o{constructor(e,t,r){this.terminalResult=e,this.logger=t,this.killBehavior=r,this.didStop=!1,this.stopped=new Promise((e=>this.onStopped=t=>{this.didStop=!0,e({code:0,killed:t})})),e.processId&&this.startPollLoop(e.processId)}gotTelemetery({processId:e}){this.didStop?(0,n.killTree)(e,this.logger,this.killBehavior):this.loop||this.startPollLoop(e)}stop(){return this.didStop||(this.didStop=!0,this.loop?((0,n.killTree)(this.loop.processId,this.logger,this.killBehavior),this.startPollLoop(this.loop.processId,o.killConfirmInterval)):this.terminalResult.shellProcessId?((0,n.killTree)(this.terminalResult.shellProcessId,this.logger,this.killBehavior),this.startPollLoop(this.terminalResult.shellProcessId,o.killConfirmInterval)):this.onStopped(!0)),this.stopped}startPollLoop(e,t=o.terminationPollInterval){this.loop&&clearInterval(this.loop.timer);const r={processId:e,timer:setInterval((()=>{(function(e){try{return process.kill(e,0),!0}catch(e){return!1}})(e)||(clearInterval(r.timer),this.onStopped(!0))}),t)};this.loop=r}}t.TerminalProcess=o,o.terminationPollInterval=1e3,o.killConfirmInterval=200},95077:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.RestartPolicyFactory=void 0;const i=r(55053);let o=class{create(e){var t,r;return!1===e?new a:new s(!0===e?{maxAttempts:1/0,delay:1e3}:{maxAttempts:null!==(t=e.maxAttempts)&&void 0!==t?t:1/0,delay:null!==(r=e.delay)&&void 0!==r?r:1e3})}};o=n([(0,i.injectable)()],o),t.RestartPolicyFactory=o;class s{constructor(e,t=0){this.options=e,this.attempt=t}get delay(){return this.options.delay}next(){return this.attempt===this.options.maxAttempts?void 0:new s(this.options,this.attempt+1)}reset(){return this.attempt?new s(this.options):this}}class a{constructor(){this.delay=-1}next(){}reset(){return this}}},77584:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SubprocessProgramLauncher=void 0;const o=r(32081),s=r(55053),a=r(94570),c=r(15501),u=r(88031),l=r(40210);let p=class{constructor(e){this.logger=e}canLaunch(e){return"internalConsole"===e.console}async launchProgram(e,t,r){const{executable:n,args:i,shell:s}=d(e,(0,u.getNodeLaunchArgs)(t));r.dap.output({category:"console",output:[n,...i].join(" ")});const c=(0,o.spawn)(n,i,{shell:s,cwd:t.cwd,env:a.EnvironmentVars.merge(a.EnvironmentVars.processEnv(),t.env).defined()});return"console"===t.outputCapture?this.discardStdio(r.dap,c):this.captureStdio(r.dap,c),new l.SubprocessProgram(c,this.logger,t.killBehavior)}captureStdio(e,t){t.stdout.on("data",(t=>e.output({category:"stdout",output:t.toString()}))),t.stderr.on("data",(t=>e.output({category:"stderr",output:t.toString()}))),t.stdout.resume(),t.stderr.resume()}discardStdio(e,t){let r=[];const n=()=>{r&&e.output({category:"stderr",output:Buffer.concat(r).toString()})},i=Buffer.from("Debugger attached."),o=e=>{e.includes(i)?(r=void 0,t.stderr.removeListener("data",o)):r&&r.push(e)};t.stderr.on("data",o),t.on("error",(t=>{n(),e.output({category:"stderr",output:t.stack||t.message})})),t.on("exit",(t=>{null!==t&&t>0&&(n(),e.output({category:"stderr",output:`Process exited with code ${t}\r\n`}))})),t.stdout.resume(),t.stderr.resume()}};p=n([(0,s.injectable)(),i(0,(0,s.inject)(c.ILogger))],p),t.SubprocessProgramLauncher=p;const d=(e,t)=>{if("win32"===process.platform&&e.endsWith(".ps1")&&(t=["-File",e,...t],e="powershell.exe"),"win32"!==process.platform||!e.includes(" "))return{executable:e,args:t,shell:!1};let r=!1;const n=[];for(const e of t)e.includes(" ")?(n.push(`"${e}"`),r=!0):n.push(e);return r?{executable:`"${e}"`,args:n,shell:!0}:{executable:e,args:t,shell:!1}}},71592:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalNodeLauncher=void 0;const c=r(6113),u=r(55053),l=r(22037),p=s(r(71017)),d=s(r(89496)),h=r(91183),f=r(44936),m=r(15501),g=r(1032),y=r(99010),b=r(74966),v=r(82252),w=r(33811);class _{constructor(e){this.terminal=e,this.stopped=new Promise((t=>{const r=d.window.onDidCloseTerminal((n=>{n===e&&(t({code:0,killed:!0}),r.dispose())}))}))}gotTelemetery(){}stop(){return this.terminal.sendText(""),setTimeout((()=>this.terminal.dispose()),1),this.stopped}}let S=class extends w.NodeLauncherBase{constructor(e,t,r,n,i){super(e,t,i,n),this.fs=r,this.terminalCreatedEmitter=new f.EventEmitter,this.callbackFile=p.join((0,l.tmpdir)(),`node-debug-callback-${(0,c.randomBytes)(8).toString("hex")}`),this.onTerminalCreated=this.terminalCreatedEmitter.event}async getProcessTelemetry(){try{return JSON.parse(await this.fs.readFile(this.callbackFile,"utf-8"))}catch(e){return}}resolveParams(e){return"node-terminal"===e.type&&"launch"===e.request?e:"pwa-chrome"===e.type&&e.server&&"command"in e.server?e.server:void 0}async launchProgram(e){let t;try{t=await this.resolveNodePath(e.params)}catch(e){if(e instanceof g.ProtocolError&&9230===e.cause.id)throw e;t=new v.NodeBinary("node",void 0)}const r=await this.resolveEnvironment(e,t,{fileCallback:this.callbackFile}),n=await this.createTerminal({name:e.params.name,cwd:e.params.cwd,iconPath:new d.ThemeIcon("debug"),env:(0,v.hideDebugInfoFromConsole)(t,r).defined(),isTransient:!0});this.terminalCreatedEmitter.fire(n),n.show();const i=this.program=new _(n);e.params.command&&n.sendText(e.params.command,!0),i.stopped.then((e=>{i===this.program&&this.onProgramTerminated(e)}))}createTerminal(e){return Promise.resolve(d.window.createTerminal(e))}dispose(){super.dispose(),this.fs.unlink(this.callbackFile).catch((()=>{}))}};S=o([(0,u.injectable)(),a(0,(0,u.inject)(v.INodeBinaryProvider)),a(1,(0,u.inject)(m.ILogger)),a(2,(0,u.inject)(y.FS)),a(3,(0,u.inject)(b.ISourcePathResolverFactory)),a(4,(0,u.inject)(h.IPortLeaseTracker))],S),t.TerminalNodeLauncher=S},72518:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalProgramLauncher=void 0;const o=r(55053),s=r(15501),a=r(7678),c=r(44413),u=r(1032),l=r(88031),p=r(40210);let d=class{constructor(e){this.logger=e}canLaunch(e){return e.internalConsoleOptions,"internalConsole"!==e.console}async launchProgram(e,t,r){const n={kind:"integratedTerminal"===t.console?"integrated":"external",title:t.name,cwd:t.cwd,args:[e,...(0,l.getNodeLaunchArgs)(t)],env:(0,a.removeNulls)(t.env)};let i;try{i=await this.sendLaunchRequest(n,r)}catch(e){throw new u.ProtocolError((0,c.cannotLaunchInTerminal)(e.message))}return new p.TerminalProcess(i,this.logger,t.killBehavior)}sendLaunchRequest(e,t){return t.dap.runInTerminalRequest(e)}};d=n([(0,o.injectable)(),i(0,(0,o.inject)(s.ILogger))],d),t.TerminalProgramLauncher=d},29801:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WatchDog=void 0;const s=o(r(41808)),a=r(34517),c=r(2940),u=r(25370),l=r(44936),p=r(74839),d=r(81446);class h{constructor(e,t){var r;this.info=e,this.server=t,this.onEndEmitter=new l.EventEmitter,this.gracefulExit=!1,this.targetAlive=!1,this.targetInfo={targetId:null!==(r=this.info.ownId)&&void 0!==r?r:(0,d.createTargetId)(),processId:Number(this.info.pid)||0,type:this.info.waitForDebugger?"waitingForDebugger":"",title:this.info.scriptName,url:"file://"+this.info.scriptName,openerId:this.info.openerId,attached:!0,canAccessOpener:!1,processInspectorPort:Number(new URL(this.info.inspectorURL).port)},this.onEnd=this.onEndEmitter.event,this.listenToServer()}get isTargetAlive(){return this.targetAlive}static async attach(e){const t=await new Promise(((t,r)=>{const n=s.createConnection(e.ipcAddress,(()=>t(n)));n.on("error",r)})),r=new a.RawPipeTransport(p.Logger.null,t);return new h(e,r)}listenToServer(){const{server:e,targetInfo:t}=this;e.send(JSON.stringify({method:"Target.targetCreated",params:{targetInfo:t}})),e.onMessage((async([t])=>{if(this.target&&!t.includes("Target.attachToTarget")&&!t.includes("Target.detachFromTarget"))return void this.target.send(t);const r=await this.execute(t);r&&e.send(JSON.stringify(r))})),e.onEnd((()=>{this.disposeTarget(),this.onEndEmitter.fire({killed:this.gracefulExit,code:this.gracefulExit?0:1})}))}dispose(){this.gracefulExit=!0,this.disposeTarget(),this.server.dispose()}async execute(e){var t;const r=JSON.parse(e);switch(r.method){case"Target.attachToTarget":return this.target&&this.disposeTarget(),this.target=await this.createTarget(),{id:r.id,result:{sessionId:this.targetInfo.targetId,__dynamicAttach:!!this.info.dynamicAttach||void 0}};case"Target.detachFromTarget":return this.gracefulExit=!0,this.disposeTarget(),{id:r.id,result:{}};default:return void(null===(t=this.target)||void 0===t||t.send(r))}}async createTarget(){this.gracefulExit=!1;const e=await c.WebSocketTransport.create(this.info.inspectorURL,u.NeverCancelled);return e.onMessage((([e])=>this.server.send(e))),e.onEnd((()=>{e&&this.server.send(JSON.stringify({method:"Target.targetDestroyed",params:{targetId:this.targetInfo.targetId,sessionId:this.targetInfo.targetId}})),this.targetAlive=!1,this.server.dispose()})),e}disposeTarget(){this.target&&(this.target.dispose(),this.target=void 0)}}t.WatchDog=h},18937:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SourceMapOverrides=void 0;const n=r(79783),i=r(36268),o=new RegExp((0,i.escapeRegexSpecialChars)("*"),"g"),s="?:*",a=new RegExp((0,i.escapeRegexSpecialChars)(s),"g"),c=(e,t)=>{const r=t.match(e);return e.lastIndex=0,r?r.length:0},u=new RegExp(`${(0,i.escapeRegexSpecialChars)(s)}|${(0,i.escapeRegexSpecialChars)("*")}`,"g");t.SourceMapOverrides=class{constructor(e,t){this.logger=t,this.replacers=[];const r=Object.keys(e).sort(((e,t)=>t.replace(s,"*").length-e.replace(s,"*").length));for(const s of r){let r=e[s];if(!r.includes("*")&&/\$[0-9'`&]/.test(r)){this.replacers.push([new RegExp(`^${s}$`,"i"),r]);continue}const l=(0,n.forceForwardSlashes)(s),p=`"${l}": "${r}"`,d=c(o,l)-c(a,l);if(d>1){t.warn("runtime.sourcemap",`Warning: only one asterisk allowed in a sourceMapPathOverrides entry - ${p}`);continue}if(c(o,r)>d){t.warn("runtime.sourcemap",`The right side of a sourceMapPathOverrides entry must have 0 or 1 asterisks - ${p}}`);continue}let h="^",f=0;for(u.lastIndex=0;;){const e=u.exec(l);if(h+=(0,i.escapeRegexSpecialChars)(l.slice(f,null==e?void 0:e.index),"/"),!e)break;"*"===e[0]?h+="(.*?)":h+=".*?",f=e.index+e[0].length}0===d&&(h+="([\\/\\\\].*)?",r+="*"),this.replacers.push([new RegExp(h+"$","i"),r.replace(/\$/g,"$$$$").replace(/\*/,"$1")])}}apply(e){const t=(0,n.forceForwardSlashes)(e);for(const[r,i]of this.replacers){const o=t.replace(r,i);if(o!==t)return this.logger.verbose("runtime.sourcemap",`SourceMap: mapping ${e} => ${o}, via sourceMapPathOverrides entry - ${r.toString()}`),(0,n.properJoin)(o)}return e}}},48055:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SourcePathResolverBase=void 0;const a=s(r(48586)),c=o(r(71017)),u=r(94723),l=r(79783),p=r(97208),d=r(18937),h=/\x00/;t.SourcePathResolverBase=class{constructor(e,t){var r;this.options=e,this.logger=t,this.sourceMapOverrides=new d.SourceMapOverrides(this.options.sourceMapOverrides,this.logger),this.resolveLocations=null===(r=this.options.resolveSourceMapLocations)||void 0===r?void 0:r.map((e=>{const t=(e=e.replace(/\.[a-z0-9]+$/,".*")).startsWith("!")?"!":"",r=e.slice(t.length);return(0,p.isAbsolute)(r)?t+(0,l.properResolve)(r):e}))}shouldResolveSourceMap({sourceMapUrl:e,compiledPath:t}){if(t.startsWith(u.node15InternalsPrefix))return!1;if(!this.resolveLocations||0===this.resolveLocations.length)return!0;const r=(0,p.fileUrlToAbsolutePath)(e)||(0,p.isDataUri)(e)&&t||e;if(r.startsWith("webpack-internal:///"))return!0;const n=!/^[a-z]+:/i.test(e)&&(0,p.getCaseSensitivePaths)(),i=e=>(e=(0,l.forceForwardSlashes)(e),n?e:e.toLowerCase()),o=this.rebaseRemoteToLocal(r),s=o!==r?[r,o]:[r];return(0,a.default)(s.map(i),this.resolveLocations.map(i),{dot:!0}).length>0}rebaseRemoteToLocal(e){if(!this.options.remoteRoot||!this.options.localRoot||!this.canMapPath(e))return c.resolve(e);const t=(0,l.properRelative)(this.options.remoteRoot,e);if(t.startsWith(".."))return"";let r=(0,l.properJoin)(this.options.localRoot,t);return r=(0,l.fixDriveLetter)(r),this.logger.verbose("runtime.sourcemap",`Mapped remoteToLocal: ${e} -> ${r}`),(0,l.properResolve)(r)}rebaseLocalToRemote(e){if(!this.options.remoteRoot||!this.options.localRoot||!this.canMapPath(e))return e;const t=(0,l.properRelative)(this.options.localRoot,e);let r=(0,l.properJoin)(this.options.remoteRoot,t);return r=(0,l.fixDriveLetterAndSlashes)(r,!0),this.logger.verbose("runtime.sourcemap",`Mapped localToRemote: ${e} -> ${r}`),r}normalizeSourceMapUrl(e){const t=(e=e.replace(h,"")).lastIndexOf("?");return-1!==t&&".vue"!==e.slice(t-4,t)&&(e=e.slice(0,t)),e}canMapPath(e){return c.posix.isAbsolute(e)||c.win32.isAbsolute(e)||(0,p.isFileUrl)(e)}}},74966:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SourcePathResolverFactory=t.NodeOnlyPathResolverFactory=t.ISourcePathResolverFactory=void 0;const o=r(55053),s=r(24862),a=r(26379),c=r(99010),u=r(64732),l=r(83085),p=r(2347),d=r(64416),h=r(46681);t.ISourcePathResolverFactory=Symbol("ISourcePathResolverFactory");let f=class{constructor(e,t){this.fsUtils=e,this.linkedBp=t}create(e,t){if("pwa-node"===e.type||"node-terminal"===e.type||"pwa-extensionHost"===e.type)return new h.NodeSourcePathResolver(this.fsUtils,h.NodeSourcePathResolver.shouldWarnAboutSymlinks(e)?this.linkedBp:void 0,h.NodeSourcePathResolver.getOptions(e),t);throw new Error(`Not usable for type ${e.type}`)}};f=n([(0,o.injectable)(),i(0,(0,o.inject)(a.IFsUtils)),i(1,(0,o.optional)()),i(1,(0,o.inject)(u.ILinkedBreakpointLocation))],f),t.NodeOnlyPathResolverFactory=f;let m=class{constructor(e,t,r,n){this.initializeParams=e,this.vueMapper=t,this.fsUtils=r,this.linkedBp=n}create(e,t){return"pwa-node"===e.type||"node-terminal"===e.type||"pwa-extensionHost"===e.type?new h.NodeSourcePathResolver(this.fsUtils,h.NodeSourcePathResolver.shouldWarnAboutSymlinks(e)?this.linkedBp:void 0,h.NodeSourcePathResolver.getOptions(e),t):new(e.inspectUri?l.BlazorSourcePathResolver:d.BrowserSourcePathResolver)(this.vueMapper,this.fsUtils,{resolveSourceMapLocations:e.resolveSourceMapLocations,baseUrl:(0,p.baseURL)(e),localRoot:null,remoteRoot:null,pathMapping:{"/":e.webRoot,...e.pathMapping},sourceMapOverrides:e.sourceMapPathOverrides,clientID:this.initializeParams.clientID,remoteFilePrefix:e.__remoteFilePrefix},t)}};m=n([(0,o.injectable)(),i(0,(0,o.inject)(c.IInitializeParams)),i(1,(0,o.inject)(s.IVueFileMapper)),i(2,(0,o.inject)(a.IFsUtils)),i(3,(0,o.optional)()),i(3,(0,o.inject)(u.ILinkedBreakpointLocation))],m),t.SourcePathResolverFactory=m},16362:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MutableTargetOrigin=t.TargetOrigin=t.ITargetOrigin=void 0,t.ITargetOrigin=Symbol("ITargetOrigin"),t.TargetOrigin=class{constructor(e){this.id=e}},t.MutableTargetOrigin=class{constructor(e){this.id=e}}},50036:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ILauncher=t.ITarget=void 0,t.ITarget=Symbol("ITarget"),t.ILauncher=Symbol("ILauncher")},14372:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createLoggers=void 0;const s=o(r(57147)),a=o(r(71017));t.createLoggers=e=>{const t={};function r(t,r){return e({category:"telemetry",output:t,data:r})}return function(e){try{const t=a.resolve(a.dirname(__filename),"..","..",".gitcommit");e.jsDebugCommitId=s.readFileSync(t,"utf8")}catch(e){}}(t),{breakpointStats:e=>r("js-debug/breakpointStats",{...t,...e}),statistics:e=>r("js-debug/statistics",{...t,...e}),browserVersion:e=>{t.browser=(e.targetProject||e.targetProject)+"/"+e.targetVersion,r("js-debug/browserVersion",{...t,...e})},cdpOperation:e=>r("js-debug/cdp/operation",{...t,...e}),dapOperation:e=>r("js-debug/dap/operation",{...t,...e}),error:e=>r("js-debug/error",{...t,...e}),launch:e=>{r("js-debug/launch",{...t,...e,parameters:JSON.stringify(e.parameters)})},nodeRuntime:e=>{t.nodeVersion=e.version,r("js-debug/nodeRuntime",{...t,...e})},diagnosticPrompt:e=>{r("js-debug/diagnosticPrompt",{...t,...e})},setGlobalMetric:(e,r)=>{t[e]=r}}}},63634:function(e,t,r){"use strict";var n,i=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.extractErrorDetails=t.DapTelemetryReporter=void 0;const s=r(55053),a=r(44936),c=r(7678),u=r(99010),l=r(14372),p=r(36753);let d=n=class{constructor(e=!0){this.isVsCode=e,this.target=[],this.flushEmitter=new a.EventEmitter,this.loggers=(0,l.createLoggers)((e=>this.pushOutput(e))),this.batchFlushTimeout={},this.batchers={dapOperation:new p.ReporterBatcher(this.isVsCode),cdpOperation:new p.ReporterBatcher(this.isVsCode)},this.onFlush=this.flushEmitter.event,this.setGlobalMetric=this.loggers.setGlobalMetric}report(e,...t){(0,this.loggers[e])(...t)}reportOperation(e,t,r,i){this.batchers[e].add(t,r,i),void 0===this.batchFlushTimeout[e]&&(this.batchFlushTimeout[e]=setTimeout((()=>{this.report(e,this.batchers[e].flush()),this.batchFlushTimeout[e]=void 0}),n.batchFlushInterval))}attachDap(e){this.target instanceof Array&&this.target.forEach((t=>e.output(t))),this.target=e}flush(){this.flushEmitter.fire();const e=Object.entries(this.batchFlushTimeout);for(const[t,r]of e){const e=this.batchers[t].flush();e.length&&this.report(t,e),this.batchFlushTimeout[t]=void 0,clearTimeout(r)}}dispose(){for(const e of Object.values(this.batchFlushTimeout))e&&clearTimeout(e)}pushOutput(e){e.data=h(e.data),this.target instanceof Array?this.target.push(e):this.target.output(e)}};d.batchFlushInterval=5e3,d=n=i([(0,s.injectable)(),o(0,(0,s.inject)(u.IsVSCode))],d),t.DapTelemetryReporter=d;const h=e=>"number"==typeof e?Number(e.toFixed(1)):"object"==typeof e&&e?e instanceof Error?m(e):e instanceof Array?e.map(h):(0,c.mapValues)(e,h):e,f=/(?:[A-z]:)?(?:[\\/][^:]*)+[\\/]([^:]*:)/g;function m(e){const t=String(e.message),r=String(e.name);return f.lastIndex=0,{error:{message:t,name:r,stack:"string"==typeof e.stack?e.stack.replace(f,"$1"):void 0}}}t.extractErrorDetails=m},78563:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IExperimentationService=void 0,t.IExperimentationService=Symbol("IExperimentationService")},18322:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.NullExperimentationService=void 0;const i=r(55053);let o=class{getTreatment(e,t){return Promise.resolve(t)}};o=n([(0,i.injectable)()],o),t.NullExperimentationService=o},63028:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.NullTelemetryReporter=void 0;const i=r(44936),o=r(55053);let s=class{constructor(){this.flushEmitter=new i.EventEmitter,this.onFlush=this.flushEmitter.event}report(){}reportOperation(){}attachDap(){}flush(){this.flushEmitter.fire()}dispose(){}};s=n([(0,o.injectable)()],s),t.NullTelemetryReporter=s},36753:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReporterBatcher=void 0,t.ReporterBatcher=class{constructor(e=!0){this.isVSCode=e,this.measurements=Object.create(null)}add(e,t,r){let n=this.measurements[e];n||(n=this.measurements[e]={times:[],errors:[]}),n.times.push(t),r&&n.errors.push(r)}flush(){const e={errors:[]};for(const t in this.measurements){const{times:r,errors:n}=this.measurements[t],i={operation:t,totalTime:0,max:0,avg:0,stddev:0,count:r.length,failed:n.length};for(const e of r)i.totalTime+=e,i.max=Math.max(i.max,e);i.avg=i.totalTime/i.count;for(const e of r)i.stddev+=(e-i.avg)**2;i.stddev=Math.sqrt(i.stddev/(r.length-1)),e[i.operation]=i,e[`!${i.operation}.errors`]=n,this.isVSCode||(e[`${i.operation}.errors`]=n)}return this.measurements=Object.create(null),e}}},74529:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logPerf=void 0,t.logPerf=async(e,t,r,n={})=>{const i=Date.now();try{return await r()}finally{e.verbose("perf.function","",{method:t,duration:Date.now()-i,...n})}}},43224:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ITelemetryReporter=void 0,t.ITelemetryReporter=Symbol("ITelemetryReporter")},27812:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.filterErrorsReportedToTelemetry=t.onUncaughtError=t.installUnhandledErrorReporter=void 0;const s=o(r(71017));t.installUnhandledErrorReporter=function(e,r,n){const i=(0,t.onUncaughtError)(e,r,"uncaughtException",n),o=(0,t.onUncaughtError)(e,r,"unhandledRejection",n);return process.addListener("uncaughtException",i),process.addListener("unhandledRejection",o),{dispose:()=>{process.removeListener("uncaughtException",i),process.removeListener("unhandledRejection",o)}}},t.onUncaughtError=(e,t,r,n=!0)=>i=>{(function(e){var t,r;return!c||"object"==typeof(r=e)&&!!r&&"stack"in r&&!!(null===(t=e.stack)||void 0===t?void 0:t.includes(a))})(i)&&(t.report("error",{"!error":i,error:n?void 0:i,exceptionType:r}),e.error("runtime.exception","Unhandled error in debug adapter",i))};const a=s.dirname(s.dirname(s.dirname(__dirname)));let c=!1;t.filterErrorsReportedToTelemetry=function(){c=!0}},60597:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.VSCodeExperimentationService=void 0;const o=r(55053),s=r(62579),a=r(73454),c=r(99010),u=r(63634),l=r(43224);let p=class{constructor(e,t){t&&e instanceof u.DapTelemetryReporter&&(this.service=(0,s.getExperimentationService)("ms-vscode.js-debug",a.packageVersion,a.isNightly?s.TargetPopulation.Insiders:s.TargetPopulation.Public,{setSharedProperty(t,r){e.setGlobalMetric(t,r)},postEvent(t,r){e.pushOutput({category:"telemetry",output:t,data:r})}},t.globalState))}async getTreatment(e,t){if(!this.service)return t;try{return await this.service.getTreatmentVariableAsync("vscode",e,!0)}catch(e){return t}}};p=n([(0,o.injectable)(),i(0,(0,o.inject)(l.ITelemetryReporter)),i(1,(0,o.optional)()),i(1,(0,o.inject)(c.ExtensionContext))],p),t.VSCodeExperimentationService=p},51940:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CascadeTerminationTracker=void 0;const c=r(55053),u=s(r(89496)),l=r(2511);let p=class{constructor(e){this.tracker=e}register(e){e.subscriptions.push(this.tracker.onSessionEnded((e=>{const t=e.configuration.cascadeTerminateToConfigurations;if(t&&t instanceof Array)for(const e of t)for(const t of this.tracker.getByName(e))u.debug.stopDebugging(t)})))}};p=o([(0,c.injectable)(),a(0,(0,c.inject)(l.DebugSessionTracker))],p),t.CascadeTerminationTracker=p},52517:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fixInspectFlags=void 0,t.fixInspectFlags=function(e){if(!e.runtimeArgs||e.attachSimplePort)return;const t=[];for(const r of e.runtimeArgs)/^--inspect-brk(=|$)/.test(r)?e.stopOnEntry=e.stopOnEntry||!0:t.push(r);e.runtimeArgs=t}},73952:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseConfigurationProvider=void 0;const a=r(55053),c=s(r(89496));let u=class{get type(){return this.getType()}get triggerKind(){return this.getTriggerKind()}async provideDebugConfigurations(e,t){try{const r=await this.provide(e,t);return r?r instanceof Array?r:[r]:[]}catch(e){return c.window.showErrorMessage(e.message,{modal:!0}),[]}}};u=o([(0,a.injectable)()],u),t.BaseConfigurationProvider=u},80870:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseConfigurationResolver=void 0;const c=r(55053),u=r(71017),l=s(r(89496)),p=r(8216),d=r(15501),h=r(7678),f=r(73454),m=r(99010);let g=class{constructor(e){this.extensionContext=e}get type(){return this.getType()}async resolveDebugConfiguration(e,t,r){if(t.type&&(t.type=this.getType()),"__pendingTargetId"in t)return t;const n=t;try{const t=await this.resolveDebugConfigurationAsync(e,n,r);return t&&this.commonResolution(t,e)}catch(e){l.window.showErrorMessage(e.message,{modal:!0})}}applyDefaultRuntimeExecutable(e){if(e.runtimeExecutable)return;const t=(0,p.readConfig)(l.workspace,"debug.javascript.defaultRuntimeExecutable"),r=t?t[e.type]:void 0;r&&(e.runtimeExecutable=r)}commonResolution(e,t){var r,n,i;return e.trace=(0,d.fulfillLoggerOptions)(e.trace,this.extensionContext.logPath),e.__workspaceCachePath=this.extensionContext.storagePath,e.__breakOnConditionalError=null!==(r=(0,p.readConfig)(l.workspace,"debug.javascript.breakOnConditionalError",t))&&void 0!==r&&r,t?e.__workspaceFolder=t.uri.fsPath:(e.__workspaceFolder||(e.__workspaceFolder=this.getSuggestedWorkspaceFolders(e).filter(h.truthy).filter((e=>!e.includes("${workspaceFolder}"))).map((e=>{var t;return(0,u.isAbsolute)(e)?null===(t=l.workspace.getWorkspaceFolder(l.Uri.file(e)))||void 0===t?void 0:t.uri.fsPath:e})).find(h.truthy)||(null===(i=null===(n=l.workspace.workspaceFolders)||void 0===n?void 0:n[0])||void 0===i?void 0:i.uri.fsPath)||""),e=e.__workspaceFolder?(0,f.resolveWorkspaceInConfig)(e):(0,f.removeOptionalWorkspaceFolderUsages)(e)),e}getSuggestedWorkspaceFolders(e){return[]}};g=o([(0,c.injectable)(),a(0,(0,c.inject)(m.ExtensionContext))],g),t.BaseConfigurationResolver=g},51899:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ChromeDebugConfigurationProvider=t.ChromeDebugConfigurationResolver=void 0;const i=r(73454),o=r(3261),s=r(55053);let a=class extends o.ChromiumDebugConfigurationResolver{async resolveDebugConfigurationAsync(e,t){if(!t.name&&!t.type&&!t.request){const e=(new c).createLaunchConfigFromContext();if(!e)return null;t=e}return await this.resolveBrowserCommon(e,t),"attach"===t.request?{...i.chromeAttachConfigDefaults,...t}:{...i.chromeLaunchConfigDefaults,...t}}getType(){return"pwa-chrome"}};a=n([(0,s.injectable)()],a),t.ChromeDebugConfigurationResolver=a;let c=class extends o.ChromiumDebugConfigurationProvider{getType(){return"pwa-chrome"}};c=n([(0,s.injectable)()],c),t.ChromeDebugConfigurationProvider=c},3261:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ChromiumDebugConfigurationProvider=t.ChromiumDebugConfigurationResolver=void 0;const c=r(55053),u=r(22037),l=r(71017),p=s(r(89496)),d=s(r(33463)),h=r(77551),f=r(26379),m=r(78986),g=r(99010),y=r(73952),b=r(80870),v=r(54268),w=r(74747),_=d.loadMessageBundle(r(71017).join(__dirname,"ui\\configuration\\chromiumDebugConfigurationProvider.js"));let S=class extends b.BaseConfigurationResolver{constructor(e,t,r,n,i){super(e),this.nodeProvider=t,this.terminalProvider=r,this.location=n,this.fs=i}async resolveBrowserCommon(e,t){if(t.request,t.server&&"program"in t.server){const r={...t.server,type:"pwa-node",request:"launch",name:`${t.name}: Server`};t.server=await this.nodeProvider.resolveDebugConfiguration(e,r)}else t.server&&"command"in t.server&&(t.server=await this.terminalProvider.resolveDebugConfiguration(e,{...t.server,type:"node-terminal",request:"launch",name:`${t.name}: Server`}));const r="remote"===this.location?"ui":"workspace";if("launch"!==t.request||t.browserLaunchLocation||(t.browserLaunchLocation=r),"attach"===t.request&&!t.browserAttachLocation&&(t.browserAttachLocation=r),"launch"===t.request){const e=t;this.applyDefaultRuntimeExecutable(e)}}getSuggestedWorkspaceFolders(e){return[e.rootPath,e.webRoot]}async resolveDebugConfigurationWithSubstitutedVariables(e,t){if("__pendingTargetId"in t)return t;let r=t;if("launch"===r.request){const e=await this.ensureNoLockfile(r);if(void 0===e)return;r=e}return r}async ensureNoLockfile(e){var t,r;if("launch"!==e.request)return e;const n=e;if(!1===n.userDataDir)return e;if(n.port&&!await(0,h.isPortOpen)(n.port))return e;const i="string"==typeof n.userDataDir?n.userDataDir:(0,l.join)(null!==(t=this.extensionContext.storagePath)&&void 0!==t?t:(0,u.tmpdir)(),(null===(r=n.runtimeArgs)||void 0===r?void 0:r.includes("--headless"))?".headless-profile":".profile"),o=(0,l.join)(i,"win32"===process.platform?"lockfile":"SingletonLock");if(await(0,m.some)([(0,f.existsWithoutDeref)(this.fs,o),this.isVsCodeLocked((0,l.join)(i,"code.lock"))])){const e=_(0,null);if(await p.window.showErrorMessage(_(1,null,!0===n.userDataDir?_(2,null):_(3,null)),{modal:!0},e)!==e)return}return{...e,userDataDir:i}}async isVsCodeLocked(e){try{const t=Number(await this.fs.readFile(e,"utf-8"));return process.kill(t,0),!0}catch(e){return!1}}};S=o([(0,c.injectable)(),a(0,(0,c.inject)(g.ExtensionContext)),a(1,(0,c.inject)(v.NodeConfigurationResolver)),a(2,(0,c.inject)(w.TerminalDebugConfigurationResolver)),a(3,(0,c.inject)(g.ExtensionLocation)),a(4,(0,c.inject)(g.FS))],S),t.ChromiumDebugConfigurationResolver=S;let k=class extends y.BaseConfigurationProvider{provide(){return this.createLaunchConfigFromContext()||this.getDefaultLaunch()}getTriggerKind(){return p.DebugConfigurationProviderTriggerKind.Initial}createLaunchConfigFromContext(){const e=p.window.activeTextEditor;if(e&&"html"===e.document.languageId)return{type:this.getType(),request:"launch",name:`Open ${(0,l.basename)(e.document.uri.fsPath)}`,file:e.document.uri.fsPath}}getDefaultLaunch(){return{type:this.getType(),request:"launch",name:_(4,null),url:"http://localhost:8080",webRoot:"${workspaceFolder}"}}};k=o([(0,c.injectable)()],k),t.ChromiumDebugConfigurationProvider=k},18234:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IDebugConfigurationProvider=t.IDebugConfigurationResolver=void 0,t.IDebugConfigurationResolver=Symbol("IDebugConfigurationResolver"),t.IDebugConfigurationProvider=Symbol("IDebugConfigurationProvider")},59434:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.EdgeDebugConfigurationProvider=t.EdgeDebugConfigurationResolver=void 0;const a=r(55053),c=s(r(33463)),u=r(73454),l=r(3261),p=c.loadMessageBundle(r(71017).join(__dirname,"ui\\configuration\\edgeDebugConfigurationProvider.js"));let d=class extends l.ChromiumDebugConfigurationResolver{async resolveDebugConfigurationAsync(e,t){var r;if(!t.name&&!t.type&&!t.request){const e=(new h).createLaunchConfigFromContext();if(!e)return;t=e}return await this.resolveBrowserCommon(e,t),t.useWebView&&(t.timeout=null!==(r=t.timeout)&&void 0!==r?r:0),"attach"===t.request?{...u.edgeAttachConfigDefaults,...t}:{...u.edgeLaunchConfigDefaults,...t}}getType(){return"pwa-msedge"}};d=o([(0,a.injectable)()],d),t.EdgeDebugConfigurationResolver=d;let h=class extends l.ChromiumDebugConfigurationProvider{getType(){return"pwa-msedge"}getDefaultLaunch(){return{...super.getDefaultLaunch(),name:p(0,null)}}};h=o([(0,a.injectable)()],h),t.EdgeDebugConfigurationProvider=h},91763:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionHostConfigurationResolver=void 0;const i=r(57147),o=r(55053),s=r(71017),a=r(73454),c=r(80870);let u=class extends c.BaseConfigurationResolver{async resolveDebugConfigurationAsync(e,t){if(void 0===t.debugWebWorkerHost){const r=await p(e,t);t={...t,debugWebWorkerHost:1===r.length&&"web"===r[0]}}return t.debugWebWorkerHost&&(t.outFiles=[]),Promise.resolve({...a.extensionHostConfigDefaults,...t})}getType(){return"pwa-extensionHost"}};u=n([(0,o.injectable)()],u),t.ExtensionHostConfigurationResolver=u;const l="--extensionDevelopmentPath=",p=async(e,t)=>{var r,n,o,c;const u=null===(r=t.args)||void 0===r?void 0:r.find((e=>e.startsWith(l)));if(!u)return["workspace"];const p=(0,a.resolveVariableInConfig)(u.slice(l.length),"workspaceFolder",null!==(o=null!==(n=null==e?void 0:e.uri.fsPath)&&void 0!==n?n:t.__workspaceFolder)&&void 0!==o?o:"");let d;try{const e=await i.promises.readFile((0,s.join)(p,"package.json"),"utf-8");d=null!==(c=JSON.parse(e).extensionKind)&&void 0!==c?c:"workspace"}catch(e){return["workspace"]}return d instanceof Array?d:[d]}},72852:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.allConfigurationProviders=t.allConfigurationResolvers=void 0,i(r(18234),t);const o=r(51899),s=r(59434),a=r(91763),c=r(98102),u=r(54268),l=r(74747);t.allConfigurationResolvers=[o.ChromeDebugConfigurationResolver,s.EdgeDebugConfigurationResolver,a.ExtensionHostConfigurationResolver,u.NodeConfigurationResolver,l.TerminalDebugConfigurationResolver],t.allConfigurationProviders=[o.ChromeDebugConfigurationProvider,s.EdgeDebugConfigurationProvider,c.NodeInitialDebugConfigurationProvider,c.NodeDynamicDebugConfigurationProvider]},98102:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.NodeDynamicDebugConfigurationProvider=t.NodeInitialDebugConfigurationProvider=void 0;const a=r(55053),c=s(r(71017)),u=s(r(89496)),l=s(r(33463)),p=r(7678),d=r(73454),h=r(65055),f=r(7905),m=r(73952),g=r(54268),y=l.loadMessageBundle(r(71017).join(__dirname,"ui\\configuration\\nodeDebugConfigurationProvider.js"));let b=class extends m.BaseConfigurationProvider{provide(e){return(0,g.createLaunchConfigFromContext)(e,!0)}getType(){return"pwa-node"}getTriggerKind(){return u.DebugConfigurationProviderTriggerKind.Initial}};b=o([(0,a.injectable)()],b),t.NodeInitialDebugConfigurationProvider=b;const v=["cwd","program"];let w=class extends m.BaseConfigurationProvider{async provide(e){const t=(0,p.flatten)(await Promise.all([this.getFromNpmScripts(e),this.getFromActiveFile()]));if(e)for(const r of t){const t=r;for(const r of v){const n=t[r];n&&c.isAbsolute(n)&&(t[r]=c.join("${workspaceFolder}",c.relative(e.uri.fsPath,n)))}}return t}getType(){return"pwa-node"}getTriggerKind(){return u.DebugConfigurationProviderTriggerKind.Dynamic}async getFromNpmScripts(e){const t={type:"node-terminal",name:y(0,null),request:"launch",cwd:null==e?void 0:e.uri.fsPath};if(!e)return[t];const r=await(0,h.findScripts)([e.uri.fsPath],!0);if(!r)return[t];const n=await(0,f.getPackageManager)(e);return r.map((e=>({type:"node-terminal",name:y(1,null,e.name),request:"launch",command:`${n} run ${e.name}`,cwd:e.directory}))).concat(t)}getFromActiveFile(){const e=u.window.activeTextEditor;return e&&d.breakpointLanguages.includes(e.document.languageId)&&"file"===e.document.uri.scheme?[{type:"pwa-node",name:y(2,null),request:"launch",program:e.document.uri.fsPath}]:[]}};w=o([(0,a.injectable)()],w),t.NodeDynamicDebugConfigurationProvider=w},54268:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.createLaunchConfigFromContext=t.guessWorkingDirectory=t.NodeConfigurationResolver=void 0;const c=r(57147),u=r(55053),l=s(r(71017)),p=s(r(89496)),d=s(r(33463)),h=r(97878),f=r(94570),m=r(77551),g=r(26379),y=r(79783),b=r(78986),v=r(97208),w=r(73454),_=r(99010),S=r(45957),k=r(52517),P=r(66678),x=r(80870),C=d.loadMessageBundle(r(71017).join(__dirname,"ui\\configuration\\nodeDebugConfigurationResolver.js"));let E=class extends x.BaseConfigurationResolver{constructor(e,t,r){super(e),this.nvmResolver=t,this.fsUtils=r}async resolveDebugConfigurationWithSubstitutedVariables(e,t){const r=t;if("pwa-node"===r.type&&"attach"===r.request&&"string"==typeof r.processId&&await(0,P.resolveProcessId)(this.fsUtils,r),r.cwd){const e=await(0,g.existsInjected)(c.promises,r.cwd);if(!e)return void p.window.showErrorMessage(C(0,null,r.cwd),{modal:!0});if(!e.isDirectory())return void p.window.showErrorMessage(C(1,null,r.cwd),{modal:!0})}return r}async resolveDebugConfigurationAsync(e,t,r){if(t.name||t.type||t.request||"launch"!==(t=await M(e,!0,t)).request||t.program){if(t.cwd||(t.cwd=t.localRoot||D("launch"===t.request?t.program:void 0,e)),t.remoteRoot&&!t.localRoot&&(t.localRoot="${workspaceFolder}"),"launch"===t.request){this.applyDefaultRuntimeExecutable(t);const n=t.runtimeVersion;if("string"==typeof n&&"default"!==n){const{directory:e,binary:r}=await this.nvmResolver.resolveNvmVersionPath(n);t.env=new f.EnvironmentVars(t.env).addToPath(e,"prepend",!0).value,t.runtimeExecutable=t.runtimeExecutable&&"node"!==t.runtimeExecutable?t.runtimeExecutable:r}if("integratedTerminal"!==t.console||t.internalConsoleOptions||(t.internalConsoleOptions="neverOpen"),null===t.attachSimplePort||void 0===t.attachSimplePort)(0,k.fixInspectFlags)(t);else{if(0===t.attachSimplePort){t.attachSimplePort=await(0,m.findOpenPort)(void 0,r);const e=`--inspect-brk=${t.attachSimplePort}`;t.runtimeArgs=t.runtimeArgs?[...t.runtimeArgs,e]:[e]}t.continueOnAttach=!t.stopOnEntry,t.stopOnEntry=!1}await async function(e,t,r){if(r.outFiles||!t)return;let n;if(r.program?(n=O(t,r.program),n&&(n=l.dirname(n))):r.cwd&&(n=O(t,r.cwd)),!n||(0,y.isSubpathOrEqualTo)(t.uri.fsPath,n))return;const i=await(0,v.nearestDirectoryWhere)(n,(async t=>!t.includes("node_modules")&&await e.exists(l.join(t,"package.json"))));if(i){const e=(0,y.forceForwardSlashes)(l.relative(t.uri.fsPath,i));e.length&&(r.outFiles=[...w.baseDefaults.outFiles,`\${workspaceFolder}/${e}/**/*.js`,`!\${workspaceFolder}/${e}/**/node_modules/**`])}}(this.fsUtils,e,t)}return(0,w.applyNodeDefaults)(t)}p.window.showErrorMessage(C(2,null),{modal:!0})}getType(){return"pwa-node"}getSuggestedWorkspaceFolders(e){return[e.rootPath,e.cwd]}};function D(e,t){if(t)return t.uri.fsPath;if(p.workspace.workspaceFolders&&p.workspace.workspaceFolders.length>0)return p.workspace.workspaceFolders[0].uri.fsPath;if(e){if("${file}"===e)return"${fileDirname}";if(l.isAbsolute(e))return l.dirname(e)}return"${workspaceFolder}"}function O(e,t){var r;return e&&(t=(0,w.resolveVariableInConfig)(t,"workspaceFolder",e.uri.fsPath)),(null===(r=p.workspace.workspaceFolders)||void 0===r?void 0:r.length)&&(t=(0,w.resolveVariableInConfig)(t,"workspaceRoot",p.workspace.workspaceFolders[0].uri.fsPath)),l.isAbsolute(t)?t:e?l.join(e.uri.fsPath,t):void 0}E=o([(0,u.injectable)(),a(0,(0,u.inject)(_.ExtensionContext)),a(1,(0,u.inject)(S.INvmResolver)),a(2,(0,u.inject)(g.IFsUtils))],E),t.NodeConfigurationResolver=E,t.guessWorkingDirectory=D;const A=["index.js","main.js"];async function M(e,t,r){var n;const i={type:"pwa-node",request:"launch",name:C(3,null),skipFiles:["<node_internals>/**"]};r&&r.noDebug&&(i.noDebug=!0);const o=await T(e,"package.json");let s,a=!1;if(o&&"mern-starter"===o.name)return t&&(0,h.writeToConsole)(C(4,null,"Mern Starter")),function(e){"launch"===e.request&&(e.runtimeExecutable="nodemon",e.program="${workspaceFolder}/index.js",e.restart=!0,e.env={BABEL_DISABLE_CACHE:"1",NODE_ENV:"development"},e.console="integratedTerminal",e.internalConsoleOptions="neverOpen")}(i),i;if(o&&(s=await async function(e,t,r){let n;try{if(t.main?n=t.main:t.scripts&&"string"==typeof t.scripts.start&&(n=t.scripts.start.split(" ").pop()),n){let t;if(l.isAbsolute(n)?t=n:(t=e?l.join(e.uri.fsPath,n):void 0,n=l.join("${workspaceFolder}",n)),r&&t&&!await(0,g.existsInjected)(c.promises,t)&&!await(0,g.existsInjected)(c.promises,t+".js"))return}}catch(e){}return n}(e,o,t),s&&t&&(0,h.writeToConsole)(C(5,null))),!s){const t=p.window.activeTextEditor;t&&w.breakpointLanguages.includes(t.document.languageId)&&(a="javascript"!==t.document.languageId,s=e?l.relative(e.uri.fsPath,t.document.uri.fsPath):t.document.uri.fsPath,l.isAbsolute(s)||(s="${workspaceFolder}"+l.sep+s))}if(!s&&e){const t=e.uri.fsPath;s=await(0,b.some)(A.map((async e=>await(0,g.existsInjected)(c.promises,l.join(t,e))&&"${workspaceFolder}"+l.sep+e)))}if(s||(s="${file}"),s&&(i.program=s,e||(i.__workspaceFolder=l.dirname(s))),a||p.workspace.textDocuments.some((e=>{return"typescript"===(t=e.languageId)||"coffeescript"===t;var t}))){t&&(0,h.writeToConsole)(C(6,null));let r="";const o=await T(e,"tsconfig.json");if((null===(n=null==o?void 0:o.compilerOptions)||void 0===n?void 0:n.outDir)&&function(){const e=p.workspace.getConfiguration().get("typescript.tsc.autoDetect");return"off"!==e&&"watch"!==e}()){const e=o.compilerOptions.outDir;l.isAbsolute(e)||(r=e,0===r.indexOf("./")&&(r=r.substr(2)),"/"!==r[r.length-1]&&(r+="/")),i.preLaunchTask="tsc: build - tsconfig.json"}i.outFiles=["${workspaceFolder}/"+r+"**/*.js"]}return i}async function T(e,t){if(e)try{const r=await c.promises.readFile(l.join(e.uri.fsPath,t),"utf8");return JSON.parse(r)}catch(e){}}t.createLaunchConfigFromContext=M},74747:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalDebugConfigurationResolver=void 0;const s=o(r(89496)),a=r(8216),c=r(73454),u=r(80870),l=r(54268);class p extends u.BaseConfigurationResolver{async resolveDebugConfigurationAsync(e,t){if(t.cwd||(t.cwd=(0,l.guessWorkingDirectory)(void 0,e)),"launch"!==t.request||t.command)return t.remoteRoot&&!t.localRoot&&(t.localRoot="${workspaceFolder}"),(0,c.applyTerminalDefaults)(t);await(0,a.runCommand)(s.commands,"extension.js-debug.createDebuggerTerminal",void 0,e)}getType(){return"node-terminal"}}t.TerminalDebugConfigurationResolver=p},67809:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DebugLinkUi=void 0;const c=r(55053),u=r(57310),l=s(r(89496)),p=s(r(33463)),d=r(8216),h=r(8261),f=r(99010),m=p.loadMessageBundle(r(71017).join(__dirname,"ui\\debugLinkUI.js"));function g(e,t){if(e){try{if(new u.URL(e).hostname)return e}catch(e){}try{const r=`http://${e}`,n=new u.URL(r);if(!t||n.port)return r}catch(e){}}}let y=class{constructor(e,t){this.defaultBrowser=e,this.context=t}register(e){e.subscriptions.push(l.commands.registerCommand("extension.js-debug.debugLink",(e=>this.handle(e))))}async handle(e){var t,r,n;if(!(e=null!==(t=null!=e?e:await this.getLinkFromTextEditor())&&void 0!==t?t:await this.getLinkFromQuickInput()))return;let i="pwa-chrome";try{3===await this.defaultBrowser.lookup()&&(i="pwa-msedge")}catch(e){}const o=null!==(r=(0,d.readConfig)(l.workspace,"debug.javascript.debugByLinkOptions"))&&void 0!==r?r:{},s={..."string"==typeof o?{}:o,type:i,name:e,request:"launch",url:e};l.debug.startDebugging(null===(n=l.workspace.workspaceFolders)||void 0===n?void 0:n[0],s),this.persistConfig(s)}getLinkFromTextEditor(){const e=l.window.activeTextEditor;if(e)return g(e.document.getText(e.selection),!0)}async getLinkFromQuickInput(){const e=await l.env.clipboard.readText(),t=await l.window.showInputBox({value:g(e,!1)||this.mostRecentLink,placeHolder:"https://localhost:8080",validateInput:e=>{if(e&&!g(e,!1))return m(0,null)}});if(t)return this.mostRecentLink=t,t}async persistConfig(e){var t;if(!1===this.context.globalState.get("saveDebugLinks"))return;const r=l.workspace.getConfiguration("launch"),n=null!==(t=r.get("configurations"))&&void 0!==t?t:[];if(n.some((t=>t.url===e.url)))return;const i=m(1,null),o=m(2,null),s=await l.window.showInformationMessage(m(3,null),i,m(4,null),o);s===o&&this.context.globalState.update("saveDebugLinks",!1),s===i&&await r.update("configurations",[...n,e])}};y=o([(0,c.injectable)(),a(0,(0,c.inject)(h.IDefaultBrowserProvider)),a(1,(0,c.inject)(f.ExtensionContext))],y),t.DebugLinkUi=y},65055:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.findScripts=t.debugNpmScript=void 0;const s=o(r(57147)),a=o(r(71017)),c=o(r(89496)),u=o(r(33463)),l=r(8216),p=r(26379),d=r(7905),h=u.loadMessageBundle(r(71017).join(__dirname,"ui\\debugNpmScript.js"));t.debugNpmScript=async function(e){const t=await m(e?[e]:void 0);if(!t)return;const r=async e=>{const t=c.workspace.getWorkspaceFolder(c.Uri.file(e.directory));(0,l.runCommand)(c.commands,"extension.js-debug.createDebuggerTerminal",await(0,d.getRunScriptCommand)(e.name,t),t,{cwd:e.directory})};if(1===t.length)return r(t[0]);const n=t.some((e=>e.directory!==t[0].directory)),i=c.window.createQuickPick();i.items=t.map((e=>({script:e,label:n?`${a.basename(e.directory)}: ${e.name}`:e.name,description:e.command}))),i.onDidAccept((async()=>{r(i.selectedItems[0].script),i.dispose()})),i.show()};const f=(e,t)=>e.score>t.score?e:t;async function m(e,t=!1){var r,n;const i=null!==(n=null!=e?e:null===(r=c.workspace.workspaceFolders)||void 0===r?void 0:r.map((e=>e.uri.fsPath)))&&void 0!==n?n:[];if(!i||0===i.length)return void(t||c.window.showErrorMessage(h(0,null)));const o=i.map((e=>a.join(e,"package.json"))),u=[];let l={path:o[0],score:0};for(const e of o){if(!s.existsSync(e))continue;let r;l=f(l,{path:e,score:1});try{r=JSON.parse(await(0,p.readfile)(e))}catch(r){t||g("showWarningMessage",h(1,null,e,r.message),e),l=f(l,{path:void 0,score:3});continue}if(l=f(l,{path:void 0,score:2}),r.scripts)for(const t of Object.keys(r.scripts))u.push({directory:a.dirname(e),name:t,command:r.scripts[t]})}if(0!==u.length)return u.sort(((e,t)=>("start"===e.name?-1:0)+("start"===t.name?1:0))),u;l.path&&!t&&g("showErrorMessage",h(2,null),l.path)}async function g(e,t,r){const n=h(3,null);if(await c.window[e](t,n)!==n)return;if(s.existsSync(r)){const e=await c.workspace.openTextDocument(r);return void await c.window.showTextDocument(e)}const i=await c.workspace.openTextDocument(c.Uri.file(r).with({scheme:"untitled"})),o=await c.window.showTextDocument(i);await o.edit((e=>e.insert(new c.Position(0,0),'{\n  "scripts": {\n    \n  }\n}\n')));const a=new c.Position(2,5);o.selection=new c.Selection(a,a)}t.findScripts=m},2511:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DebugSessionTracker=void 0;const c=r(55053),u=a(r(89496)),l=r(8216);let p=n=class{constructor(){this._onSessionAddedEmitter=new u.EventEmitter,this._onSessionEndedEmitter=new u.EventEmitter,this._disposables=[],this.sessions=new Map,this.onSessionAdded=this._onSessionAddedEmitter.event,this.onSessionEnded=this._onSessionEndedEmitter.event}static isConcreteSession(e){return!!e.configuration.__pendingTargetId}static pickSession(e,t){if(e.length<2)return e[0];const r=u.window.createQuickPick();return r.title=t,r.items=e.map((e=>({label:e.name,id:e.id}))),r.ignoreFocusOut=!0,new Promise((t=>{r.onDidAccept((()=>t(e.find((e=>{var t;return e.id===(null===(t=r.selectedItems[0])||void 0===t?void 0:t.id)}))))),r.onDidHide((()=>t(void 0))),r.show()})).finally((()=>r.dispose()))}get isDebugging(){return this.sessions.size>0}getById(e){return this.sessions.get(e)}isRunning(e){return[...this.sessions.values()].includes(e)}getByName(e){return[...this.sessions.values()].filter((t=>t.name===e))}getConcreteSessions(){return[...this.sessions.values()].filter(n.isConcreteSession)}getChildren(e){return[...this.sessions.values()].filter((t=>t.configuration.__parentId===e.id))}attach(){u.debug.onDidStartDebugSession((e=>{(0,l.isDebugType)(e.type)&&(this.sessions.set(e.id,e),this._onSessionAddedEmitter.fire(e))}),void 0,this._disposables),u.debug.onDidTerminateDebugSession((e=>{(0,l.isDebugType)(e.type)&&(this.sessions.delete(e.id),this._onSessionEndedEmitter.fire(e))}),void 0,this._disposables),u.debug.onDidReceiveDebugSessionCustomEvent((e=>{if((0,l.isDebugType)(e.session.type))if("revealLocationRequested"!==e.event)if("copyRequested"!==e.event);else{const t=e.body;u.env.clipboard.writeText(t.text)}else{const t=e.body,r=u.debug.asDebugSourceUri(e.body.source),n={};if(t.line){const e=new u.Position((t.line||1)-1,(t.column||1)-1);n.selection=new u.Range(e,e)}u.window.showTextDocument(r,n)}}),void 0,this._disposables)}dispose(){for(const e of this._disposables)e.dispose();this._disposables=[]}};p=n=s([(0,c.injectable)()],p),t.DebugSessionTracker=p},76223:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticsUI=void 0;const c=r(55053),u=s(r(89496)),l=s(r(33463)),p=r(8216),d=r(99010),h=r(2511),f=l.loadMessageBundle(r(71017).join(__dirname,"ui\\diagnosticsUI.js")),m="neverRemind";let g=class{constructor(e,t,r){this.fs=e,this.context=t,this.tracker=r,this.dismissedForSession=!1,this.isPrompting=!1}register(e){e.subscriptions.push((0,p.registerCommand)(u.commands,"extension.js-debug.getDiagnosticLogs",(async()=>{const e=await this.getTargetSession();if(!e)return;const t=await u.window.showSaveDialog({filters:{JSON:["json"]}});t&&e.customRequest("saveDiagnosticLogs",{toFile:t.fsPath})})),(0,p.registerCommand)(u.commands,"extension.js-debug.createDiagnostics",(async()=>this.getDiagnosticInfo(await this.getTargetSession()))),u.debug.onDidReceiveDebugSessionCustomEvent((async t=>{if("openDiagnosticTool"===t.event)return this.openDiagnosticTool(t.body.file);if("suggestDiagnosticTool"!==t.event||this.dismissedForSession||this.context.workspaceState.get(m)||this.isPrompting)return;this.isPrompting=!0;const r=f(0,null),n=f(1,null),i=f(2,null),o=await u.window.showInformationMessage("It looks like you might be having trouble with breakpoints. Would you like to open our diagnostic tool?",r,n,i);switch(this.isPrompting=!1,o){case r:this.getDiagnosticInfo(await this.getTargetSession(),!0);break;case i:e.workspaceState.update(m,!0);break;case n:this.dismissedForSession=!0}})))}getTargetSession(){const e=u.debug.activeDebugSession;if(!e||!(0,p.isDebugType)(null==e?void 0:e.type))return this.pickSession();if(h.DebugSessionTracker.isConcreteSession(e))return e;const t=this.tracker.getChildren(e);return 1===t.length?t[0]:this.pickSession()}pickSession(){return h.DebugSessionTracker.pickSession(this.tracker.getConcreteSessions(),f(3,null))}async getDiagnosticInfo(e,t=!1){if(!e||!this.tracker.isRunning(e))return void u.window.showErrorMessage(f(4,null));const{file:r}=await e.customRequest("createDiagnostics",{fromSuggestion:t});await this.openDiagnosticTool(r)}async openDiagnosticTool(e){u.window.createWebviewPanel("jsDebugDiagnostics","Debug Diagnostics",u.ViewColumn.Active,{enableScripts:!0}).webview.html=await this.fs.readFile(e,"utf-8")}};g=o([(0,c.injectable)(),a(0,(0,c.inject)(d.FS)),a(1,(0,c.inject)(d.ExtensionContext)),a(2,(0,c.inject)(h.DebugSessionTracker))],g),t.DiagnosticsUI=g},84986:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DisableSourceMapUI=void 0;const a=r(55053),c=s(r(89496)),u=s(r(33463)),l=r(8216),p=u.loadMessageBundle(r(71017).join(__dirname,"ui\\disableSourceMapUI.js"));let d=class{register(e){e.subscriptions.push(c.debug.onDidReceiveDebugSessionCustomEvent((e=>{if("suggestDisableSourcemap"!==e.event||!(0,l.isDebugType)(e.session.type))return;const t=e.body;this.unmap(e.session,t.source).catch((e=>c.window.showErrorMessage(e.message)))})))}async unmap(e,t){((0,l.readConfig)(c.workspace,"debug.javascript.unmapMissingSources")||await this.prompt())&&await e.customRequest("disableSourcemap",{source:t})}async prompt(){const e=p(0,null),t=p(1,null),r=p(2,null);switch(await c.window.showInformationMessage(p(3,null),e,t,p(4,null),r)){case e:return(0,l.writeConfig)(c.workspace,"debug.javascript.unmapMissingSources",!0,c.ConfigurationTarget.Global),!0;case t:return(0,l.writeConfig)(c.workspace,"debug.javascript.unmapMissingSources",!0,c.ConfigurationTarget.Workspace),!0;case r:return!0;default:return!1}}};d=o([(0,a.injectable)()],d),t.DisableSourceMapUI=d},1718:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.EdgeDevToolOpener=void 0;const c=r(55053),u=s(r(89496)),l=s(r(33463)),p=r(8216),d=r(2511),h=l.loadMessageBundle(r(71017).join(__dirname,"ui\\edgeDevToolOpener.js")),f=e=>{if("pwa-msedge"!==(null==e?void 0:e.type))return!1;const t=e.configuration.__browserTargetType;return"iframe"===t||"page"===t};let m=class{constructor(e){this.tracker=e}register(e){e.subscriptions.push((0,p.registerCommand)(u.commands,"extension.js-debug.openEdgeDevTools",(async()=>{const e=u.debug.activeDebugSession&&f(u.debug.activeDebugSession)?u.debug.activeDebugSession:await d.DebugSessionTracker.pickSession(this.tracker.getConcreteSessions().filter(f),h(0,null));if(!e)return;const t=function(e){let t=e;for(;t.parentSession;)t=t.parentSession;return t}(e);try{return await u.commands.executeCommand("vscode-edge-devtools.attachToCurrentDebugTarget",e.id,t.configuration)}catch(e){if(e instanceof Error&&/command .+ not found/.test(e.message))return u.commands.executeCommand("workbench.extensions.action.showExtensionsWithIds",["ms-edgedevtools.vscode-edge-devtools"]);throw e}})))}};m=o([(0,c.injectable)(),a(0,(0,c.inject)(d.DebugSessionTracker))],m),t.EdgeDevToolOpener=m},35874:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExcludedCallersUI=t.ExcludedCaller=void 0;const c=r(6113),u=r(55053),l=r(71017),p=s(r(89496)),d=r(8216),h=r(2511),f=({name:e,line:t,column:r,source:n})=>`${e} (${(0,l.basename)(String(n.path))}:${t}:${r})`,m=({name:e,line:t,column:r,source:n})=>`${e} (${n.path}:${t}:${r})`,g=async({line:e,column:t,source:r})=>{if(0!==r.sourceReference||!r.path)return;const n=p.Uri.file(r.path),i=await p.workspace.openTextDocument(n),o=await p.window.showTextDocument(i),s=new p.Position(e-1,t-1);o.revealRange(new p.Range(s,s)),o.selection=new p.Selection(s,s)};class y{constructor(e,t){this.caller=e,this.target=t,this.treeItem=new p.TreeItem(`${f(e)}  ${f(t)}`,p.TreeItemCollapsibleState.None),this.treeItem.tooltip=`Breaks at ${m(t)} containing ${m(e)} will be skipped`,this.id=this.treeItem.id=(0,c.createHash)("sha1").update(JSON.stringify([e,t])).digest("base64")}toDap(){return{caller:this.caller,target:this.target}}}t.ExcludedCaller=y;let b=class{constructor(e){this.sessionTracker=e,this._onDidChangeTreeData=new p.EventEmitter,this.allCallers=new Map,this.lastHadCallers=!1,this.onDidChangeTreeData=this._onDidChangeTreeData.event}register(e){e.subscriptions.push(p.window.createTreeView("jsExcludedCallers",{treeDataProvider:this}),(0,d.registerCommand)(p.commands,"extension.js-debug.callers.add",(async(e,t)=>{var r;const n=await(null===(r=this.sessionTracker.getById(t.sessionId))||void 0===r?void 0:r.customRequest("stackTrace",{threadId:0,startFrame:0,levels:1}));if(!(null==n?void 0:n.stackFrames.length))return;const i=n.stackFrames[0],o=new y({name:t.frameName,column:t.frameLocation.range.startColumn,line:t.frameLocation.range.startLineNumber,source:t.frameLocation.source},{name:i.name,column:i.column,line:i.line,source:i.source});this.allCallers.set(o.id,o),this.triggerUpdate()})),(0,d.registerCommand)(p.commands,"extension.js-debug.callers.goToCaller",(e=>g(e.caller))),(0,d.registerCommand)(p.commands,"extension.js-debug.callers.gotToTarget",(e=>g(e.target))),(0,d.registerCommand)(p.commands,"extension.js-debug.callers.remove",(async e=>{this.allCallers.delete(e.id),this.triggerUpdate()})),(0,d.registerCommand)(p.commands,"extension.js-debug.callers.removeAll",(async()=>{this.allCallers.clear(),this.triggerUpdate()})),this.sessionTracker.onSessionAdded((e=>{this.allCallers.size>0&&this.sendCallersToSession(e)})))}getTreeItem(e){return e.treeItem}getChildren(e){return e?[]:[...this.allCallers.values()]}sendCallersToSession(e){e.customRequest("setExcludedCallers",{callers:[...this.allCallers.values()].map((e=>e.toDap()))})}triggerUpdate(){this._onDidChangeTreeData.fire(void 0);for(const e of this.sessionTracker.getConcreteSessions())this.sendCallersToSession(e);const e=this.allCallers.size>0;e!==this.lastHadCallers&&((0,d.setContextKey)(p.commands,"jsDebugHasExcludedCallers",e),this.lastHadCallers=e)}};b=o([(0,u.injectable)(),a(0,(0,u.inject)(h.DebugSessionTracker))],b),t.ExcludedCallersUI=b},7905:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRunScriptCommand=t.getPackageManager=void 0;const n=r(89496);t.getPackageManager=async e=>{try{return await n.commands.executeCommand("npm.packageManager",null==e?void 0:e.uri)}catch(e){return"npm"}},t.getRunScriptCommand=async(e,r)=>`${await(0,t.getPackageManager)(r)} run ${e}`},64732:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ILinkedBreakpointLocation=void 0,t.ILinkedBreakpointLocation=Symbol("ILinkedBreakpointLocation")},55226:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedBreakpointLocationUI=void 0;const c=r(55053),u=s(r(33463)),l=r(99010),p=u.loadMessageBundle(r(71017).join(__dirname,"ui\\linkedBreakpointLocationUI.js")),d="linkBpWarnIgnored";let h=class{constructor(e,t){this.vscode=e,this.context=t,this.didWarn=this.context.workspaceState.get(d,!1)}async warn(){if(this.didWarn)return;this.didWarn=!0;const e=p(0,null),t=p(1,null),r=await this.vscode.window.showWarningMessage("It looks like you have symlinked files. You might need to update your configuration to make this work as expected.",t,e);r===t?this.context.workspaceState.update(d,!0):r===e&&this.vscode.env.openExternal(this.vscode.Uri.parse("https://code.visualstudio.com/docs/nodejs/nodejs-debugging#_can-i-debug-if-im-using-symlinks"))}};h=o([(0,c.injectable)(),a(0,(0,c.inject)(l.VSCodeApi)),a(1,(0,c.inject)(l.ExtensionContext))],h),t.LinkedBreakpointLocationUI=h},43530:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.LongPredictionUI=void 0;const c=r(55053),u=r(71017),l=s(r(89496)),p=s(r(33463)),d=r(99010),h=p.loadMessageBundle(r(71017).join(__dirname,"ui\\longPredictionUI.js")),f="omitLongPredictions";let m=class{constructor(e){this.context=e}register(e){e.subscriptions.push(l.debug.onDidReceiveDebugSessionCustomEvent((e=>{"longPrediction"===e.event&&this.promptLongBreakpoint(e.session.workspaceFolder)})))}async promptLongBreakpoint(e){if(this.context.workspaceState.get(f))return;const t=h(0,null),r=h(1,null),n=h(2,null),i=await l.window.showWarningMessage(t,n,r);if(i===n)return void this.context.workspaceState.update(f,!0);if(i!==r)return;if(e||(e=await l.window.showWorkspaceFolderPick()),!e)return void await l.window.showWarningMessage(h(3,null));const o=await l.workspace.openTextDocument((0,u.join)(e.uri.fsPath,".vscode","launch.json"));await l.window.showTextDocument(o)}};m=o([(0,c.injectable)(),a(0,(0,c.inject)(d.ExtensionContext))],m),t.LongPredictionUI=m},51963:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ManagedContextKey=void 0;const s=o(r(89496));t.ManagedContextKey=class{constructor(e){this.key=e}set value(e){e!==this._value&&(this._value=e,s.commands.executeCommand("setContext",this.key,e))}get value(){return this._value}}},43302:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JsDebugPortAttributesProvider=void 0;const o=r(55053),s=r(89496),a=r(91183);let c=class{constructor(e){this.leaseTracker=e,this.cachedResolutions=new Array(16).fill(""),this.cachedResolutionIndex=0}register(e){"function"==typeof s.workspace.registerPortAttributesProvider&&e.subscriptions.push(s.workspace.registerPortAttributesProvider({portRange:[53e3,54e3]},this))}async providePortAttributes(e,t){if(t&&this.cachedResolutions.includes(`${e}:${t}`))return{port:e,autoForwardAction:s.PortAutoForwardAction.Ignore};if(await this.leaseTracker.isRegistered(e)){if(t){const r=this.cachedResolutionIndex++%this.cachedResolutions.length;this.cachedResolutions[r]=`${e}:${t}`}return{port:e,autoForwardAction:s.PortAutoForwardAction.Ignore}}}};c=n([(0,o.injectable)(),i(0,(0,o.inject)(a.IPortLeaseTracker))],c),t.JsDebugPortAttributesProvider=c},43081:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PrettyPrintUI=void 0;const c=r(55053),u=s(r(63477)),l=s(r(89496)),p=r(8216),d=r(2511),h=r(51963);let f=class{constructor(e){this.tracker=e,this.canPrettyPrintKey=new h.ManagedContextKey("jsDebugCanPrettyPrint")}register(e){e.subscriptions.push((0,p.registerCommand)(l.commands,"extension.js-debug.prettyPrint",(()=>this.prettifyActive())),l.window.onDidChangeActiveTextEditor((e=>this.updateEditorState(e))),this.tracker.onSessionAdded((()=>this.updateEditorState(l.window.activeTextEditor))),this.tracker.onSessionEnded((()=>this.updateEditorState(l.window.activeTextEditor))))}async prettifyActive(){const e=l.window.activeTextEditor;if(!e||!this.canPrettyPrint(e))return;const{sessionId:t,source:r}=g(e.document.uri),n=t&&this.tracker.getById(t);if(n)m(n,r,e.selection.start);else for(const t of this.tracker.getConcreteSessions())m(t,r,e.selection.start)}canPrettyPrint(e){return this.tracker.isDebugging&&"javascript"===e.document.languageId&&!e.document.fileName.endsWith("-pretty.js")}updateEditorState(e){var t;this.tracker.isDebugging?e&&this.canPrettyPrint(e)&&e.document.uri.toString()!==(null===(t=this.canPrettyPrintKey.value)||void 0===t?void 0:t[0])&&(this.canPrettyPrintKey.value=[e.document.uri.toString()]):this.canPrettyPrintKey.value=void 0}};f=o([(0,c.injectable)(),a(0,(0,c.inject)(d.DebugSessionTracker))],f),t.PrettyPrintUI=f;const m=(e,t,r)=>e.customRequest("prettyPrintSource",{source:t,line:r.line,column:r.character}),g=e=>{const t=u.parse(e.query);return{sessionId:t.session,source:{path:e.fsPath,sourceReference:Number(t.ref)||0}}}},66678:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.pickProcess=t.resolveProcessId=t.attachProcess=void 0;const s=r(32081),a=r(57147),c=r(71017),u=o(r(89496)),l=o(r(33463)),p=r(8216),d=r(26379),h=r(79783),f=r(97208),m=r(73454),g=r(92800),y=l.loadMessageBundle(r(71017).join(__dirname,"ui\\processPicker.js"));async function b(e,t,r=!1){var n;const i=null===(n=t.processId)||void 0===n?void 0:n.trim(),o=i&&_(i);if(!o||isNaN(o.pid))throw new Error(y(0,null,i));if(o.port||function(e){try{if("win32"===process.platform){const t=`node -e process._debugProcess(${e})`;(0,s.execSync)(t)}else process.kill(e,"SIGUSR1")}catch(t){throw new Error(y(5,null,e,t))}}(o.pid),t.port=o.port||9229,delete t.processId,r){const r=await async function(e,t){var r;const n=t&&await g.processTree.getWorkingDirectory(t);if(!n)return null===(r=u.workspace.workspaceFolders)||void 0===r?void 0:r[0].uri.fsPath;const i=await(0,f.nearestDirectoryContaining)(e,n,"package.json");if(!i)return n;const o=u.workspace.getWorkspaceFolder(u.Uri.file(n));return!o||(0,h.isSubdirectoryOf)(o.uri.fsPath,i)?i:o.uri.fsPath}(e,o.pid);r&&(t.cwd=r)}}async function v(){try{const e=await async function(){const e=/^(?:node|iojs)(?:$|\b)/i;let t=0;const r=u.window.createQuickPick();r.placeholder=y(2,null),r.matchOnDescription=!0,r.matchOnDetail=!0,r.busy=!0,r.show();let n=!1;const i=new Promise((e=>{r.onDidAccept((()=>e(r.selectedItems[0]))),r.onDidHide((()=>e(void 0)))}));g.processTree.lookup(((i,o)=>{if(n)return o;"win32"===process.platform&&0===i.command.indexOf("\\??\\")&&(i.command=i.command.replace("\\??\\",""));const s=(0,c.basename)(i.command,".exe"),{port:a}=(0,g.analyseArguments)(i.args);if(!a&&!e.test(s))return o;const u={label:s,description:i.args,pidAndPort:w(i.pid,a),sortKey:i.date?i.date:t++,detail:a?y(3,null,i.pid,a,"SIGUSR1"):y(4,null,i.pid,"SIGUSR1")},l=o.findIndex((e=>e.sortKey<u.sortKey));return o.splice(-1===l?o.length:l,0,u),r.items=o,o}),[]).then((()=>r.busy=!1)).catch((e=>{u.window.showErrorMessage(`Error listing processes: ${e.message}`),r.dispose()}));const o=await i;return n=!0,r.dispose(),o}();return e?e.pidAndPort:null}catch(e){return await u.window.showErrorMessage(y(1,null,e.message),{modal:!0}),null}}t.attachProcess=async function(){const e=await v();if(!e)return;const t=(0,p.readConfig)(u.workspace,"debug.javascript.pickAndAttachOptions"),r={...m.nodeAttachConfigDefaults,...t,name:"process",processId:e};await b(new d.LocalFsUtils(a.promises),r,!0),await u.debug.startDebugging(r.cwd?u.workspace.getWorkspaceFolder(u.Uri.file(r.cwd)):void 0,r)},t.resolveProcessId=b,t.pickProcess=v;const w=(e,t)=>`${e}:${null!=t?t:""}`,_=e=>{const[t,r]=e.split(":");return{pid:Number(t),port:r?Number(r):void 0}}},18381:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseProcessTree=void 0;const i=r(32081),o=n(r(67794));t.BaseProcessTree=class{constructor(e=i.spawn){this.spawn=e}lookup(e,t){return new Promise(((r,n)=>{const i=this.createProcess(),s=this.createParser();i.on("error",n),i.stderr.on("error",(e=>n(`Error finding processes: ${e.toString()}`))),i.stdout.pipe((0,o.default)(/\r?\n/)).on("data",(r=>{const n=s(r);n&&(t=e(n,t))})),i.on("close",((e,i)=>{0===e?r(t):i?n(new Error(`process terminated with signal: ${i}`)):e&&n(new Error(`process terminated with exit code: ${e}`))}))}))}}},7559:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DarwinProcessTree=void 0;const n=r(71017),i=r(63945),o=r(18381);class s extends o.BaseProcessTree{constructor(e){super(),this.fsUtils=e}async getWorkingDirectory(e){try{const{stdout:t}=await(0,i.spawnAsync)("lsof",["-a","-dcwd","-Fn",`-p${e}`]),r=t.trim().split("\n").pop().slice(1);return r&&(0,n.isAbsolute)(r)&&await this.fsUtils.exists(r)?r:void 0}catch(e){if(e instanceof i.ChildProcessError)return;throw e}}createProcess(){return this.spawn("/bin/ps",["-xo",`pid=PID,ppid=PPID,comm=${"a".repeat(256)},command=COMMAND`])}createParser(){let e;return t=>{if(!e)return void(e=t.indexOf("COMMAND"));const r=/^\W*([0-9]+)\W*([0-9]+)\W*/.exec(t);return r?{pid:Number(r[1]),ppid:Number(r[2]),command:t.slice(r[0].length,e).trim(),args:t.slice(e).trim()}:void 0}}}t.DarwinProcessTree=s},51381:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PosixProcessTree=void 0;const n=r(7559);class i extends n.DarwinProcessTree{createProcess(){return this.spawn("/bin/ps",["-axo","pid=PID,ppid=PPID,comm:30,command=COMMAND"])}createParser(){const e=super.createParser();return t=>{const r=e(t);if(!r)return;let n=r.args.indexOf(r.command);if(-1===n)return r;for(n+=r.command.length;n<r.args.length&&" "!==r.args[n];)n++;return r.command=r.args.substr(0,n),r.args=r.args.substr(n+1),r}}}t.PosixProcessTree=i},92800:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.analyseArguments=t.processTree=void 0;const n=r(57147),i=r(26379),o=r(7559),s=r(51381),a=r(61722),c=new i.LocalFsUtils(n.promises);t.processTree="win32"===process.platform?new a.WindowsProcessTree:"darwin"===process.platform?new o.DarwinProcessTree(c):new s.PosixProcessTree(c),t.analyseArguments=function(e){let t,r,n=/--inspect(-brk)?(=((\[[0-9a-fA-F:]*\]|[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+|[a-zA-Z0-9\.]*):)?(\d+))?/.exec(e);return n&&n.length>=1&&(n.length>=5&&n[4]&&(t=n[4]),n.length>=6&&n[5]&&(r=parseInt(n[5]))),n=/--inspect-port=(\d+)/.exec(e),n&&2===n.length&&(r=parseInt(n[1])),{address:t,port:r}}},61722:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WindowsProcessTree=void 0;const n=r(71017),i=r(18381);class o extends i.BaseProcessTree{async getWorkingDirectory(){}createProcess(){const e=(0,n.join)(process.env.WINDIR||"C:\\Windows","System32","wbem","WMIC.exe");return this.spawn(e,["process","get","CommandLine,CreationDate,ParentProcessId,ProcessId"])}createParser(){const e=/^(.*)\s+([0-9]+)\.[0-9]+[+-][0-9]+\s+([0-9]+)\s+([0-9]+)$/;return t=>{const r=e.exec(t.trim());if(!r||5!==r.length)return;const n=Number(r[4]),i=Number(r[3]),o=Number(r[2]);let s=r[1].trim();if(!isNaN(n)&&!isNaN(i)&&s){let e=s;if('"'===s[0]){const t=s.indexOf('"',1);t>0&&(e=s.substr(1,t-1),s=s.substr(t+2))}else{const t=s.indexOf(" ");t>0?(e=s.substr(0,t),s=s.substr(t+1)):s=""}return{pid:n,ppid:i,command:e,args:s,date:o}}}}}t.WindowsProcessTree=o},94101:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.BreakpointTerminationConditionFactory=void 0;const c=r(55053),u=s(r(71017)),l=s(r(89496)),p=s(r(33463)),d=r(7678),h=r(99010),f=p.loadMessageBundle(r(71017).join(__dirname,"ui\\profiling\\breakpointTerminationCondition.js")),m="breakpointTerminationWarnedSlow";let g=class{constructor(e,t){this.fs=e,this.context=t,this.sortOrder=2,this.id="breakpoint",this.label=f(0,null),this.description=f(1,null)}async onPick(e,t){if(t)return new y(t);const r=l.window.createQuickPick();r.canSelectMany=!0,r.matchOnDescription=!0,r.busy=!0;const n=await new Promise((t=>{r.onDidAccept((()=>t(r.selectedItems))),r.onDidHide((()=>t(void 0))),r.onDidChangeActive((async e=>{if(!e.length)return;const t=e[0].location,r=await l.workspace.openTextDocument(t.uri);l.window.showTextDocument(r,{selection:t.range,preview:!0,preserveFocus:!0})})),r.show(),(async()=>{const t=l.debug.breakpoints.filter((e=>e.enabled&&e instanceof l.SourceBreakpoint)),n=await Promise.all(t.map((t=>e.getDebugProtocolBreakpoint(t)))),i=await this.getCandidates(n,t);r.items=i,r.selectedItems=i,r.busy=!1})()}));return r.dispose(),n?(await this.warnSlowCode(),new y(n.map((e=>Number(e.id))))):void 0}async warnSlowCode(){this.context.workspaceState.get(m)||(l.window.showWarningMessage(f(2,null),f(3,null)),await this.context.workspaceState.update(m,!0))}async getCandidates(e,t){if(e.length!==t.length)throw new Error("Mismatched breakpoint array lengths");const r=(0,d.memoize)((e=>this.getFileLines(e)));return(await Promise.all(t.map((async(t,n)=>{var i;const o=e[n];if(!o||!o.id)return;const s=t.location,a=l.workspace.getWorkspaceFolder(s.uri),c=a?u.relative(a.uri.fsPath,s.uri.fsPath):s.uri.fsPath,p=await r(s.uri.fsPath);return{id:o.id,label:`${c}:${s.range.start.line}:${s.range.start.character}`,location:s,description:null===(i=null==p?void 0:p[s.range.start.line])||void 0===i?void 0:i.trim()}})))).filter(d.truthy)}async getFileLines(e){try{return(await this.fs.readFile(e,"utf-8")).split("\n")}catch(e){return}}};g=o([(0,c.injectable)(),a(0,(0,c.inject)(h.FS)),a(1,(0,c.inject)(h.ExtensionContext))],g),t.BreakpointTerminationConditionFactory=g;class y{constructor(e){this.breakpointIds=e}get customData(){return{stopAtBreakpoint:this.breakpointIds.slice()}}dispose(){}}},10592:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DurationTerminationConditionFactory=void 0;const a=s(r(33463)),c=s(r(89496)),u=r(55053),l=r(5376),p=a.loadMessageBundle(r(71017).join(__dirname,"ui\\profiling\\durationTerminationCondition.js"));let d=class{constructor(){this.sortOrder=1,this.id="duration",this.label=p(0,null),this.description=p(1,null)}async onPick(e,t){if(t)return new h(1e3*t);const r=c.window.createInputBox();r.title=p(2,null),r.placeholder=p(3,null),this.lastDuration&&(r.value=String(this.lastDuration)),r.onDidChangeValue((e=>{/^[0-9]+$/.test(e)?Number(e)<1?r.validationMessage=p(5,null):r.validationMessage=void 0:r.validationMessage=p(4,null)}));const n=await new Promise((e=>{r.onDidAccept((()=>{if(r.validationMessage)return e(void 0);this.lastDuration=Num